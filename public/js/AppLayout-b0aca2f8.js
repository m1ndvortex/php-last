import{u as e}from"./chunk-44e84328.js";import{m as a,a7 as r,B as t,b as s,K as o,I as n,a8 as i,a9 as l,aa as c,ab as d,a3 as g,j as u,ac as m,F as h}from"./chunk-779da291.js";import{d as v,c as y,x as p,y as x,C as f,k as b,B as k,F as w,E as _,D as j,P as C,u as $,V as S,A as E,K as T,L as A,r as z,o as D,a as I,z as L,W as B,J as F,I as J}from"./chunk-f09d03cd.js";import{_ as K}from"./chunk-8d35e1c0.js";import{u as P}from"./index-1361e470.js";import"./chunk-87351f13.js";import"./chunk-63a63872.js";import"./chunk-e5f6a124.js";import"./chunk-fb812af4.js";const U={class:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700"},H={class:"flex items-center"},M={class:"flex-shrink-0"},O={class:"text-xl font-bold text-gray-900 dark:text-white"},V={class:"mt-5 px-2 space-y-1"},W=v({__name:"AppSidebar",props:{open:{type:Boolean}},emits:["close"],setup(c){const{locale:d}=e(),g=y(()=>"fa"===d.value),u=[{name:"nav.dashboard",href:"/dashboard",icon:r},{name:"nav.invoices",href:"/invoices",icon:t},{name:"nav.inventory",href:"/inventory",icon:s},{name:"nav.customers",href:"/customers",icon:o},{name:"nav.accounting",href:"/accounting",icon:n},{name:"nav.reports",href:"/reports",icon:i},{name:"nav.settings",href:"/settings",icon:l}];return(e,r)=>{const t=C("router-link");return $(),p("div",{class:j(["fixed inset-y-0 z-50 bg-white dark:bg-gray-800 shadow-lg transform transition-all duration-300 ease-in-out w-64",e.open?"translate-x-0":"-translate-x-full",g.value?"right-0 left-auto":"left-0 right-auto"])},[x("div",U,[x("div",H,[x("div",M,[x("h1",O,f(e.$t("app.name")),1)])]),x("button",{onClick:r[0]||(r[0]=a=>e.$emit("close")),class:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"},[b(k(a),{class:"h-6 w-6"})])]),x("nav",V,[($(),p(w,null,_(u,a=>b(t,{key:a.name,to:a.href,onClick:r[1]||(r[1]=a=>e.$emit("close")),class:j(["group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150",e.$route.path===a.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"])},{default:S(()=>[($(),E(T(a.icon),{class:j(["flex-shrink-0 h-6 w-6 transition-colors duration-150",g.value?"ml-3":"mr-3",e.$route.path===a.href?"text-primary-500":"text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-300"])},null,8,["class"])),A(" "+f(e.$t(a.name)),1)]),_:2},1032,["to","class"])),64))])],2)}}}),q=["title"],G=v({__name:"ThemeToggle",setup(e){const a=P(),r=y(()=>a.isDarkMode),t=()=>{a.toggleTheme()};return(e,a)=>($(),p("button",{onClick:t,class:"p-2 rounded-md text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 transition-colors",title:r.value?"Switch to light mode":"Switch to dark mode"},[r.value?($(),E(k(c),{key:0,class:"h-5 w-5"})):($(),E(k(d),{key:1,class:"h-5 w-5"}))],8,q))}}),N={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},Q={class:"border-b border-gray-200 dark:border-gray-700"},R={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},X={class:"flex justify-between items-center h-16"},Y={class:"flex items-center"},Z={class:"flex-shrink-0"},ee={class:"text-xl font-bold text-gray-900 dark:text-white"},ae={class:"flex items-center space-x-4 rtl:space-x-reverse"},re={class:"p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 relative"},te={key:0,class:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center"},se={class:"relative"},oe={class:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center"},ne={class:"text-sm font-medium text-white"},ie={class:"py-1"},le={class:"hidden lg:block bg-gray-50 dark:bg-gray-700/50"},ce={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},de={class:"flex space-x-8 rtl:space-x-reverse"},ge=v({__name:"AppHeader",emits:["toggleSidebar"],setup(a){const{locale:c}=e();F();const d=g(),v=z(!1),P=z(3),U=y(()=>"fa"===c.value),H=[{name:"nav.dashboard",href:"/dashboard",icon:r},{name:"nav.invoices",href:"/invoices",icon:t},{name:"nav.inventory",href:"/inventory",icon:s},{name:"nav.customers",href:"/customers",icon:o},{name:"nav.accounting",href:"/accounting",icon:n},{name:"nav.reports",href:"/reports",icon:i},{name:"nav.settings",href:"/settings",icon:l}],M=y(()=>d.userInitials||"JU"),O=e=>{e.stopPropagation(),v.value=!v.value},V=async()=>{v.value=!1;try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")}),d.cleanupAuthState(),window.dispatchEvent(new CustomEvent("cross-tab-logout",{detail:{initiatingTab:"current",reason:"user_initiated",timestamp:(new Date).toISOString()}})),window.location.href="/login"}catch(e){window.location.href="/login"}},W=()=>{v.value&&(v.value=!1)};return D(()=>{document.addEventListener("click",W)}),I(()=>{document.removeEventListener("click",W)}),(e,a)=>{const r=C("router-link");return $(),p("header",N,[x("div",Q,[x("div",R,[x("div",X,[x("div",Y,[x("button",{onClick:a[0]||(a[0]=a=>e.$emit("toggleSidebar")),class:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 mr-3 rtl:mr-0 rtl:ml-3"},[b(k(u),{class:"h-6 w-6"})]),x("div",Z,[x("h1",ee,f(e.$t("app.name")),1)])]),x("div",ae,[b(K),b(G),x("button",re,[b(k(m),{class:"h-5 w-5"}),P.value>0?($(),p("span",te,f(P.value>9?"9+":P.value),1)):L("",!0)]),x("div",se,[x("button",{onClick:O,class:"flex items-center space-x-2 rtl:space-x-reverse p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors"},[x("div",oe,[x("span",ne,f(M.value),1)]),b(k(h),{class:j(["h-4 w-4 transition-transform duration-200",v.value?"rotate-180":""])},null,8,["class"])]),b(B,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:S(()=>[v.value?($(),p("div",{key:0,onClick:a[3]||(a[3]=J(()=>{},["stop"])),class:j(["absolute top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 origin-top-right",U.value?"left-0":"right-0"]),style:{"z-index":"9999"}},[x("div",ie,[b(r,{to:"/profile",onClick:a[1]||(a[1]=e=>v.value=!1),class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},{default:S(()=>[A(f(e.$t("header.profile")),1)]),_:1}),b(r,{to:"/settings",onClick:a[2]||(a[2]=e=>v.value=!1),class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},{default:S(()=>[A(f(e.$t("header.settings")),1)]),_:1}),a[4]||(a[4]=x("hr",{class:"my-1 border-gray-200 dark:border-gray-600"},null,-1)),x("button",{onClick:V,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},f(e.$t("header.logout")),1)])],2)):L("",!0)]),_:1})])])])])]),x("div",le,[x("div",ce,[x("nav",de,[($(),p(w,null,_(H,a=>b(r,{key:a.name,to:a.href,class:j(["flex items-center px-3 py-3 text-sm font-medium border-b-2 transition-all duration-200 hover:bg-white/50 dark:hover:bg-gray-600/50 rounded-t-md",e.$route.path===a.href?"border-primary-500 text-primary-600 dark:text-primary-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 hover:text-gray-800 hover:border-gray-300 dark:text-gray-300 dark:hover:text-gray-100"])},{default:S(()=>[($(),E(T(a.icon),{class:j(["flex-shrink-0 h-5 w-5 transition-colors duration-200",U.value?"ml-2":"mr-2",e.$route.path===a.href?"text-primary-500":"text-gray-400 group-hover:text-gray-500"])},null,8,["class"])),A(" "+f(e.$t(a.name)),1)]),_:2},1032,["to","class"])),64))])])])])}}}),ue={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},me={class:"flex flex-col min-h-screen"},he={class:"flex-1"},ve={class:"py-6"},ye={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pe=v({__name:"AppLayout",setup(e){const a=z(!1);return(e,r)=>{const t=C("router-view");return $(),p("div",ue,[a.value?($(),p("div",{key:0,class:"fixed inset-0 z-40 lg:hidden",onClick:r[0]||(r[0]=e=>a.value=!1)},r[3]||(r[3]=[x("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75"},null,-1)]))):L("",!0),b(W,{open:a.value,onClose:r[1]||(r[1]=e=>a.value=!1),class:"lg:hidden"},null,8,["open"]),x("div",me,[b(ge,{onToggleSidebar:r[2]||(r[2]=e=>a.value=!a.value)}),x("main",he,[x("div",ve,[x("div",ye,[b(t)])])])])])}}});export{pe as default};
