var e=Object.defineProperty,t=(t,a,r)=>(((t,a,r)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r})(t,"symbol"!=typeof a?a+"":a,r),r);import{c as a,r,l as s,m as o,p as i,q as n,u as l,x as d,y as c,d as u,w as h,o as g,z as p,A as m,B as v,k as w,C as y,F as f,D as b,E as k,G as x,H as _,I,J as S,K as C,L as A}from"./chunk-6e15bf0e.js";import{u as D}from"./chunk-b3261f71.js";import{C as M,a as T,L,P as R,b as E,p as P,c as V,d as B,i as $,e as j}from"./chunk-842293c6.js";import{a as O}from"./chunk-63a63872.js";import{_ as F}from"./chunk-e5f6a124.js";function H(e,t,a=!1){let r=null;return function(...s){const o=a&&!r;r&&clearTimeout(r),r=setTimeout(()=>{r=null,a||e(...s)},t),o&&e(...s)}}const U=new class{constructor(){t(this,"preloadedRoutes",new Map),t(this,"preloadQueue",new Set),t(this,"isPreloading",!1),t(this,"preloadConfigs",new Map),t(this,"preloadBasedOnNavigation",H((e,t)=>{this.predictNextRoutes(e,t).forEach(({route:e,probability:t})=>{t>.3&&this.schedulePreload(e)})},300)),this.setupDefaultConfigs(),this.setupIdlePreloading()}setupDefaultConfigs(){this.preloadConfigs.set("dashboard",{priority:"high",preloadDelay:0,cacheTime:3e5,dependencies:["auth"]}),this.preloadConfigs.set("invoices",{priority:"high",preloadDelay:100,cacheTime:18e4}),this.preloadConfigs.set("inventory",{priority:"high",preloadDelay:200,cacheTime:18e4}),this.preloadConfigs.set("customers",{priority:"medium",preloadDelay:500,cacheTime:12e4}),this.preloadConfigs.set("reports",{priority:"medium",preloadDelay:1e3,cacheTime:12e4}),this.preloadConfigs.set("accounting",{priority:"low",preloadDelay:2e3,cacheTime:6e4}),this.preloadConfigs.set("settings",{priority:"low",preloadDelay:3e3,cacheTime:6e4})}setupIdlePreloading(){setTimeout(()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{this.preloadLowPriorityRoutes()},{timeout:5e3}):setTimeout(()=>{this.preloadLowPriorityRoutes()},2e3)},1e3)}async preloadRoute(e,t){if(this.preloadedRoutes.has(e)){const t=this.preloadedRoutes.get(e);if(Date.now()-t.loadedAt<t.config.cacheTime)return}if(this.preloadQueue.has(e))return;const a=this.preloadConfigs.get(e)||{priority:"medium",preloadDelay:500,cacheTime:12e4};this.preloadQueue.add(e);try{a.preloadDelay>0&&await new Promise(e=>setTimeout(e,a.preloadDelay)),a.dependencies&&await this.preloadDependencies(a.dependencies);const r=await t();this.preloadedRoutes.set(e,{component:r,loadedAt:Date.now(),config:a})}catch(r){}finally{this.preloadQueue.delete(e)}}async preloadDependencies(e){const t=e.map(e=>"auth"===e?this.preloadAuthDependencies():Promise.resolve());await Promise.allSettled(t)}async preloadAuthDependencies(){}getPreloadedRoute(e){const t=this.preloadedRoutes.get(e);return t?Date.now()-t.loadedAt>t.config.cacheTime?(this.preloadedRoutes.delete(e),null):t.component:null}predictNextRoutes(e,t){const a=[],r={dashboard:[{route:"invoices",probability:.6},{route:"inventory",probability:.5},{route:"customers",probability:.4}],invoices:[{route:"customers",probability:.7},{route:"inventory",probability:.5},{route:"dashboard",probability:.3}],inventory:[{route:"invoices",probability:.6},{route:"customers",probability:.4},{route:"reports",probability:.3}],customers:[{route:"invoices",probability:.8},{route:"reports",probability:.4},{route:"dashboard",probability:.3}]}[e]||[];return a.push(...r),t.slice(-3).forEach(e=>{const t=a.find(t=>t.route===e);t?t.probability+=.2:a.push({route:e,probability:.3})}),a.sort((e,t)=>t.probability-e.probability)}schedulePreload(e){if(!this.preloadConfigs.get(e))return;if(this.preloadedRoutes.has(e)||this.preloadQueue.has(e))return;const t=this.getRouteImportFunction(e);t&&this.preloadRoute(e,t)}getRouteImportFunction(e){return{dashboard:()=>F(()=>Promise.resolve().then(()=>tr),void 0,import.meta.url),invoices:()=>F(()=>import("./chunk-bc73e02e.js").then(e=>e.I),["/js/chunk-bc73e02e.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css"],import.meta.url),inventory:()=>F(()=>import("./chunk-4562ab5a.js").then(e=>e.I),["/js/chunk-4562ab5a.js","/js/chunk-6e15bf0e.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css"],import.meta.url),customers:()=>F(()=>import("./CustomersView-eb3c5278.js"),["/js/CustomersView-eb3c5278.js","/js/chunk-bc73e02e.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js"],import.meta.url),reports:()=>F(()=>import("./ReportsView-2cb853e5.js"),["/js/ReportsView-2cb853e5.js","/js/chunk-6e15bf0e.js","/js/chunk-b3261f71.js","/js/index-8f9bb664.js","/js/chunk-4562ab5a.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/css/index-c300e6e7.css","/css/ReportsView-77f36ccd.css"],import.meta.url),accounting:()=>F(()=>import("./AccountingView-7828db94.js"),["/js/AccountingView-7828db94.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js"],import.meta.url),settings:()=>F(()=>import("./SettingsView-de22d4d1.js"),["/js/SettingsView-de22d4d1.js","/js/chunk-bc73e02e.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/index-8f9bb664.js","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/css/index-c300e6e7.css"],import.meta.url),profile:()=>F(()=>import("./ProfileView-8e254f56.js"),["/js/ProfileView-8e254f56.js","/js/chunk-6e15bf0e.js","/js/index-8f9bb664.js","/js/chunk-b3261f71.js","/js/chunk-4562ab5a.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/css/index-c300e6e7.css"],import.meta.url)}[e]||null}preloadLowPriorityRoutes(){Array.from(this.preloadConfigs.entries()).filter(([e,t])=>"low"===t.priority).map(([e])=>e).forEach(e=>{this.preloadedRoutes.has(e)||this.preloadQueue.has(e)||this.schedulePreload(e)})}clearExpiredCache(){const e=Date.now();for(const[t,a]of this.preloadedRoutes.entries())e-a.loadedAt>a.config.cacheTime&&this.preloadedRoutes.delete(t)}getStats(){return{preloadedRoutes:this.preloadedRoutes.size,queuedRoutes:this.preloadQueue.size,cacheHitRate:this.calculateCacheHitRate(),memoryUsage:this.calculateMemoryUsage()}}calculateCacheHitRate(){return.75}calculateMemoryUsage(){return 50*this.preloadedRoutes.size}},N=e=>{try{return r(e)}catch{return r(e)}};const Z=new class{constructor(){t(this,"loadingStates",new Map),t(this,"loadingConfigs",new Map),t(this,"globalLoading",N(!1)),t(this,"activeLoadings",(e=>{try{return s(e)}catch{return s(e)}})(new Set)),this.setupDefaultConfigs()}setupDefaultConfigs(){this.loadingConfigs.set("route",{showSkeleton:!0,showProgress:!0,showMessage:!0,minDisplayTime:200,maxDisplayTime:5e3,skeletonType:"card",progressType:"linear"}),this.loadingConfigs.set("component",{showSkeleton:!0,showProgress:!1,showMessage:!1,minDisplayTime:100,maxDisplayTime:3e3,skeletonType:"card",progressType:"dots"}),this.loadingConfigs.set("api",{showSkeleton:!1,showProgress:!0,showMessage:!0,minDisplayTime:300,maxDisplayTime:1e4,skeletonType:"card",progressType:"circular"}),this.loadingConfigs.set("data",{showSkeleton:!0,showProgress:!1,showMessage:!1,minDisplayTime:150,maxDisplayTime:5e3,skeletonType:"table",progressType:"linear"})}startLoading(e,t="Loading...",a){const r=this.getLoadingState(e),s={...this.loadingConfigs.get("component")||{},...a},o={showSkeleton:s.showSkeleton||!1,showProgress:s.showProgress||!0,showMessage:s.showMessage||!0,minDisplayTime:s.minDisplayTime||300,maxDisplayTime:s.maxDisplayTime||1e4,skeletonType:s.skeletonType||"card",progressType:s.progressType||"circular"};r.value={isLoading:!0,progress:0,message:t,error:null,startTime:Date.now(),estimatedTime:this.estimateLoadingTime(e)},this.activeLoadings.add(e),this.updateGlobalLoading(),this.loadingConfigs.set(e,o)}updateProgress(e,t,a){const r=this.getLoadingState(e);if(r.value.isLoading&&(r.value.progress=Math.min(Math.max(t,0),100),a&&(r.value.message=a),t>0&&r.value.startTime)){const e=(Date.now()-r.value.startTime)/t*100;r.value.estimatedTime=e}}finishLoading(e,t){const a=this.getLoadingState(e),r=this.loadingConfigs.get(e);if(!a.value.isLoading)return;const s=Date.now()-a.value.startTime,o=(null==r?void 0:r.minDisplayTime)||200,i=()=>{a.value={...a.value,isLoading:!1,progress:t?0:100,error:t||null},this.activeLoadings.delete(e),this.updateGlobalLoading()};s<o?setTimeout(i,o-s):i()}setError(e,t){const a=this.getLoadingState(e);a.value={...a.value,isLoading:!1,error:t,progress:0},this.activeLoadings.delete(e),this.updateGlobalLoading()}getLoadingState(e){return this.loadingStates.has(e)||this.loadingStates.set(e,N({isLoading:!1,progress:0,message:"",error:null,startTime:0})),this.loadingStates.get(e)}getLoadingStateReactive(e){return a(()=>this.getLoadingState(e).value)}isAnyLoading(){return this.activeLoadings.size>0}getGlobalLoadingState(){return a(()=>this.globalLoading.value)}updateGlobalLoading(){this.globalLoading.value=this.activeLoadings.size>0}getSkeletonConfig(e){const t=this.loadingConfigs.get(e),a=this.getLoadingState(e).value;if(!t||!t.showSkeleton||!a.isLoading)return{type:"card"};switch(t.skeletonType){case"table":return{type:"table",columns:6,rows:5,showHeader:!0};case"list":return{type:"list",lines:8};case"chart":return{type:"chart",showHeader:!0,showFooter:!1};default:return{type:"card",variant:"default",lines:4,showHeader:!0,showFooter:!1}}}getProgressConfig(e){const t=this.loadingConfigs.get(e),a=this.getLoadingState(e).value;return{show:(null==t?void 0:t.showProgress)&&a.isLoading,type:(null==t?void 0:t.progressType)||"linear",progress:a.progress,message:(null==t?void 0:t.showMessage)?a.message:"",estimatedTime:a.estimatedTime}}estimateLoadingTime(e){return{route:800,component:400,api:1200,data:600,dashboard:1e3,invoices:800,inventory:900,customers:700,reports:1500,accounting:1200}[e]||800}withLoading(e,t,a="Loading...",r){return new Promise(async(s,o)=>{this.startLoading(e,a,r);try{const a=await t();this.finishLoading(e),s(a)}catch(i){this.finishLoading(e,i),o(i)}})}withProgressLoading(e,t,a="Loading...",r){return new Promise(async(s,o)=>{this.startLoading(e,a,r);const i=(t,a)=>{this.updateProgress(e,t,a)};try{const a=await t(i);this.finishLoading(e),s(a)}catch(n){this.finishLoading(e,n),o(n)}})}async batchLoading(e){const t=e.map(({context:e,operation:t,message:a,config:r})=>this.withLoading(e,t,a,r));return Promise.all(t)}clearAll(){this.loadingStates.clear(),this.activeLoadings.clear(),this.globalLoading.value=!1}getStats(){const e=this.activeLoadings.size,t=this.loadingStates.size,a=Array.from(this.activeLoadings).map(e=>{const t=this.getLoadingState(e).value;return t.startTime?Date.now()-t.startTime:0}),r=a.length>0?a.reduce((e,t)=>e+t,0)/a.length:0;return{activeLoadings:e,totalStates:t,averageDuration:Math.round(r),longestLoading:Math.max(...a,0)}}},q=e=>("requestIdleCallback"in window?requestIdleCallback(()=>e()):setTimeout(()=>e(),100),e),z=q(()=>F(()=>Promise.resolve().then(()=>tr),void 0,import.meta.url)),W=q(()=>F(()=>import("./LoginView-9497f885.js"),["/js/LoginView-9497f885.js","/js/chunk-6e15bf0e.js","/js/chunk-4e9b842f.js","/js/chunk-b3261f71.js","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/js/chunk-e5f6a124.js"],import.meta.url)),G=o({history:i("/"),routes:[{path:"/login",name:"login",component:W,meta:{requiresAuth:!1,layout:"auth",preload:!0}},{path:"/forgot-password",name:"forgot-password",component:()=>F(()=>import("./ForgotPasswordView-e1162e0d.js"),["/js/ForgotPasswordView-e1162e0d.js","/js/chunk-6e15bf0e.js","/js/chunk-4e9b842f.js","/js/chunk-b3261f71.js","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/js/chunk-e5f6a124.js"],import.meta.url),meta:{requiresAuth:!1,layout:"auth"}},{path:"/",component:()=>F(()=>import("./AppLayout-f24b06ef.js"),["/js/AppLayout-f24b06ef.js","/js/chunk-b3261f71.js","/js/chunk-6e15bf0e.js","/js/chunk-4e9b842f.js","/js/index-8f9bb664.js","/js/chunk-4562ab5a.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/css/index-c300e6e7.css"],import.meta.url),meta:{requiresAuth:!0},children:[{path:"",redirect:"/dashboard"},{path:"dashboard",name:"dashboard",component:z,meta:{requiresAuth:!0,title:"Dashboard",preload:!0,roles:["admin","manager","user"]}},{path:"invoices",name:"invoices",component:()=>F(()=>import("./chunk-bc73e02e.js").then(e=>e.I),["/js/chunk-bc73e02e.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css"],import.meta.url),meta:{requiresAuth:!0,title:"Invoices",roles:["admin","manager","user"]}},{path:"inventory",name:"inventory",component:()=>F(()=>import("./chunk-4562ab5a.js").then(e=>e.I),["/js/chunk-4562ab5a.js","/js/chunk-6e15bf0e.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css"],import.meta.url),meta:{requiresAuth:!0,title:"Inventory",roles:["admin","manager","user"]}},{path:"customers",name:"customers",component:()=>F(()=>import("./CustomersView-eb3c5278.js"),["/js/CustomersView-eb3c5278.js","/js/chunk-bc73e02e.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js"],import.meta.url),meta:{requiresAuth:!0,title:"Customers",roles:["admin","manager","user"]}},{path:"accounting",name:"accounting",component:()=>F(()=>import("./AccountingView-7828db94.js"),["/js/AccountingView-7828db94.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js"],import.meta.url),meta:{requiresAuth:!0,title:"Accounting",roles:["admin","manager"]}},{path:"reports",name:"reports",component:()=>F(()=>import("./ReportsView-2cb853e5.js"),["/js/ReportsView-2cb853e5.js","/js/chunk-6e15bf0e.js","/js/chunk-b3261f71.js","/js/index-8f9bb664.js","/js/chunk-4562ab5a.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/css/index-c300e6e7.css","/css/ReportsView-77f36ccd.css"],import.meta.url),meta:{requiresAuth:!0,title:"Reports",roles:["admin","manager"]}},{path:"profile",name:"profile",component:()=>F(()=>import("./ProfileView-8e254f56.js"),["/js/ProfileView-8e254f56.js","/js/chunk-6e15bf0e.js","/js/index-8f9bb664.js","/js/chunk-b3261f71.js","/js/chunk-4562ab5a.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/css/index-c300e6e7.css"],import.meta.url),meta:{requiresAuth:!0,title:"Profile",roles:["admin","manager","user"]}},{path:"settings",name:"settings",component:()=>F(()=>import("./SettingsView-de22d4d1.js"),["/js/SettingsView-de22d4d1.js","/js/chunk-bc73e02e.js","/js/chunk-6e15bf0e.js","/js/chunk-4562ab5a.js","/js/chunk-b3261f71.js","/js/chunk-e5f6a124.js","/css/inventory-components-d4ebf3f1.css","/js/index-8f9bb664.js","/js/chunk-842293c6.js","/js/chunk-63a63872.js","/css/index-c300e6e7.css"],import.meta.url),meta:{requiresAuth:!0,title:"Settings",roles:["admin"]}}]},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>F(()=>import("./NotFoundView-a01819f9.js"),["/js/NotFoundView-a01819f9.js","/js/chunk-6e15bf0e.js"],import.meta.url)}]});function J(e){return{dashboard:"card",invoices:"table",inventory:"table",customers:"table",reports:"chart",accounting:"table",settings:"list"}[e]||"card"}G.beforeEach(async(e,t,a)=>{var r;const s=ue(),o=e.matched.some(e=>e.meta.requiresAuth),i=`route-${String(e.name)}`;Z.startLoading(i,`Loading ${(null==(r=e.meta)?void 0:r.title)||String(e.name)}...`,{showSkeleton:!0,skeletonType:J(e.name),showProgress:!1,minDisplayTime:0});try{if(s.initialized||await s.initialize(),o){if(s.isAuthenticated&&!s.isSessionExpiringSoon){const t=s.lastActivity,r=Date.now()-t.getTime();if(r>3e5)try{if(!(await s.validateSession())){await s.cleanupAuthState();const t="/login"!==e.fullPath?e.fullPath:"/dashboard";return Z.finishLoading(i),void a(`/login?returnUrl=${encodeURIComponent(t)}`)}}catch(n){await s.cleanupAuthState();const t="/login"!==e.fullPath?e.fullPath:"/dashboard";return Z.finishLoading(i),void a(`/login?returnUrl=${encodeURIComponent(t)}`)}}else if(!s.isAuthenticated){if(!s.token||s.user){const t="/login"!==e.fullPath?e.fullPath:"/dashboard";return Z.finishLoading(i),void a(`/login?returnUrl=${encodeURIComponent(t)}`)}try{if(!(await s.fetchUser())||!s.isAuthenticated){const t="/login"!==e.fullPath?e.fullPath:"/dashboard";return Z.finishLoading(i),void a(`/login?returnUrl=${encodeURIComponent(t)}`)}}catch(n){await s.cleanupAuthState();const t="/login"!==e.fullPath?e.fullPath:"/dashboard";return Z.finishLoading(i),void a(`/login?returnUrl=${encodeURIComponent(t)}`)}}if(e.meta.roles&&s.user){const t=s.user.role,r=e.meta.roles;if("owner"===t);else if(!t||!r.includes(t))return void a("/dashboard?error=access_denied")}if(e.meta.permissions&&s.user){e.meta.permissions}}if(("login"===e.name||"forgot-password"===e.name)&&s.isAuthenticated){const t=e.query.returnUrl||"/dashboard";return Z.finishLoading(i),void a(t)}if("login"===e.name&&e.query.returnUrl&&s.isAuthenticated){const t=decodeURIComponent(e.query.returnUrl);return t.startsWith("/")&&!t.startsWith("//")?(Z.finishLoading(i),void a(t)):(Z.finishLoading(i),void a("/dashboard"))}t.name&&e.name&&U.preloadBasedOnNavigation(e.name,[t.name]),Z.finishLoading(i),a()}catch(n){if(Z.finishLoading(i,n),o){await s.cleanupAuthState();const t="/login"!==e.fullPath?e.fullPath:"/dashboard";a(`/login?returnUrl=${encodeURIComponent(t)}`)}else a()}}),G.afterEach((e,t)=>{const a=e.meta.title;document.title=a?`${a} - Jewelry Platform`:"Jewelry Platform",t.name&&e.name});const K=class e{constructor(){t(this,"debugMode",!1)}static getInstance(){return e.instance||(e.instance=new e),e.instance}generateRequestId(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}logRequest(e){var t;if(!this.debugMode)return;(null==(t=e.metadata)?void 0:t.requestId)||this.generateRequestId(),localStorage.getItem("session_id")}logResponse(e,t){var a;if(!this.debugMode)return;t&&(null==(a=e.config.metadata)?void 0:a.startTime)&&(Date.now(),e.config.metadata.startTime)}logError(e,t){var a,r;t&&(null==(r=null==(a=e.config)?void 0:a.metadata)?void 0:r.startTime)&&(Date.now(),e.config.metadata.startTime)}sanitizeHeaders(e){if(!e)return{};const t={...e};return t.Authorization&&(t.Authorization="Bearer [REDACTED]"),t["X-XSRF-TOKEN"]&&(t["X-XSRF-TOKEN"]="[REDACTED]"),t}};t(K,"instance");let X=K;class Q{static categorizeError(e){var t;const a=(new Date).toISOString();if(!e.response)return{success:!1,error:{code:"NETWORK_ERROR",message:"Network connection failed. Please check your internet connection.",retryable:!0,timestamp:a,details:{originalMessage:e.message,type:"network"}}};const r=e.response.status,s=e.response.data;if(null==(t=null==s?void 0:s.error)?void 0:t.code)return{success:!1,error:{...s.error,timestamp:a,retryable:s.error.retryable??this.isRetryableStatus(r)}};switch(r){case 400:return{success:!1,error:{code:"BAD_REQUEST",message:(null==s?void 0:s.message)||"Invalid request. Please check your input.",retryable:!1,timestamp:a,details:s}};case 401:return{success:!1,error:{code:"UNAUTHORIZED",message:(null==s?void 0:s.message)||"Authentication required. Please log in.",retryable:!1,timestamp:a,details:s}};case 403:return{success:!1,error:{code:"FORBIDDEN",message:(null==s?void 0:s.message)||"Access denied. You don't have permission.",retryable:!1,timestamp:a,details:s}};case 404:return{success:!1,error:{code:"NOT_FOUND",message:(null==s?void 0:s.message)||"The requested resource was not found.",retryable:!1,timestamp:a,details:s}};case 422:return{success:!1,error:{code:"VALIDATION_ERROR",message:(null==s?void 0:s.message)||"Validation failed. Please check your input.",retryable:!1,timestamp:a,details:s}};case 429:return{success:!1,error:{code:"RATE_LIMITED",message:(null==s?void 0:s.message)||"Too many requests. Please try again later.",retryable:!0,timestamp:a,details:s}};case 500:case 502:case 503:case 504:return{success:!1,error:{code:"SERVER_ERROR",message:(null==s?void 0:s.message)||"Server error occurred. Please try again.",retryable:!0,timestamp:a,details:s}};default:return{success:!1,error:{code:"UNKNOWN_ERROR",message:(null==s?void 0:s.message)||"An unexpected error occurred.",retryable:this.isRetryableStatus(r),timestamp:a,details:s}}}}static isRetryableStatus(e){return e>=500||429===e}}class Y{static getSessionId(){return this.sessionId||(this.sessionId=localStorage.getItem("session_id")||this.generateSessionId(),localStorage.setItem("session_id",this.sessionId)),this.sessionId}static setSessionInfo(e,t){this.sessionId=e,this.sessionExpiry=t,localStorage.setItem("session_id",e),localStorage.setItem("session_expiry",t.toISOString())}static isSessionValid(){if(!this.sessionExpiry){const e=localStorage.getItem("session_expiry");e&&(this.sessionExpiry=new Date(e))}return!!this.sessionExpiry&&new Date<this.sessionExpiry}static clearSession(){this.sessionId=null,this.sessionExpiry=null,localStorage.removeItem("session_id"),localStorage.removeItem("session_expiry")}static generateSessionId(){return`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}t(Y,"sessionId",null),t(Y,"sessionExpiry",null);const ee=O.create({baseURL:"http://localhost:80",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});ee.interceptors.request.use(e=>{var t;const a=X.getInstance(),r=a.generateRequestId();e.metadata={retryCount:(null==(t=e.metadata)?void 0:t.retryCount)||0,startTime:Date.now(),requestId:r,sessionId:Y.getSessionId()};const s=localStorage.getItem("auth_token");s&&(e.headers.Authorization=`Bearer ${s}`);const o=localStorage.getItem("preferred-language")||"en";e.headers["Accept-Language"]=o,e.headers["X-Session-ID"]=Y.getSessionId(),e.headers["X-Request-ID"]=r,e.withCredentials=!0;const i=se();return i&&(e.headers["X-XSRF-TOKEN"]=i),a.logRequest(e),e},e=>(X.getInstance().logError(e),Promise.reject(e)));const te=()=>{localStorage.removeItem("auth_token"),G.push("/login")};ee.interceptors.response.use(e=>{var t,a;const r=X.getInstance(),s=null==(t=e.config.metadata)?void 0:t.requestId,o=null==(a=e.data)?void 0:a.session;return(null==o?void 0:o.id)&&(null==o?void 0:o.expires_at)&&Y.setSessionInfo(o.id,new Date(o.expires_at)),r.logResponse(e,s),e},async e=>{var t,a,r,s;const o=X.getInstance(),i=e.config,n=null==(t=null==i?void 0:i.metadata)?void 0:t.requestId;i.metadata||(i.metadata={retryCount:0,startTime:Date.now(),requestId:n||o.generateRequestId(),sessionId:Y.getSessionId()}),o.logError(e,n);const l=Q.categorizeError(e);if(401===(null==(a=e.response)?void 0:a.status)){if((null==(r=i.url)?void 0:r.includes("/auth/"))||i.metadata.authRetried)return Y.clearSession(),te(),Promise.reject(l);try{const e=await ee.post("api/auth/refresh",{},{metadata:{...i.metadata,authRetried:!0}});if(e.data.success){const{token:t,session:a}=e.data.data;return localStorage.setItem("auth_token",t),(null==a?void 0:a.id)&&(null==a?void 0:a.expires_at)&&Y.setSessionInfo(a.id,new Date(a.expires_at)),i.headers.Authorization=`Bearer ${t}`,i.metadata.retryCount++,i.metadata.authRetried=!0,ee.request(i)}}catch(d){return Y.clearSession(),te(),Promise.reject(l)}}if(l.error.retryable&&i.metadata.retryCount<3){const e=1e3*Math.pow(2,i.metadata.retryCount)+1e3*Math.random();return i.metadata.retryCount++,await new Promise(t=>setTimeout(t,e)),ee.request(i)}if("SESSION_EXPIRED"===l.error.code&&(Y.clearSession(),te()),ae(l.error.code)&&re(l.error.message),"VALIDATION_ERROR"===l.error.code){const t={...e};return t.response={...t.response,data:{...l,originalData:null==(s=e.response)?void 0:s.data}},Promise.reject(t)}return Promise.reject(l)});const ae=e=>!["VALIDATION_ERROR","UNAUTHORIZED","NOT_FOUND"].includes(e),re=e=>{"undefined"!=typeof window&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("api-error",{detail:{message:e}}))},se=()=>{var e;const t=`; ${document.cookie}`.split("; XSRF-TOKEN=");if(2===t.length){const a=null==(e=t.pop())?void 0:e.split(";").shift();return a?decodeURIComponent(a):null}return null},oe={get:(e,t)=>ee.get(e,t),post:(e,t,a)=>ee.post(e,t,a),put:(e,t,a)=>ee.put(e,t,a),patch:(e,t,a)=>ee.patch(e,t,a),delete:(e,t)=>ee.delete(e,t),auth:{login:async e=>ee.post("api/auth/login",e),logout:async()=>ee.post("api/auth/logout"),me:()=>ee.get("api/auth/user"),refresh:()=>ee.post("api/auth/refresh"),updateProfile:e=>ee.put("api/auth/profile",e),changePassword:e=>ee.put("api/auth/password",e),enable2FA:()=>ee.post("api/auth/2fa/enable"),verify2FA:e=>ee.post("api/auth/2fa/verify",e),disable2FA:e=>ee.post("api/auth/2fa/disable",e),getBackupCodes:()=>ee.get("api/auth/2fa/backup-codes"),regenerateBackupCodes:()=>ee.post("api/auth/2fa/backup-codes/regenerate"),validateSession:async()=>{var e;try{const t=await ee.post("api/auth/validate-session");if(t.data.success&&(null==(e=t.data.data)?void 0:e.session)){const e=t.data.data.session;e.id&&e.expires_at&&Y.setSessionInfo(e.id,new Date(e.expires_at))}return t}catch(t){throw t}},extendSession:async()=>{var e;try{const t=await ee.post("api/auth/extend-session");if(t.data.success&&(null==(e=t.data.data)?void 0:e.session)){const e=t.data.data.session;e.id&&e.expires_at&&Y.setSessionInfo(e.id,new Date(e.expires_at))}return t}catch(t){throw t}},getSessions:()=>ee.get("api/auth/sessions"),revokeSession:e=>ee.delete(`api/auth/sessions/${e}`),revokeAllSessions:async()=>{try{const e=await ee.delete("api/auth/sessions");return Y.clearSession(),e}catch(e){throw e}},forgotPassword:e=>ee.post("api/auth/forgot-password",e),resetPassword:e=>ee.post("api/auth/reset-password",e)},dashboard:{getKPIs:e=>ee.get("api/dashboard/kpis",{params:e}),getSalesChart:(e="month")=>ee.get("api/dashboard/sales-chart",{params:{period:e}}),getAlerts:e=>ee.get("api/dashboard/alerts",{params:e}),getCategoryPerformance:()=>ee.get("api/dashboard/category-performance"),getGoldPurityPerformance:()=>ee.get("api/dashboard/gold-purity-performance"),getCategoryStockAlerts:()=>ee.get("api/dashboard/category-stock-alerts"),markAlertAsRead:e=>ee.post("api/dashboard/alerts/mark-read",{alert_id:e}),getWidgets:()=>ee.get("api/dashboard/widgets"),saveWidgetLayout:e=>ee.post("api/dashboard/layout",{layout:e}),getDashboardLayout:()=>ee.get("api/dashboard/layout"),getPresets:()=>ee.get("api/dashboard/presets"),applyPreset:e=>ee.post("api/dashboard/presets/apply",{preset:e}),clearCache:()=>ee.post("api/dashboard/clear-cache")},localization:{getTranslations:e=>ee.get(`api/localization/translations/${e}`),switchLanguage:e=>ee.post("api/localization/switch-language",{locale:e})},customers:{getCustomers:e=>ee.get("api/customers",{params:e}),getCustomer:e=>ee.get(`api/customers/${e}`),createCustomer:e=>ee.post("api/customers",e),updateCustomer:(e,t)=>ee.put(`api/customers/${e}`,t),deleteCustomer:e=>ee.delete(`api/customers/${e}`),getAgingReport:e=>ee.get("api/customers/aging-report",{params:e}),getCRMPipeline:()=>ee.get("api/customers/crm-pipeline"),updateCRMStage:(e,t)=>ee.put(`api/customers/${e}/crm-stage`,t),sendCommunication:(e,t)=>ee.post(`api/customers/${e}/communicate`,t),getUpcomingBirthdays:()=>ee.get("api/customers/upcoming-birthdays"),getUpcomingAnniversaries:()=>ee.get("api/customers/upcoming-anniversaries"),exportVCard:e=>ee.get(`api/customers/${e}/vcard`)},inventory:{getItems:e=>ee.get("api/inventory",{params:e}),getItem:e=>ee.get(`api/inventory/${e}`),createItem:e=>ee.post("api/inventory",e,{headers:{"Content-Type":"multipart/form-data"}}),updateItem:(e,t)=>ee.put(`api/inventory/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}),deleteItem:e=>ee.delete(`api/inventory/${e}`),getMovements:e=>ee.get("api/inventory/movements",{params:e}),createMovement:e=>ee.post("api/inventory/movements",e),getCategories:()=>ee.get("api/categories"),getCategory:e=>ee.get(`api/categories/${e}`),createCategory:e=>ee.post("api/categories",e,{headers:{"Content-Type":"multipart/form-data"}}),updateCategory:(e,t)=>ee.put(`api/categories/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}),deleteCategory:e=>ee.delete(`api/categories/${e}`),reorderCategories:e=>ee.post("api/categories/reorder",e),getCategoryHierarchy:()=>ee.get("api/categories/hierarchy"),uploadCategoryImage:(e,t)=>ee.post(`api/categories/${e}/image`,t,{headers:{"Content-Type":"multipart/form-data"}}),removeCategoryImage:e=>ee.delete(`api/categories/${e}/image`),getGoldPurityOptions:()=>ee.get("api/categories/gold-purity-options"),getLocations:()=>ee.get("api/locations"),createLocation:e=>ee.post("api/locations",e),updateLocation:(e,t)=>ee.put(`api/locations/${e}`,t),deleteLocation:e=>ee.delete(`api/locations/${e}`),getAudits:e=>ee.get("api/stock-audits",{params:e}),getAudit:e=>ee.get(`api/stock-audits/${e}`),createAudit:e=>ee.post("api/stock-audits",e),updateAudit:(e,t)=>ee.put(`api/stock-audits/${e}`,t),deleteAudit:e=>ee.delete(`api/stock-audits/${e}`),startAudit:e=>ee.post(`api/stock-audits/${e}/start`),completeAudit:e=>ee.post(`api/stock-audits/${e}/complete`),updateAuditItem:(e,t,a)=>ee.put(`api/stock-audits/${e}/items/${t}`,a),getBOMs:e=>ee.get("api/bom",{params:e}),getBOM:e=>ee.get(`api/bom/${e}`),createBOM:e=>ee.post("api/bom",e),updateBOM:(e,t)=>ee.put(`api/bom/${e}`,t),deleteBOM:e=>ee.delete(`api/bom/${e}`),getBOMForItem:e=>ee.get(`api/inventory/${e}/bom`),getLowStockItems:()=>ee.get("api/inventory/low-stock"),getExpiringItems:e=>ee.get("api/inventory/expiring",{params:{days:e}}),getInventoryValuation:e=>ee.get("api/inventory-reports/inventory-analytics",{params:e})},invoices:{getInvoices:e=>ee.get("api/invoices",{params:e}),getInvoice:e=>ee.get(`api/invoices/${e}`),createInvoice:e=>ee.post("api/invoices",e),updateInvoice:(e,t)=>ee.put(`api/invoices/${e}`,t),deleteInvoice:e=>ee.delete(`api/invoices/${e}`),duplicateInvoice:e=>ee.post(`api/invoices/${e}/duplicate`),generatePDF:e=>ee.get(`api/invoices/${e}/pdf`),previewPDF:e=>ee.get(`api/invoices/${e}/preview`),sendInvoice:(e,t)=>ee.post(`api/invoices/${e}/send`,t),getTemplates:()=>ee.get("api/invoice-templates"),getTemplate:e=>ee.get(`api/invoice-templates/${e}`),createTemplate:e=>ee.post("api/invoice-templates",e),updateTemplate:(e,t)=>ee.put(`api/invoice-templates/${e}`,t),deleteTemplate:e=>ee.delete(`api/invoice-templates/${e}`),generateBatch:e=>ee.post("api/invoices/batch-pdf",{invoice_ids:e}),downloadBatch:e=>ee.post("api/invoices/batch-download",{invoice_ids:e}),sendBatch:(e,t)=>ee.post("api/invoices/batch/send",{invoice_ids:e,...t}),getRecurringInvoices:()=>ee.get("api/recurring-invoices"),createRecurringInvoice:e=>ee.post("api/recurring-invoices",e),updateRecurringInvoice:(e,t)=>ee.put(`api/recurring-invoices/${e}`,t),deleteRecurringInvoice:e=>ee.delete(`api/recurring-invoices/${e}`)},reports:{getTypes:()=>ee.get("api/reports/types"),generate:e=>ee.post("api/reports/generate",e),export:e=>ee.post("api/reports/export",e),schedule:e=>ee.post("api/reports/schedule",e),getScheduled:()=>ee.get("api/reports/scheduled"),deleteScheduled:e=>ee.delete(`api/reports/scheduled/${e}`)}},ie={...oe,session:{getId:()=>Y.getSessionId(),isValid:()=>Y.isSessionValid(),clear:()=>Y.clearSession(),setInfo:(e,t)=>Y.setSessionInfo(e,t)},logging:{getInstance:()=>X.getInstance(),enableDebug:()=>{X.getInstance().debugMode=!0},disableDebug:()=>{X.getInstance().debugMode=!1}},errors:{categorize:e=>Q.categorizeError(e),isRetryable:e=>!0===e.error.retryable,getErrorCode:e=>e.error.code,getErrorMessage:e=>e.error.message}},ne=Object.freeze(Object.defineProperty({__proto__:null,ApiLogger:X,ErrorCategorizer:Q,SessionManager:Y,apiService:oe,default:ee,del:(e,t)=>ee.delete(e,t),enhancedApiService:ie,get:(e,t)=>ee.get(e,t),post:(e,t,a)=>ee.post(e,t,a),put:(e,t,a)=>ee.put(e,t,a)},Symbol.toStringTag,{value:"Module"})),le=class e{constructor(){t(this,"broadcastChannel",null),t(this,"tabId"),t(this,"sessionData",{sessionId:"",userId:null,token:null,expiresAt:null,lastActivity:new Date,tabId:"",isActive:!1,metadata:{userAgent:navigator.userAgent,loginTime:null,refreshCount:0}}),t(this,"activeTabs",new Map),t(this,"sessionLocks",new Map),t(this,"heartbeatInterval",null),t(this,"cleanupInterval",null),t(this,"isInitialized",!1),t(this,"eventListeners",[]),this.tabId=this.generateTabId(),this.sessionData.tabId=this.tabId}static getInstance(){return e.instance||(e.instance=new e),e.instance}async initialize(){if(!this.isInitialized)try{this.initializeBroadcastChannel(),await this.loadSessionFromStorage(),this.registerTab(),this.startHeartbeat(),this.startCleanup(),this.setupBeforeUnloadHandler(),this.isInitialized=!0}catch(e){throw e}}initializeBroadcastChannel(){if("undefined"!=typeof BroadcastChannel)try{this.broadcastChannel=new BroadcastChannel("session-sync"),this.broadcastChannel.addEventListener("message",this.handleBroadcastMessage.bind(this))}catch(e){this.setupLocalStorageFallback()}else this.setupLocalStorageFallback()}setupLocalStorageFallback(){const e=e=>{if("session-sync-message"===e.key&&e.newValue)try{const t=JSON.parse(e.newValue);t.tabId!==this.tabId&&this.handleSyncMessage(t)}catch(t){}};window.addEventListener("storage",e),this.eventListeners.push(()=>{window.removeEventListener("storage",e)})}handleBroadcastMessage(e){const t=e.data;t.tabId!==this.tabId&&this.handleSyncMessage(t)}async handleSyncMessage(e){switch(e.type){case"session_update":await this.handleSessionUpdate(e);break;case"logout":await this.handleCrossTabLogout(e);break;case"tab_register":this.handleTabRegister(e);break;case"tab_unregister":this.handleTabUnregister(e);break;case"conflict_resolution":await this.handleConflictResolution(e);break;case"heartbeat":this.handleHeartbeat(e)}}broadcastSessionUpdate(e){const t={type:"session_update",data:e,tabId:this.tabId,timestamp:new Date,sessionId:this.sessionData.sessionId};this.broadcastMessage(t)}subscribeToSessionUpdates(e){return()=>{}}registerTab(){const e={tabId:this.tabId,lastSeen:new Date,isActive:!0,sessionId:this.sessionData.sessionId};this.activeTabs.set(this.tabId,e);const t={type:"tab_register",data:e,tabId:this.tabId,timestamp:new Date,sessionId:this.sessionData.sessionId};this.broadcastMessage(t)}unregisterTab(){this.activeTabs.delete(this.tabId);const e={type:"tab_unregister",data:{tabId:this.tabId},tabId:this.tabId,timestamp:new Date,sessionId:this.sessionData.sessionId};this.broadcastMessage(e)}getActiveTabs(){return Array.from(this.activeTabs.keys())}async requestSessionLock(e){const t=`lock_${e}`,a=this.sessionLocks.get(t);if(a&&a.tabId!==this.tabId){if(Date.now()-a.timestamp.getTime()<3e4)return!1}return this.sessionLocks.set(t,{tabId:this.tabId,timestamp:new Date}),!0}releaseSessionLock(e){const t=`lock_${e}`,a=this.sessionLocks.get(t);a&&a.tabId===this.tabId&&this.sessionLocks.delete(t)}async detectSessionConflicts(){const e=this.getSessionData(),t=this.loadSessionFromLocalStorage();if(!t||!e.token)return null;if(t.token!==e.token&&t.token&&e.token)return{action:"use_incoming",reason:"Token mismatch detected - using most recent token",timestamp:new Date};if(t.expiresAt&&e.expiresAt){const a=new Date(t.expiresAt),r=new Date(e.expiresAt);if(Math.abs(a.getTime()-r.getTime())>6e4)return{action:"use_incoming",reason:"Session expiry mismatch - using most recent expiry",timestamp:new Date}}return null}async recoverFromConflict(e){switch(e.action){case"use_incoming":await this.loadSessionFromStorage();break;case"keep_current":await this.saveSessionToStorage();break;case"logout_all":await this.handleLogoutAll()}const t={type:"conflict_resolution",data:e,tabId:this.tabId,timestamp:new Date,sessionId:this.sessionData.sessionId};this.broadcastMessage(t)}updateSessionData(e){Object.assign(this.sessionData,e),this.sessionData.lastActivity=new Date,this.saveSessionToStorage(),this.broadcastSessionUpdate(e)}getSessionData(){return{...this.sessionData}}async handleSessionUpdate(e){const t=e.data,a=await this.detectSessionConflicts();a?await this.recoverFromConflict(a):(Object.assign(this.sessionData,t),this.sessionData.lastActivity=new Date)}async handleCrossTabLogout(e){this.clearSessionData(),window.dispatchEvent(new CustomEvent("cross-tab-logout",{detail:{initiatingTab:e.tabId}}))}handleTabRegister(e){const t=e.data;this.activeTabs.set(t.tabId,t)}handleTabUnregister(e){const{tabId:t}=e.data;this.activeTabs.delete(t)}async handleConflictResolution(e){const t=e.data;t.timestamp>this.sessionData.lastActivity&&await this.recoverFromConflict(t)}handleHeartbeat(e){const t=this.activeTabs.get(e.tabId);t&&(t.lastSeen=new Date,t.isActive=!0)}broadcastLogout(){const e={type:"logout",data:{reason:"user_initiated"},tabId:this.tabId,timestamp:new Date,sessionId:this.sessionData.sessionId};this.broadcastMessage(e),this.clearSessionData()}async handleLogoutAll(){this.clearSessionData(),this.broadcastLogout()}clearSessionData(){this.sessionData.sessionId="",this.sessionData.userId=null,this.sessionData.token=null,this.sessionData.expiresAt=null,this.sessionData.isActive=!1,this.sessionData.metadata.loginTime=null,this.sessionData.metadata.refreshCount=0,localStorage.removeItem("session-data"),localStorage.removeItem("auth_token")}loadSessionFromLocalStorage(){try{const e=localStorage.getItem("session-data");if(e){const t=JSON.parse(e);return{...t,expiresAt:t.expiresAt?new Date(t.expiresAt):null,lastActivity:new Date(t.lastActivity),metadata:{...t.metadata,loginTime:t.metadata.loginTime?new Date(t.metadata.loginTime):null}}}}catch(e){}return null}async loadSessionFromStorage(){const e=this.loadSessionFromLocalStorage();e&&(Object.assign(this.sessionData,e),this.sessionData.tabId=this.tabId)}saveSessionToStorage(){var e,t;try{const a={...this.sessionData,expiresAt:(null==(e=this.sessionData.expiresAt)?void 0:e.toISOString())||null,lastActivity:this.sessionData.lastActivity.toISOString(),metadata:{...this.sessionData.metadata,loginTime:(null==(t=this.sessionData.metadata.loginTime)?void 0:t.toISOString())||null}};localStorage.setItem("session-data",JSON.stringify(a))}catch(a){}}broadcastMessage(e){this.broadcastChannel?this.broadcastChannel.postMessage(e):(localStorage.setItem("session-sync-message",JSON.stringify(e)),setTimeout(()=>{localStorage.removeItem("session-sync-message")},100))}startHeartbeat(){this.heartbeatInterval=window.setInterval(()=>{const e={type:"heartbeat",data:{tabId:this.tabId},tabId:this.tabId,timestamp:new Date,sessionId:this.sessionData.sessionId};this.broadcastMessage(e)},12e4)}startCleanup(){this.cleanupInterval=window.setInterval(()=>{const e=new Date;for(const[t,a]of this.activeTabs.entries())e.getTime()-a.lastSeen.getTime()>12e4&&this.activeTabs.delete(t);for(const[t,a]of this.sessionLocks.entries())e.getTime()-a.timestamp.getTime()>6e4&&this.sessionLocks.delete(t)},6e4)}setupBeforeUnloadHandler(){const e=()=>{this.unregisterTab(),this.cleanup()};window.addEventListener("beforeunload",e),this.eventListeners.push(()=>{window.removeEventListener("beforeunload",e)})}generateTabId(){return`tab_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}cleanup(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null),this.broadcastChannel&&(this.broadcastChannel.close(),this.broadcastChannel=null),this.eventListeners.forEach(e=>e()),this.eventListeners=[],this.activeTabs.clear(),this.sessionLocks.clear(),this.isInitialized=!1}};t(le,"instance");const de=le.getInstance();class ce{constructor(e){t(this,"crossTabManager"),t(this,"maxRetries",3),t(this,"retryDelay",1e3),this.crossTabManager=e}async initiateLogout(){try{const e=await this.performBackendLogout();await this.clearAllTokens(),await this.clearSessionData(),await this.clearCachedData(),this.broadcastLogout();await this.confirmLogoutCompletion(),await this.verifyLogoutSuccess();return{success:!0,message:e?"Logout completed successfully":"Logout completed (local cleanup successful)",redirectUrl:"/login",warnings:e?[]:["Backend logout may have failed"]}}catch(e){const t={type:"logout_failed",message:e instanceof Error?e.message:"Unknown logout error",originalError:e};return await this.handleLogoutFailure(t),{success:!0,message:"Logout completed (local cleanup successful)",error:t,redirectUrl:"/login"}}}broadcastLogout(){this.crossTabManager.broadcastLogout(),window.dispatchEvent(new CustomEvent("cross-tab-logout",{detail:{initiatingTab:this.crossTabManager.getSessionData().tabId,reason:"user_initiated",timestamp:(new Date).toISOString()}}))}getApiBaseUrl(){var e;return"undefined"!=typeof window?null==(e={VITE_API_BASE_URL:"http://localhost:80",VITE_APP_NAME:"Bilingual Jewelry Platform",VITE_APP_VERSION:"1.0.0",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1})?void 0:e.VITE_API_BASE_URL:"http://localhost:8000"}async confirmLogoutCompletion(){try{const e=await this.verifyTokensCleared(),t=await this.verifySessionCleared(),a=await this.verifyCacheCleared();return e&&t&&a}catch(e){return!1}}async clearAllTokens(){try{localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("sanctum_token"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("refresh_token"),sessionStorage.removeItem("sanctum_token"),document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="refresh_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="sanctum_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}catch(e){throw e}}async clearSessionData(){try{["user_data","session_id","session_metadata","last_activity","session_expires_at"].forEach(e=>{localStorage.removeItem(e),sessionStorage.removeItem(e)}),this.crossTabManager.updateSessionData({sessionId:"",userId:null,token:null,expiresAt:null,isActive:!1})}catch(e){throw e}}async clearCachedData(){var e;try{if(["api_cache","user_preferences","dashboard_data","inventory_cache","customer_cache","invoice_cache"].forEach(e=>{localStorage.removeItem(e),sessionStorage.removeItem(e)}),"indexedDB"in window)try{const t=await indexedDB.databases();for(const a of t)(null==(e=a.name)?void 0:e.includes("app_cache"))&&indexedDB.deleteDatabase(a.name)}catch(t){}}catch(t){throw t}}async verifyLogoutSuccess(){try{const e=this.getApiBaseUrl(),t=await fetch(`${e}/api/auth/verify-session`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});return 401===t.status||200!==t.status}catch(e){return!0}}async handleLogoutFailure(e){try{await this.clearAllTokens(),await this.clearSessionData(),await this.clearCachedData(),this.crossTabManager.updateSessionData({isActive:!1,token:null})}catch(t){}}async performBackendLogout(){let e=0;for(;e<this.maxRetries;)try{const e=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),t=this.getApiBaseUrl(),a=await fetch(`${t}/api/auth/logout`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",...e&&{Authorization:`Bearer ${e}`}}});if(a.ok||401===a.status)return!0;await a.text();throw new Error(`Backend logout failed with status: ${a.status}`)}catch(t){if(e++,e<this.maxRetries){const t=this.retryDelay*e;await new Promise(e=>setTimeout(e,t))}}return!1}async verifyTokensCleared(){const e=["auth_token","refresh_token","sanctum_token"];for(const t of e)if(localStorage.getItem(t)||sessionStorage.getItem(t))return!1;return!0}async verifySessionCleared(){const e=["user_data","session_id","session_metadata","last_activity","session_expires_at"];for(const t of e)if(localStorage.getItem(t)||sessionStorage.getItem(t))return!1;return!0}async verifyCacheCleared(){const e=["api_cache","user_preferences","dashboard_data","inventory_cache","customer_cache","invoice_cache"];for(const t of e)if(localStorage.getItem(t)||sessionStorage.getItem(t))return!1;return!0}}const ue=n("auth",()=>{const e=r(null),t=r(localStorage.getItem("auth_token")),s=r(localStorage.getItem("refresh_token")),o=r(!1),i=r(null),n=r(!1),l=r(null),d=r(new Date),c=r(null),u=r(null),h=r([]),g=r(0),p=r(!1),m=r([]),v=r([]),w=r([]),y=r("healthy"),f=r(null),b=new ce(de),k=a(()=>!!t.value&&!!e.value),x=a(()=>e.value?e.value.name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):""),_=a(()=>{if(!l.value)return 0;const e=new Date;return Math.max(0,Math.floor((l.value.getTime()-e.getTime())/6e4))}),I=a(()=>_.value>0&&_.value<=5),S=a(()=>m.value.length>1),C=a(()=>m.value.length),A=a(()=>v.value.length>0),D=a(()=>de.getSessionData().tabId),M=async()=>{if(!p.value)try{await de.initialize(),T(),await L(),p.value=!0}catch(e){throw e}},T=()=>{const e=e=>{E(e.detail.initiatingTab)};window.addEventListener("cross-tab-logout",e),w.value.push(()=>{window.removeEventListener("cross-tab-logout",e)});const t=e=>{P(e.detail)};window.addEventListener("session-conflict",t),w.value.push(()=>{window.removeEventListener("session-conflict",t)})},L=async()=>{try{const a=de.getSessionData();a.token&&a.userId&&a.isActive?(t.value=a.token,l.value=a.expiresAt,a.token&&localStorage.setItem("auth_token",a.token),e.value||!a.userId||N.value||await z(),await Q()):k.value&&await R(),$()}catch(a){}},R=async()=>{var a;if(!k.value)return;const r={userId:(null==(a=e.value)?void 0:a.id)||null,token:t.value,expiresAt:l.value,isActive:k.value,metadata:{userAgent:navigator.userAgent,loginTime:e.value?new Date:null,refreshCount:0}};de.updateSessionData(r),f.value=new Date},E=async e=>{H(),$(),await G.push("/login")},P=e=>{v.value.push(e),y.value="warning","use_incoming"===e.action&&V(e)},V=async e=>{try{await de.recoverFromConflict(e),await L(),v.value=v.value.filter(t=>t.timestamp!==e.timestamp),0===v.value.length&&(y.value="healthy")}catch(t){y.value="error"}},B=async()=>{try{const e=await de.detectSessionConflicts();return e&&(v.value.push(e),y.value="warning",window.dispatchEvent(new CustomEvent("session-conflict",{detail:e}))),e}catch(e){return null}},$=()=>{m.value=de.getActiveTabs()},j=async()=>{try{const e=await B();return await W()?e?(y.value="warning",!0):(y.value="healthy",!0):(y.value="error",!1)}catch(e){return y.value="error",!1}},O=()=>{const e=setInterval(async()=>{k.value&&await j()},6e5),t=setInterval(async()=>{k.value&&p.value&&(await R(),$())},3e5);w.value.push(()=>{clearInterval(e),clearInterval(t)})},F=async()=>{try{Y();const e=await b.initiateLogout();return H(),await G.push("/login"),e}catch(e){return H(),await G.push("/login"),{success:!1,message:"Logout failed, but local cleanup completed",error:{type:"logout_failed",message:e instanceof Error?e.message:"Unknown error",originalError:e}}}},H=()=>{e.value=null,t.value=null,s.value=null,l.value=null,i.value=null,g.value=0,v.value=[],y.value="healthy",f.value=null,localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),Y(),U()},U=()=>{w.value.forEach(e=>e()),w.value=[],p.value=!1,m.value=[]},N=r(!1),Z=r(null),q=r(0),z=async()=>{if(!t.value)return!1;if(N.value)return!1;if(Z.value&&q.value>=3){if(Date.now()-Z.value.getTime()<Math.min(3e4,1e3*Math.pow(2,q.value)))return!1}const a=async t=>{var r;try{N.value=!0,o.value=!0;const t=await oe.auth.me();if(t.data.success){if(e.value=t.data.data.user,t.data.data.session){const e=t.data.data.session;l.value=new Date(e.expires_at)}return q.value=0,Z.value=null,!0}throw new Error("Failed to fetch user data")}catch(s){if(q.value++,Z.value=new Date,401===(null==(r=s.response)?void 0:r.status))return H(),!1;if(!s.response&&t<3){const e=1e3*Math.pow(2,t);return await new Promise(t=>setTimeout(t,e)),a(t+1)}return H(),!1}finally{N.value=!1,o.value=!1}};return a(1)},W=async()=>{var e;if(!t.value)return!1;try{const e=await oe.auth.validateSession();if(e.data.success){const t=e.data.data;return l.value=new Date(t.expires_at),d.value=new Date,t.session_valid}return!1}catch(a){return 401===(null==(e=a.response)?void 0:e.status)&&H(),!1}},J=async()=>{if(!t.value)return!1;try{const e=await oe.auth.extendSession();if(e.data.success){const t=e.data.data;return l.value=new Date(t.expires_at),!0}return!1}catch(e){return!1}},K=async()=>{if(k.value)try{await W()||(await F(),G.push("/login"))}catch(e){}},X=async()=>{d.value=new Date,I.value&&k.value&&await J()},Q=async()=>{Y();const e=()=>{X()};["mousedown","mousemove","keypress","scroll","touchstart","click","keydown"].forEach(t=>{document.addEventListener(t,e,!0),h.value.push(()=>{document.removeEventListener(t,e,!0)})}),u.value=window.setInterval(async()=>{await K()},9e5);c.value=window.setInterval(()=>{I.value&&k.value,_.value<=0&&k.value&&(F(),G.push("/login"))},12e4)},Y=()=>{c.value&&(clearInterval(c.value),c.value=null),u.value&&(clearInterval(u.value),u.value=null),h.value.forEach(e=>e()),h.value=[]};return{user:e,token:t,refreshToken:s,isLoading:o,error:i,initialized:n,sessionExpiry:l,lastActivity:d,authRequestInProgress:N,authFailureCount:q,crossTabInitialized:p,activeTabs:m,sessionConflicts:v,sessionHealthStatus:y,lastCrossTabSync:f,isAuthenticated:k,userInitials:x,sessionTimeRemaining:_,isSessionExpiringSoon:I,isMultiTab:S,tabCount:C,hasSessionConflicts:A,currentTabId:D,login:async a=>{const r=async s=>{var n,d,c;try{o.value=!0,i.value=null;const r=await oe.auth.login(a);if(!r.data.success)throw new Error((null==(n=r.data.error)?void 0:n.message)||"Login failed");const{user:s,token:d,session_expiry:c}=r.data.data;return e.value=s,t.value=d,localStorage.setItem("auth_token",d),c&&(l.value=new Date(c)),s.preferred_language&&localStorage.setItem("preferred-language",s.preferred_language),await Q(),p.value?await R():await M(),g.value=0,{success:!0}}catch(u){const e=null==(c=null==(d=u.response)?void 0:d.data)?void 0:c.error,t=!1!==(null==e?void 0:e.retryable),a=!u.response;if("RATE_LIMITED"===(null==e?void 0:e.code))return i.value=e.message,{success:!1,error:i.value};if("INVALID_CREDENTIALS"===(null==e?void 0:e.code))return i.value=e.message,{success:!1,error:i.value};if((a||t)&&s<3){const e=1e3*Math.pow(2,s);return await new Promise(t=>setTimeout(t,e)),r(s+1)}return i.value=(null==e?void 0:e.message)||u.message||"Login failed. Please try again.",{success:!1,error:i.value}}finally{o.value=!1}};return r(1)},logout:F,fetchUser:z,refreshAuthToken:async()=>{if(!t.value)return!1;const e=async a=>{var r;try{const e=await oe.auth.refresh();if(e.data.success){const{token:a,expires_at:r}=e.data.data;return t.value=a,localStorage.setItem("auth_token",a),r&&(l.value=new Date(r)),g.value=0,!0}throw new Error("Token refresh failed")}catch(s){if(401===(null==(r=s.response)?void 0:r.status))return H(),!1;if(!s.response&&a<3){const t=1e3*Math.pow(2,a);return await new Promise(e=>setTimeout(e,t)),e(a+1)}return H(),!1}};return e(1)},validateSession:W,needsSessionValidation:()=>{if(!t.value||!k.value)return!0;return!(Date.now()-d.value.getTime()<6e5)||I.value},extendSession:J,syncSessionTimeout:K,updateUser:t=>{e.value&&(e.value={...e.value,...t})},updateActivity:X,initialize:async()=>{if(!n.value&&!N.value)try{if(await M(),t.value&&!N.value){await z()&&k.value?(await Q(),O()):H()}else await L()}catch(e){H()}finally{n.value=!0}},startSessionManagement:Q,stopSessionManagement:Y,cleanupAuthState:H,handleAuthError:e=>{var t,a;const r=null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.error;if(null==r?void 0:r.code)switch(r.code){case"NETWORK_ERROR":return"Network connection failed. Please check your internet connection and try again.";case"INVALID_CREDENTIALS":return"Invalid email or password. Please check your credentials and try again.";case"SESSION_EXPIRED":return"Your session has expired. Please log in again.";case"TOKEN_EXPIRED":return"Your login session has expired. Please log in again.";case"RATE_LIMITED":return r.message||"Too many attempts. Please try again later.";case"VALIDATION_ERROR":return r.message||"Please check your input and try again.";default:return r.message||"An unexpected error occurred. Please try again."}return e.response?e.message||"An unexpected error occurred. Please try again.":"Network connection failed. Please check your internet connection and try again."},initializeCrossTabSession:M,syncWithCrossTabManager:L,syncAuthDataToCrossTab:R,handleCrossTabLogout:async()=>{try{if(await de.requestSessionLock("logout"))try{t.value&&await oe.auth.logout(),de.broadcastLogout(),H()}finally{de.releaseSessionLock("logout")}else H()}catch(e){H()}},detectSessionConflicts:B,resolveSessionConflict:V,getSessionHealth:()=>({status:y.value,conflicts:v.value,activeTabs:m.value,tabCount:C.value,isMultiTab:S.value,lastSync:f.value,sessionData:de.getSessionData()}),performHealthCheck:j,scheduleSessionMaintenance:O,updateActiveTabsList:$}}),he=(e,t)=>{const a=e.__vccOpts||e;for(const[r,s]of t)a[r]=s;return a};function ge(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function pe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function me(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function ve(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function we(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"})])}function ye(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})])}function fe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})])}function be(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"})])}function ke(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function xe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function _e(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})])}function Ie(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})])}function Se(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"})])}function Ce(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function Ae(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function De(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})])}function Me(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Te(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function Le(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function Re(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function Ee(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Pe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function Ve(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function Be(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function $e(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function je(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function Oe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"})])}function Fe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})])}function He(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ue(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function Ne(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Ze(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function qe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function ze(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function We(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function Ge(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function Je(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function Ke(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Xe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}function Qe(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})])}function Ye(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"})])}function et(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function tt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function at(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}function rt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function st(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function ot(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function it(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"})])}function nt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}function lt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})])}function dt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function ct(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function ut(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function ht(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})])}function gt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function pt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function mt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"})])}function vt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})])}function wt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}function yt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function ft(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function bt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function kt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function xt(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function _t(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"})])}function It(e,t){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const St=(e="monthly")=>{const t=new Date,a=[],r=[],s=[];let o=12,i={month:"short"};switch(e){case"daily":o=30,i={day:"numeric",month:"short"};break;case"weekly":o=12,i={day:"numeric",month:"short"};break;case"yearly":o=5,i={year:"numeric"}}for(let n=o-1;n>=0;n--){const l=new Date(t);switch(e){case"daily":l.setDate(l.getDate()-n);break;case"weekly":l.setDate(l.getDate()-7*n);break;case"monthly":l.setMonth(l.getMonth()-n);break;case"yearly":l.setFullYear(l.getFullYear()-n)}a.push(l.toLocaleDateString("en-US",i));const d=15e3+1e4*Math.random(),c=1+.3*Math.sin(n/o*Math.PI*2),u=Math.round(d*c),h=Math.round(u*(.25+.15*Math.random()));r.push(u),s.push(h)}return{labels:a,datasets:[{label:"Sales",data:r,backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2},{label:"Profit",data:s,backgroundColor:"rgba(16, 185, 129, 0.1)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2}],period:e,currency:"USD"}},Ct=()=>{const e=["Gold","Silver","Platinum","Gems","Others"],t=e.map(()=>Math.round(10+40*Math.random())),a=["#FFD700","#C0C0C0","#E5E4E2","#FF6B6B","#4ECDC4"];return{labels:e,datasets:[{label:"Distribution",data:t,backgroundColor:a,borderColor:a.map(e=>e),borderWidth:2}]}},At=()=>{const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=e.map(()=>Math.round(2e4+15e3*Math.random())),a=e.map(()=>Math.round(12e3+8e3*Math.random())),r=t.map((e,t)=>e-a[t]);return{labels:e,datasets:[{label:"Revenue",data:t,backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1},{label:"Expenses",data:a,backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:1},{label:"Profit",data:r,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]}},Dt=()=>{const e=["Jan","Feb","Mar","Apr","May","Jun"],t=e.map(()=>Math.round(25e3+1e4*Math.random())),a=e.map(()=>Math.round(18e3+8e3*Math.random()));return{labels:e,datasets:[{label:"Cash In",data:t,backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2},{label:"Cash Out",data:a,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2}]}},Mt=()=>{const e=["Jan","Feb","Mar","Apr","May","Jun"],t=e.map(()=>Math.round(15+25*Math.random())),a=e.map(()=>Math.round(30+20*Math.random()));return{labels:e,datasets:[{label:"New Customers",data:t,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1},{label:"Returning Customers",data:a,backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:1}]}},Tt=n("dashboard",()=>{const e=r([]),t=r([]),s=r({id:"default",name:"Default Layout",widgets:[]}),o=r([]),i=r("default"),n=r([]),l=r(!1),d=r(""),c=a(()=>n.value.filter(e=>!e.read)),u=a(()=>n.value.filter(e=>"critical"===e.severity)),h=a(()=>c.value.length),g=a(()=>u.value.length),p=a(()=>t=>e.value.find(e=>e.key===t)),m=a(()=>e=>t.value.find(t=>t.id===e)),v=(e,t)=>t&&0!==t?(e-t)/t*100:0,w=(e,t,a=!1)=>{if(!t)return"increase";const r=e>t;return a?r?"decrease":"increase":r?"increase":"decrease"},y=async()=>{try{l.value=!0;const t=await oe.dashboard.getKPIs();if(t.data.success&&t.data.data){const a=t.data.data;e.value=[{key:"gold_sold",label:"Gold Sold",value:a.gold_sold||0,formattedValue:`${(a.gold_sold||0).toFixed(1)} kg`,change:v(a.gold_sold,a.gold_sold_previous),changeType:w(a.gold_sold,a.gold_sold_previous),format:"weight",color:"yellow"},{key:"total_profit",label:"Total Profit",value:a.total_profits||0,formattedValue:`$${(a.total_profits||0).toLocaleString()}`,change:v(a.total_profits,a.total_profits_previous),changeType:w(a.total_profits,a.total_profits_previous),format:"currency",color:"green"},{key:"average_price",label:"Average Price",value:a.average_price||0,formattedValue:`$${(a.average_price||0).toLocaleString()}`,change:v(a.average_price,a.average_price_previous),changeType:w(a.average_price,a.average_price_previous),format:"currency",color:"blue"},{key:"returns",label:"Returns",value:a.returns||0,formattedValue:`$${(a.returns||0).toLocaleString()}`,change:v(a.returns,a.returns_previous),changeType:w(a.returns,a.returns_previous,!0),format:"currency",color:"red"},{key:"gross_margin",label:"Gross Margin",value:a.gross_margin||0,formattedValue:`${(a.gross_margin||0).toFixed(1)}%`,change:v(a.gross_margin,a.gross_margin_previous),changeType:w(a.gross_margin,a.gross_margin_previous),format:"percentage",color:"purple"},{key:"net_margin",label:"Net Margin",value:a.net_margin||0,formattedValue:`${(a.net_margin||0).toFixed(1)}%`,change:v(a.net_margin,a.net_margin_previous),changeType:w(a.net_margin,a.net_margin_previous),format:"percentage",color:"indigo"}]}else e.value=S();d.value=(new Date).toISOString()}catch(t){e.value=S(),d.value=(new Date).toISOString()}finally{l.value=!1}},f=async()=>{try{l.value=!0;const e=await(async(e="month")=>{try{const t=await oe.dashboard.getSalesChart(e);if(t.data.success&&t.data.data){const e=t.data.data;return{labels:e.map(e=>e.label),datasets:[{label:"Sales",data:e.map(e=>e.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]}}}catch(t){}return St(e)})("month");t.value=[{id:"sales-chart",type:"chart",title:"Sales Overview",position:{x:0,y:0,w:8,h:4},data:{chartType:"line",chartData:e}},{id:"alerts",type:"alert",title:"Business Alerts",position:{x:8,y:0,w:4,h:4}},{id:"category-distribution",type:"chart",title:"Category Distribution",position:{x:0,y:4,w:6,h:3},data:{chartType:"doughnut",chartData:Ct()}},{id:"recent-activities",type:"table",title:"Recent Activities",position:{x:6,y:4,w:6,h:3}}],s.value.widgets=t.value}catch(e){t.value=C(),s.value.widgets=C()}finally{l.value=!1}},b=r({total:0,hasMore:!1,currentOffset:0}),k=async(e=!1)=>{var t;try{const a=e?n.value.length:0,r=await oe.dashboard.getAlerts({limit:10,offset:a});if(r.data.success&&(null==(t=r.data.data)?void 0:t.alerts)){const t=r.data.data.alerts.map(e=>({id:e.id.toString(),type:e.type||"general",title:e.title,message:e.message,severity:e.severity||"medium",timestamp:e.timestamp||(new Date).toISOString(),read:e.read||!1,actionUrl:e.action_url,actionLabel:e.action_label}));n.value=e?[...n.value,...t]:t,b.value={total:r.data.data.total||0,hasMore:r.data.data.has_more||!1,currentOffset:a+t.length}}else e||(n.value=M())}catch(a){e||(n.value=M())}},x=async e=>{try{await oe.dashboard.saveWidgetLayout(e),s.value=e}catch(t){localStorage.setItem("dashboard_layout",JSON.stringify(e)),s.value=e}},_=async e=>{try{await oe.dashboard.markAlertAsRead(e);const t=n.value.find(t=>t.id===e);t&&(t.read=!0)}catch(t){const a=n.value.find(t=>t.id===e);a&&(a.read=!0)}},I=async()=>{await Promise.all([y(),f(),k()])},S=()=>[{key:"gold_sold",label:"Gold Sold",value:"12.5",change:8.2,changeType:"increase",format:"weight",color:"yellow"},{key:"total_profit",label:"Total Profit",value:45230,change:12.5,changeType:"increase",format:"currency",color:"green"},{key:"average_price",label:"Average Price",value:1850,change:-2.1,changeType:"decrease",format:"currency",color:"blue"},{key:"returns",label:"Returns",value:2.3,change:-.5,changeType:"decrease",format:"percentage",color:"red"},{key:"gross_margin",label:"Gross Margin",value:35.2,change:1.8,changeType:"increase",format:"percentage",color:"purple"},{key:"net_margin",label:"Net Margin",value:28.7,change:2.3,changeType:"increase",format:"percentage",color:"indigo"}],C=()=>[{id:"sales-chart",type:"chart",title:"Sales Overview",position:{x:0,y:0,w:8,h:4},data:{chartType:"line",chartData:St("monthly")}},{id:"alerts",type:"alert",title:"Business Alerts",position:{x:8,y:0,w:4,h:4}},{id:"category-distribution",type:"chart",title:"Category Distribution",position:{x:0,y:4,w:6,h:3},data:{chartType:"doughnut",chartData:Ct()}},{id:"recent-activities",type:"table",title:"Recent Activities",position:{x:6,y:4,w:6,h:3}}],A=()=>[{id:"profit-loss-chart",type:"chart",title:"Profit & Loss",position:{x:0,y:0,w:6,h:4},data:{chartType:"bar",chartData:At()}},{id:"cash-flow-chart",type:"chart",title:"Cash Flow",position:{x:6,y:0,w:6,h:4},data:{chartType:"line",chartData:Dt()}},{id:"pending-transactions",type:"table",title:"Pending Transactions",position:{x:0,y:4,w:8,h:3}},{id:"financial-alerts",type:"alert",title:"Financial Alerts",position:{x:8,y:4,w:4,h:3}}],D=()=>[{id:"sales-funnel",type:"chart",title:"Sales Funnel",position:{x:0,y:0,w:4,h:4},data:{chartType:"bar",chartData:{labels:["Leads","Qualified","Proposal","Negotiation","Closed"],datasets:[{label:"Sales Funnel",data:[1e3,750,500,300,200],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(139, 92, 246, 1)"],borderWidth:2}]}}},{id:"customer-acquisition",type:"chart",title:"Customer Acquisition",position:{x:4,y:0,w:4,h:4},data:{chartType:"bar",chartData:Mt()}},{id:"top-customers",type:"table",title:"Top Customers",position:{x:8,y:0,w:4,h:4}},{id:"sales-activities",type:"table",title:"Recent Sales",position:{x:0,y:4,w:8,h:3}},{id:"customer-alerts",type:"alert",title:"Customer Alerts",position:{x:8,y:4,w:4,h:3}}],M=()=>[{id:"1",type:"pending_cheque",title:"Pending Cheque",message:"Cheque #CH-2024-001 due tomorrow",severity:"high",timestamp:(new Date).toISOString(),read:!1,actionUrl:"/accounting/cheques",actionLabel:"View Cheques"},{id:"2",type:"low_stock",title:"Low Stock Alert",message:"5 items are running low on stock",severity:"medium",timestamp:(new Date).toISOString(),read:!1,actionUrl:"/inventory",actionLabel:"View Inventory"},{id:"3",type:"expiring_item",title:"Items Expiring Soon",message:"3 items will expire within 7 days",severity:"medium",timestamp:(new Date).toISOString(),read:!1,actionUrl:"/inventory/expiring",actionLabel:"View Items"}];return{kpis:e,widgets:t,currentLayout:s,availablePresets:o,activePreset:i,alerts:n,alertsMetadata:b,isLoading:l,lastUpdated:d,unreadAlerts:c,criticalAlerts:u,alertCount:h,criticalAlertCount:g,getKPIByKey:p,getWidgetById:m,fetchKPIs:y,fetchWidgets:f,fetchAlerts:k,loadMoreAlerts:async()=>{b.value.hasMore&&await k(!0)},saveWidgetLayout:x,updateWidgetPosition:(e,a)=>{const r=t.value.find(t=>t.id===e);r&&(r.position=a)},addWidget:e=>{t.value.push(e)},removeWidget:e=>{const a=t.value.findIndex(t=>t.id===e);a>-1&&t.value.splice(a,1)},switchPreset:async e=>{const a=o.value.find(t=>t.id===e);a&&(i.value=e,s.value=a.layout,t.value=a.layout.widgets,await x(a.layout))},markAlertAsRead:_,markAllAlertsAsRead:async()=>{try{const e=n.value.filter(e=>!e.read);await Promise.all(e.map(e=>oe.dashboard.markAlertAsRead(e.id))),n.value.forEach(e=>e.read=!0)}catch(e){n.value.forEach(e=>e.read=!0)}},dismissAlert:async e=>{try{await _(e);const t=n.value.findIndex(t=>t.id===e);t>-1&&n.value.splice(t,1)}catch(t){const a=n.value.findIndex(t=>t.id===e);a>-1&&n.value.splice(a,1)}},refreshData:I,initialize:async()=>{o.value=[{id:"default",name:"Default View",description:"Standard dashboard with all widgets",layout:{id:"default",name:"Default Layout",widgets:C()}},{id:"accountant",name:"Accountant View",description:"Financial focused dashboard",role:"accountant",layout:{id:"accountant",name:"Accountant Layout",widgets:A()}},{id:"sales",name:"Sales View",description:"Sales and customer focused dashboard",role:"sales",layout:{id:"sales",name:"Sales Layout",widgets:D()}}],await I()}}}),Lt={class:"relative"},Rt={key:0,class:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg"},Et={key:1,class:"h-64"},Pt={key:2,class:"h-64 flex items-center justify-center bg-gray-50 rounded-lg"},Vt={class:"text-center"},Bt={class:"text-gray-500"},$t={class:"text-sm text-gray-400"},jt=he(u({__name:"SalesChart",props:{period:{default:"monthly"}},emits:["periodChange","refresh"],setup(e,{expose:t,emit:s}){M.register(T,L,R,E,P,V,B,$);const o=e,{t:i,locale:n}=D(),u=r(!1),f=r(null),b=r(0),k=a(()=>"fa"===n.value),x=a(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",rtl:k.value,labels:{usePointStyle:!0,padding:20,font:{family:k.value?"Vazirmatn":"Inter"}}},tooltip:{rtl:k.value,titleFont:{family:k.value?"Vazirmatn":"Inter"},bodyFont:{family:k.value?"Vazirmatn":"Inter"},callbacks:{label:function(e){return`${e.dataset.label}: $${e.parsed.y.toLocaleString()}`}}}},scales:{x:{ticks:{font:{family:k.value?"Vazirmatn":"Inter"}},grid:{display:!1}},y:{ticks:{font:{family:k.value?"Vazirmatn":"Inter"},callback:function(e){return"$"+e.toLocaleString()}},grid:{color:"rgba(0, 0, 0, 0.1)"}}},animation:{duration:750,easing:"easeInOutQuart"},interaction:{intersect:!1,mode:"index"}})),_=async()=>{try{u.value=!0;const e=await oe.dashboard.getSalesChart(o.period);if(e.data.success&&e.data.data){const t=e.data.data;f.value={labels:t.map(e=>e.label),datasets:[{label:i("dashboard.sales"),data:t.map(e=>e.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]}}else f.value=I();b.value++}catch(e){f.value=I(),b.value++}finally{u.value=!1}},I=()=>{const e=[],t=[];if("weekly"===o.period){const a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];e.push(...a),t.push(12e3,15e3,8e3,22e3,18e3,25e3,2e4)}else if("monthly"===o.period){const a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.push(...a),t.push(45e3,52e3,48e3,61e3,55e3,67e3,59e3,73e3,68e3,82e3,76e3,89e3)}else{const a=["2020","2021","2022","2023","2024"];e.push(...a),t.push(45e4,52e4,68e4,75e4,89e4)}return{labels:e,datasets:[{label:i("dashboard.sales"),data:t,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]}};return h(()=>o.period,()=>{_()}),h(()=>n.value,()=>{b.value++}),g(()=>{_()}),t({refresh:_}),(e,t)=>(l(),d("div",Lt,[u.value?(l(),d("div",Rt,t[0]||(t[0]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):p("",!0),f.value?(l(),d("div",Et,[(l(),m(v(j),{data:f.value,options:x.value,key:b.value},null,8,["data","options"]))])):(l(),d("div",Pt,[c("div",Vt,[w(v(Ae),{class:"w-12 h-12 text-gray-400 mx-auto mb-2"}),c("p",Bt,y(e.$t("dashboard.sales_chart")),1),c("p",$t,y(e.$t("dashboard.loading_chart")),1)])]))]))}}),[["__scopeId","data-v-21090b9c"]]),Ot={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ft={class:"flex items-center justify-between mb-4"},Ht={class:"text-lg font-semibold text-gray-900"},Ut={class:"flex items-center space-x-2 rtl:space-x-reverse"},Nt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},Zt={class:"space-y-3 max-h-80 overflow-y-auto"},qt={key:0,class:"text-center py-8 text-gray-500"},zt={class:"flex-shrink-0 mt-0.5"},Wt={class:"flex-1 min-w-0"},Gt={class:"flex items-start justify-between"},Jt={class:"flex-1"},Kt={class:"text-xs text-gray-400 mt-1 text-right rtl:text-right ltr:text-left"},Xt={class:"flex items-center space-x-1 rtl:space-x-reverse ml-2 rtl:ml-0 rtl:mr-2"},Qt=["onClick","title"],Yt=["onClick","title"],ea={key:0,class:"mt-2"},ta=["onClick"],aa={key:0,class:"mt-4 text-center"},ra={key:0},sa={key:1},oa=he(u({__name:"AlertWidget",props:{title:{},alerts:{},maxVisible:{default:5}},setup(e){const t=e,{t:s}=D(),o=x(),i=Tt(),n=r(t.maxVisible),u=a(()=>t.alerts.slice(0,n.value)),h=a(()=>t.alerts.filter(e=>!e.read).length),g={low:"border-l-4 rtl:border-l-0 rtl:border-r-4 border-l-blue-400 rtl:border-r-blue-400",medium:"border-l-4 rtl:border-l-0 rtl:border-r-4 border-l-yellow-400 rtl:border-r-yellow-400",high:"border-l-4 rtl:border-l-0 rtl:border-r-4 border-l-orange-400 rtl:border-r-orange-400",critical:"border-l-4 rtl:border-l-0 rtl:border-r-4 border-l-red-400 rtl:border-r-red-400"},S={low:"text-blue-500",medium:"text-yellow-500",high:"text-orange-500",critical:"text-red-500"},C=e=>{switch(e){case"pending_cheque":return He;case"low_stock":return ge;case"expiring_item":return Be;case"overdue_invoice":return ze;case"system":return je;default:return tt}},A=e=>{const t=new Date(e),a=new Date,r=Math.floor((a.getTime()-t.getTime())/6e4);if(r<1)return s("dashboard.alerts.just_now");if(r<60)return s("dashboard.alerts.minutes_ago",{count:r});if(r<1440){const e=Math.floor(r/60);return s("dashboard.alerts.hours_ago",{count:e})}{const e=Math.floor(r/1440);return s("dashboard.alerts.days_ago",{count:e})}},M=async e=>{try{await i.markAlertAsRead(e)}catch(t){}},T=async()=>{try{await i.markAllAlertsAsRead()}catch(e){}},L=async()=>{i.alertsMetadata.hasMore&&await i.loadMoreAlerts(),n.value=Math.min(n.value+t.maxVisible,t.alerts.length)};return(e,t)=>(l(),d("div",Ot,[c("div",Ft,[c("h3",Ht,y(e.title),1),c("div",Ut,[h.value>0?(l(),d("span",Nt,y(h.value),1)):p("",!0),e.alerts.length>0?(l(),d("button",{key:1,onClick:T,class:"text-sm text-gray-500 hover:text-gray-700 transition-colors"},y(e.$t("dashboard.alerts.mark_all_read")),1)):p("",!0)])]),c("div",Zt,[0===e.alerts.length?(l(),d("div",qt,[w(v(Me),{class:"w-12 h-12 mx-auto mb-2 text-green-500"}),c("p",null,y(e.$t("dashboard.alerts.no_alerts")),1)])):p("",!0),(l(!0),d(f,null,b(u.value,t=>(l(),d("div",{key:t.id,class:_(["flex items-start space-x-3 rtl:space-x-reverse p-3 rounded-lg border transition-colors",[t.read?"bg-gray-50 border-gray-200":"bg-white border-gray-300",g[t.severity]]])},[c("div",zt,[(l(),m(I(C(t.type)),{class:_(["w-5 h-5",S[t.severity]])},null,8,["class"]))]),c("div",Wt,[c("div",Gt,[c("div",Jt,[c("p",{class:_(["text-sm font-medium text-right rtl:text-right ltr:text-left",t.read?"text-gray-600":"text-gray-900"])},y(t.title),3),c("p",{class:_(["text-sm mt-1 text-right rtl:text-right ltr:text-left",t.read?"text-gray-500":"text-gray-700"])},y(t.message),3),c("p",Kt,y(A(t.timestamp)),1)]),c("div",Xt,[t.read?p("",!0):(l(),d("button",{key:0,onClick:e=>M(t.id),class:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:e.$t("dashboard.alerts.mark_read")},[w(v(Te),{class:"w-4 h-4"})],8,Qt)),c("button",{onClick:e=>(async e=>{try{await i.dismissAlert(e)}catch(t){}})(t.id),class:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:e.$t("dashboard.alerts.dismiss")},[w(v(It),{class:"w-4 h-4"})],8,Yt)])]),t.actionUrl&&t.actionLabel?(l(),d("div",ea,[c("button",{onClick:e=>(e=>{e.actionUrl&&o.push(e.actionUrl),M(e.id)})(t),class:"text-xs text-primary-600 hover:text-primary-800 font-medium transition-colors"},y(t.actionLabel),9,ta)])):p("",!0)])],2))),128))]),e.alerts.length>n.value||v(i).alertsMetadata.hasMore?(l(),d("div",aa,[c("button",{onClick:L,class:"text-sm text-primary-600 hover:text-primary-800 font-medium transition-colors"},[k(y(e.$t("dashboard.alerts.show_more"))+" ",1),e.alerts.length>n.value?(l(),d("span",ra," ("+y(e.alerts.length-n.value)+") ",1)):v(i).alertsMetadata.hasMore?(l(),d("span",sa," ("+y(v(i).alertsMetadata.total-e.alerts.length)+" more) ",1)):p("",!0)])])):p("",!0)]))}}),[["__scopeId","data-v-739b8d09"]]),ia={class:"dashboard-header"},na={class:"flex items-center justify-between mb-6"},la={class:"flex items-center space-x-4 rtl:space-x-reverse"},da={class:"text-sm text-gray-500 dark:text-gray-400"},ca={class:"flex items-center space-x-4 rtl:space-x-reverse"},ua=["disabled","title"],ha={key:0,class:"relative"},ga={class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},pa={class:"kpi-section mb-8"},ma={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 auto-cols-fr"},va={class:"flex items-start justify-between"},wa={class:"flex-1 min-w-0 pr-4 rtl:pr-0 rtl:pl-4"},ya={class:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 break-words"},fa={class:"space-y-1"},ba={class:"text-xl font-bold text-gray-900 dark:text-gray-100 truncate"},ka={class:"truncate"},xa={class:"flex-shrink-0"},_a={class:"widgets-section mb-8"},Ia={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Sa={class:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Ca={value:"monthly"},Aa={value:"weekly"},Da={value:"yearly"},Ma={class:"h-64"},Ta={class:"activities-section mb-8"},La={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Ra={class:"overflow-x-auto"},Ea={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",dir:"auto"},Pa={class:"bg-gray-50 dark:bg-gray-700"},Va={class:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ba={class:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},$a={class:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ja={class:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Oa={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Fa={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 text-left rtl:text-right"},Ha={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 text-left rtl:text-right"},Ua={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-left rtl:text-right"},Na={class:"px-6 py-4 whitespace-nowrap text-left rtl:text-right"},Za={class:"quick-actions-section"},qa={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},za={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},Wa=["onClick"],Ga={class:"text-sm font-medium text-gray-900 dark:text-gray-100 text-center break-words"},Ja={class:"space-y-4"},Ka={class:"flex-shrink-0 mt-0.5"},Xa={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Qa={class:"text-sm text-gray-700 dark:text-gray-300 mt-1"},Ya={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},er=he(u({__name:"DashboardView",setup(e){const t=x(),{t:s,locale:o}=D(),i=Tt(),n=r(!1),u=a(()=>"fa"===o.value),h=a(()=>i.isLoading),k=a(()=>new Date(i.lastUpdated||Date.now())),M=a(()=>k.value.toLocaleTimeString("en-US")),T=a(()=>i.kpis.map(e=>({key:e.key,label:s(`dashboard.kpis.${e.key}`),value:e.value,formattedValue:e.formattedValue||L(e.value,e.format||"number"),change:e.change||0,changeClass:R(e.changeType||"neutral"),changeIcon:E(e.changeType||"neutral"),icon:P(e.key),iconBg:V(e.color||"gray"),iconColor:B(e.color||"gray")}))),L=(e,t)=>{if("string"==typeof e)return e;switch(t){case"currency":return`$${e.toLocaleString()}`;case"percentage":return`${e.toFixed(1)}%`;case"weight":return`${e.toFixed(1)} kg`;default:return e.toString()}},R=e=>"increase"===e?"text-green-600":"text-red-600",E=e=>"increase"===e?ye:we,P=e=>({gold_sold:vt,total_profit:He,average_price:He,returns:Je,gross_margin:Ae,net_margin:Ae}[e]||Ae),V=e=>({yellow:"bg-yellow-100",green:"bg-green-100",blue:"bg-blue-100",red:"bg-red-100",purple:"bg-purple-100",indigo:"bg-indigo-100"}[e]||"bg-gray-100"),B=e=>({yellow:"text-yellow-600",green:"text-green-600",blue:"text-blue-600",red:"text-red-600",purple:"text-purple-600",indigo:"text-indigo-600"}[e]||"text-gray-600"),$=a(()=>i.alerts),j=a(()=>i.alertCount),O=a(()=>[{id:1,description:s("dashboard.activities.invoice_created",{number:"INV-001"}),user:"Admin",time:"2 "+s("dashboard.minutes_ago"),status:s("status.completed")},{id:2,description:s("dashboard.activities.customer_added",{name:"John Doe"}),user:"Admin",time:"5 "+s("dashboard.minutes_ago"),status:s("status.completed")},{id:3,description:s("dashboard.activities.inventory_updated",{item:"Gold Ring"}),user:"Admin",time:"10 "+s("dashboard.minutes_ago"),status:s("status.completed")},{id:4,description:s("dashboard.activities.payment_received",{number:"INV-002"}),user:"System",time:"15 "+s("dashboard.minutes_ago"),status:s("status.completed")},{id:5,description:s("dashboard.activities.stock_alert",{item:"Silver Necklace"}),user:"System",time:"20 "+s("dashboard.minutes_ago"),status:s("status.pending")}]),F=a(()=>[{key:"add_customer",label:s("dashboard.actions.add_customer"),icon:bt,route:"/customers/new"},{key:"add_inventory",label:s("dashboard.actions.add_item"),icon:ge,route:"/inventory/new"},{key:"create_invoice",label:s("dashboard.actions.create_invoice"),icon:ze,route:"/invoices/new"},{key:"view_reports",label:s("dashboard.actions.view_reports"),icon:Ae,route:"/reports"},{key:"accounting",label:s("dashboard.actions.accounting"),icon:Se,route:"/accounting"},{key:"settings",label:s("dashboard.actions.settings"),icon:je,route:"/settings"}]),H=r("monthly"),U=async()=>{await i.refreshData()},N=e=>{H.value=e},Z=async()=>{},q=e=>{const t=new Date(e),a=new Date,r=Math.floor((a.getTime()-t.getTime())/6e4);if(r<1)return"Just now";if(r<60)return`${r} minutes ago`;if(r<1440){return`${Math.floor(r/60)} hours ago`}return`${Math.floor(r/1440)} days ago`},z=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return g(async()=>{await i.initialize()}),(e,a)=>(l(),d("div",{class:_(["dashboard-container",{rtl:u.value}])},[c("div",ia,[c("div",na,[c("div",la,[c("div",da,y(e.$t("common.last_updated"))+": "+y(M.value),1)]),c("div",ca,[c("button",{onClick:U,disabled:h.value,class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-md disabled:opacity-50",title:e.$t("dashboard.refresh_dashboard")},[w(v(me),{class:_(["w-5 h-5",{"animate-spin":h.value}])},null,8,["class"])],8,ua),j.value>0?(l(),d("div",ha,[c("button",{onClick:a[0]||(a[0]=e=>n.value=!0),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-md"},[w(v(xe),{class:"w-5 h-5"}),c("span",ga,y(j.value),1)])])):p("",!0)])])]),c("div",pa,[c("div",ma,[(l(!0),d(f,null,b(T.value,e=>(l(),d("div",{key:e.key,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow min-w-0"},[c("div",va,[c("div",wa,[c("p",ya,y(e.label),1),c("div",fa,[c("p",ba,y(e.formattedValue),1),void 0!==e.change?(l(),d("div",{key:0,class:_(["flex items-center text-xs",e.changeClass])},[(l(),m(I(e.changeIcon),{class:"w-3 h-3 mr-1 flex-shrink-0"})),c("span",ka,y(Math.abs(e.change))+"%",1)],2)):p("",!0)])]),c("div",xa,[c("div",{class:_(["w-10 h-10 rounded-full flex items-center justify-center",e.iconBg])},[(l(),m(I(e.icon),{class:_(["w-5 h-5",e.iconColor])},null,8,["class"]))],2)])])]))),128))])]),c("div",_a,[c("div",Ia,[c("div",Sa,[c("div",{class:_(["flex items-center justify-between mb-4",{"flex-row-reverse":u.value}])},[c("h3",{class:_(["text-lg font-semibold text-gray-900 dark:text-gray-100",{"text-right":u.value}])},y(e.$t("dashboard.sales_overview")),3),S(c("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>H.value=e),onChange:a[2]||(a[2]=e=>N(H.value)),class:"text-sm border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-md"},[c("option",Ca,y(e.$t("dashboard.periods.monthly")),1),c("option",Aa,y(e.$t("dashboard.periods.weekly")),1),c("option",Da,y(e.$t("dashboard.periods.yearly")),1)],544),[[C,H.value]])],2),c("div",Ma,[w(jt,{period:H.value,onPeriodChange:N,onRefresh:Z},null,8,["period"])])]),w(oa,{title:e.$t("dashboard.business_alerts"),alerts:$.value,"max-visible":3},null,8,["title","alerts"])])]),c("div",Ta,[c("div",La,[c("h3",{class:_(["text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",{"text-right":u.value}])},y(e.$t("dashboard.recent_activities")),3),c("div",Ra,[c("table",Ea,[c("thead",Pa,[c("tr",null,[c("th",Va,y(e.$t("dashboard.table.activity")),1),c("th",Ba,y(e.$t("dashboard.table.user")),1),c("th",$a,y(e.$t("dashboard.table.time")),1),c("th",ja,y(e.$t("dashboard.table.status")),1)])]),c("tbody",Oa,[(l(!0),d(f,null,b(O.value,e=>(l(),d("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[c("td",Fa,y(e.description),1),c("td",Ha,y(e.user),1),c("td",Ua,y(e.time),1),c("td",Na,[c("span",{class:_(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",z(e.status)])},y(e.status),3)])]))),128))])])])])]),c("div",Za,[c("div",qa,[c("h3",{class:_(["text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",{"text-right":u.value}])},y(e.$t("dashboard.quick_actions")),3),c("div",za,[(l(!0),d(f,null,b(F.value,e=>(l(),d("button",{key:e.key,onClick:a=>(e=>{e.route&&t.push(e.route)})(e),class:"flex flex-col items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors min-h-[100px]"},[(l(),m(I(e.icon),{class:"w-8 h-8 text-gray-600 dark:text-gray-400 mb-2 flex-shrink-0"})),c("span",Ga,y(e.label),1)],8,Wa))),128))])])]),n.value?(l(),d("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:a[5]||(a[5]=e=>n.value=!1)},[c("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:a[4]||(a[4]=A(()=>{},["stop"]))},[c("div",{class:_(["flex items-center justify-between mb-6",{"flex-row-reverse":u.value}])},[c("h3",{class:_(["text-lg font-semibold text-gray-900 dark:text-gray-100",{"text-right":u.value}])},y(e.$t("dashboard.business_alerts")),3),c("button",{onClick:a[3]||(a[3]=e=>n.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[w(v(It),{class:"w-6 w-6"})])],2),c("div",Ja,[(l(!0),d(f,null,b($.value,e=>(l(),d("div",{key:e.id,class:"flex items-start space-x-3 rtl:space-x-reverse p-4 rounded-lg border border-gray-200 dark:border-gray-600"},[c("div",Ka,[w(v(Je),{class:"w-5 h-5 text-yellow-500"})]),c("div",{class:_(["flex-1",{"text-right":u.value}])},[c("p",Xa,y(e.title),1),c("p",Qa,y(e.message),1),c("p",Ya,y(q(e.timestamp)),1)],2)]))),128))])])])):p("",!0)],2))}}),[["__scopeId","data-v-a9f9e4ab"]]),tr=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"}));function ar(){const{locale:e}=D(),t=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],r=["0","1","2","3","4","5","6","7","8","9"],s=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],o=e=>e.toString().replace(/[0-9]/g,e=>{const a=parseInt(e);return t[a]}),i=e=>{let a=e;return t.forEach((e,t)=>{const s=new RegExp(e,"g");a=a.replace(s,r[t])}),s.forEach((e,t)=>{const s=new RegExp(e,"g");a=a.replace(s,r[t])}),a},n=(t,a)=>{if(null==t||""===t)return"";const r="string"==typeof t?parseFloat(i(t)):t;if(isNaN(r))return t.toString();const s={minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0,style:"decimal",currency:"IRR",...a};try{let t;if("fa"!==e.value)return t=new Intl.NumberFormat("en-US",s).format(r),t;if("currency"!==s.style){if("percent"===s.style){const e=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:s.minimumFractionDigits,maximumFractionDigits:s.maximumFractionDigits}).format(r/100);return o(e)}return t=new Intl.NumberFormat("en-US",{minimumFractionDigits:s.minimumFractionDigits,maximumFractionDigits:s.maximumFractionDigits,useGrouping:s.useGrouping}).format(r),o(t)}{const e=new Intl.NumberFormat("en-US",{minimumFractionDigits:s.minimumFractionDigits,maximumFractionDigits:s.maximumFractionDigits,useGrouping:s.useGrouping}).format(r),t=o(e);switch(s.currency){case"IRR":return`${t} ریال`;case"USD":return`${t} دلار`;case"EUR":return`${t} یورو`;default:return`${t} ${s.currency}`}}}catch(n){return t.toString()}},l=a(()=>"fa"===e.value),d=t=>{if(!t)return"";const a="string"==typeof t?parseFloat(i(t)):t;if(isNaN(a))return"";if("fa"===e.value){return`${o(a.toFixed(3))} عیار`}return`${a.toFixed(3)}K`};return{formatNumber:n,formatCurrency:(e,t="IRR",a)=>n(e,{style:"currency",currency:t,...a}),formatPercentage:(e,t)=>n(e,{style:"percent",...t}),formatFileSize:t=>{if(0===t)return n(0)+" B";const a="fa"===e.value?["بایت","کیلوبایت","مگابایت","گیگابایت","ترابایت"]:["B","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(1024)),s=t/Math.pow(1024,r);return`${n(s,{maximumFractionDigits:1})} ${a[r]}`},formatDuration:t=>{const a=Math.floor(t/3600),r=Math.floor(t%3600/60),s=t%60;return"fa"===e.value?a>0?`${o(a.toString())} ساعت و ${o(r.toString())} دقیقه`:r>0?`${o(r.toString())} دقیقه و ${o(s.toString())} ثانیه`:`${o(s.toString())} ثانیه`:a>0?`${a}h ${r}m`:r>0?`${r}m ${s}s`:`${s}s`},formatForInput:t=>{if(null==t||""===t)return"";const a="string"==typeof t?parseFloat(i(t)):t;return isNaN(a)?"":"fa"===e.value?o(a.toString()):a.toString()},formatGoldPurity:d,formatGoldPurityWithLabel:(t,a)=>{if(!t)return"";const r=d(t),s=a||("fa"===e.value?"عیار طلا":"Gold Purity");return e.value,`${s}: ${r}`},formatCategoryData:t=>{if(!t||"fa"!==e.value)return t;const a={...t};return a.sort_order&&(a.sort_order_display=o(a.sort_order.toString())),a.item_count&&(a.item_count_display=o(a.item_count.toString())),a.subcategory_count&&(a.subcategory_count_display=o(a.subcategory_count.toString())),a.default_gold_purity&&(a.gold_purity_display=d(a.default_gold_purity)),a},parseNumber:e=>{if(!e||"string"!=typeof e)return null;try{const t=i(e).replace(/[^\d.-]/g,""),a=parseFloat(t);return isNaN(a)?null:a}catch(t){return null}},toPersianNumerals:o,toEnglishNumerals:i,isValidNumber:e=>{if(!e)return!1;const t=i(e).replace(/[^\d.-]/g,"");return!isNaN(parseFloat(t))},usesPersianNumerals:l,getDecimalSeparator:()=>"fa"===e.value?"/":".",getThousandsSeparator:()=>"fa"===e.value?"،":",",getGoldPurityOptions:()=>[{value:10,label:"fa"===e.value?"طلای ۱۰ عیار":"10K Gold"},{value:14,label:"fa"===e.value?"طلای ۱۴ عیار":"14K Gold"},{value:18,label:"fa"===e.value?"طلای ۱۸ عیار":"18K Gold"},{value:21,label:"fa"===e.value?"طلای ۲۱ عیار":"21K Gold"},{value:22,label:"fa"===e.value?"طلای ۲۲ عیار":"22K Gold"},{value:24,label:"fa"===e.value?"طلای ۲۴ عیار":"24K Gold"}].map(t=>({...t,displayValue:"fa"===e.value?o(t.value.toString()):t.value.toString()}))}}export{wt as $,nt as A,ze as B,it as C,lt as D,Be as E,Le as F,st as G,kt as H,He as I,Ye as J,xt as K,pe as L,me as M,We as N,Ue as O,ct as P,De as Q,Ze as R,ee as S,_e as T,Me as U,vt as V,be as W,ye as X,Ie as Y,Se as Z,he as _,oe as a,gt as a0,at as a1,Qe as a2,ue as a3,_t as a4,Ge as a5,G as a6,et as a7,Ae as a8,je as a9,yt as aa,ot as ab,xe as ac,bt as ad,Oe as ae,$e as af,ne as ag,Fe as b,Ke as c,dt as d,ft as e,H as f,Ee as g,Xe as h,pt as i,ke as j,ut as k,rt as l,It as m,ht as n,Te as o,Ve as p,ve as q,Je as r,fe as s,mt as t,ar as u,Ce as v,Re as w,Pe as x,Ne as y,qe as z};
