import{q as t,r as e,c as a,d as r,l as s,o as n,w as o,u as l,x as d,y as c,C as i,k as u,B as g,L as m,J as x,O as y,z as p,K as b,F as k,D as v,Q as f,E as h,H as w,A as _,I as $}from"./chunk-6e15bf0e.js";import{S as C,m as D,u as U,i as j,T as S,e as V,I as R,U as L,r as A,R as T,V as F,W as q,X as E,M as I,Y as z,b as M,B as O,E as P,Z as B,L as H,$ as G,H as J,a0 as Y,d as Z,a1 as N,a2 as K}from"./chunk-7e530ccd.js";import{a as Q}from"./chunk-4562ab5a.js";import"./chunk-b3261f71.js";import"./chunk-842293c6.js";import"./chunk-63a63872.js";import"./chunk-e5f6a124.js";const W=t("accounting",()=>{const t=e([]),r=e([]),s=e([]),n=e([]),o=e([]),l=e(null),d=e(!1),c=e(null),i=e({type:"",is_active:!0,search:""}),u=e({date_from:"",date_to:"",account_id:null,type:"",is_locked:null,search:""}),g=e({date_from:"",date_to:"",action:"",auditable_type:"",user_id:null,search:""}),m=a(()=>t.value.filter(t=>{const e=!i.value.type||t.type===i.value.type,a=t.is_active===i.value.is_active,r=!i.value.search||t.name.toLowerCase().includes(i.value.search.toLowerCase())||t.code.toLowerCase().includes(i.value.search.toLowerCase());return e&&a&&r})),x=a(()=>r.value.filter(t=>{const e=!u.value.date_from||t.transaction_date>=u.value.date_from,a=!u.value.date_to||t.transaction_date<=u.value.date_to,r=!u.value.type||t.type===u.value.type,s=null===u.value.is_locked||t.is_locked===u.value.is_locked,n=!u.value.search||t.description.toLowerCase().includes(u.value.search.toLowerCase())||t.reference_number.toLowerCase().includes(u.value.search.toLowerCase());return e&&a&&r&&s&&n})),y=a(()=>{const e={};return t.value.forEach(t=>{e[t.type]||(e[t.type]=[]),e[t.type].push(t)}),e});return{accounts:t,transactions:r,costCenters:s,assets:n,auditLogs:o,currentReport:l,loading:d,error:c,accountFilter:i,transactionFilter:u,auditLogFilter:g,filteredAccounts:m,filteredTransactions:x,accountsByType:y,fetchAccounts:async()=>{var e,a;try{d.value=!0;const e=await C.get("/accounting/accounts");t.value=e.data.data}catch(r){throw c.value=(null==(a=null==(e=r.response)?void 0:e.data)?void 0:a.message)||"Failed to fetch accounts",r}finally{d.value=!1}},createAccount:async e=>{var a,r;try{d.value=!0;const a=await C.post("/accounting/accounts",e);return t.value.push(a.data.data),a.data.data}catch(s){throw c.value=(null==(r=null==(a=s.response)?void 0:a.data)?void 0:r.message)||"Failed to create account",s}finally{d.value=!1}},updateAccount:async(e,a)=>{var r,s;try{d.value=!0;const r=await C.put(`/accounting/accounts/${e}`,a),s=t.value.findIndex(t=>t.id===e);return-1!==s&&(t.value[s]=r.data.data),r.data.data}catch(n){throw c.value=(null==(s=null==(r=n.response)?void 0:r.data)?void 0:s.message)||"Failed to update account",n}finally{d.value=!1}},deleteAccount:async e=>{var a,r;try{d.value=!0,await C.delete(`/accounting/accounts/${e}`),t.value=t.value.filter(t=>t.id!==e)}catch(s){throw c.value=(null==(r=null==(a=s.response)?void 0:a.data)?void 0:r.message)||"Failed to delete account",s}finally{d.value=!1}},fetchTransactions:async()=>{var t,e;try{d.value=!0;const t=new URLSearchParams;u.value.date_from&&t.append("date_from",u.value.date_from),u.value.date_to&&t.append("date_to",u.value.date_to),u.value.account_id&&t.append("account_id",u.value.account_id.toString()),u.value.type&&t.append("type",u.value.type),null!==u.value.is_locked&&t.append("is_locked",u.value.is_locked.toString()),u.value.search&&t.append("search",u.value.search);const e=await C.get(`/accounting/transactions?${t.toString()}`);r.value=e.data.data}catch(a){throw c.value=(null==(e=null==(t=a.response)?void 0:t.data)?void 0:e.message)||"Failed to fetch transactions",a}finally{d.value=!1}},createTransaction:async t=>{var e,a;try{d.value=!0;const e=await C.post("/accounting/transactions",t);return r.value.unshift(e.data.data),e.data.data}catch(s){throw c.value=(null==(a=null==(e=s.response)?void 0:e.data)?void 0:a.message)||"Failed to create transaction",s}finally{d.value=!1}},updateTransaction:async(t,e)=>{var a,s;try{d.value=!0;const a=await C.put(`/accounting/transactions/${t}`,e),s=r.value.findIndex(e=>e.id===t);return-1!==s&&(r.value[s]=a.data.data),a.data.data}catch(n){throw c.value=(null==(s=null==(a=n.response)?void 0:a.data)?void 0:s.message)||"Failed to update transaction",n}finally{d.value=!1}},lockTransaction:async t=>{var e,a;try{d.value=!0,await C.post(`/accounting/transactions/${t}/lock`);const e=r.value.find(e=>e.id===t);e&&(e.is_locked=!0)}catch(s){throw c.value=(null==(a=null==(e=s.response)?void 0:e.data)?void 0:a.message)||"Failed to lock transaction",s}finally{d.value=!1}},unlockTransaction:async t=>{var e,a;try{d.value=!0,await C.post(`/accounting/transactions/${t}/unlock`);const e=r.value.find(e=>e.id===t);e&&(e.is_locked=!1)}catch(s){throw c.value=(null==(a=null==(e=s.response)?void 0:e.data)?void 0:a.message)||"Failed to unlock transaction",s}finally{d.value=!1}},deleteTransaction:async t=>{var e,a;try{d.value=!0,await C.delete(`/accounting/transactions/${t}`),r.value=r.value.filter(e=>e.id!==t)}catch(s){throw c.value=(null==(a=null==(e=s.response)?void 0:e.data)?void 0:a.message)||"Failed to delete transaction",s}finally{d.value=!1}},generateReport:async(t,e={})=>{var a,r;try{d.value=!0;const a=await C.post(`/accounting/reports/${t}`,e);return l.value=a.data.data,a.data.data}catch(s){throw c.value=(null==(r=null==(a=s.response)?void 0:a.data)?void 0:r.message)||"Failed to generate report",s}finally{d.value=!1}},fetchCostCenters:async()=>{var t,e;try{d.value=!0;const t=await C.get("/accounting/cost-centers");s.value=t.data.data}catch(a){throw c.value=(null==(e=null==(t=a.response)?void 0:t.data)?void 0:e.message)||"Failed to fetch cost centers",a}finally{d.value=!1}},fetchAssets:async()=>{var t,e;try{d.value=!0;const t=await C.get("/accounting/assets");n.value=t.data.data}catch(a){throw c.value=(null==(e=null==(t=a.response)?void 0:t.data)?void 0:e.message)||"Failed to fetch assets",a}finally{d.value=!1}},fetchAuditLogs:async()=>{var t,e;try{d.value=!0;const t=new URLSearchParams;g.value.date_from&&t.append("date_from",g.value.date_from),g.value.date_to&&t.append("date_to",g.value.date_to),g.value.action&&t.append("action",g.value.action),g.value.auditable_type&&t.append("auditable_type",g.value.auditable_type),g.value.user_id&&t.append("user_id",g.value.user_id.toString()),g.value.search&&t.append("search",g.value.search);const e=await C.get(`/accounting/audit-logs?${t.toString()}`);o.value=e.data.data}catch(a){throw c.value=(null==(e=null==(t=a.response)?void 0:t.data)?void 0:e.message)||"Failed to fetch audit logs",a}finally{d.value=!1}},getGeneralLedger:async(t,e,a)=>{var r,s;try{d.value=!0;const r=new URLSearchParams;e&&r.append("start_date",e),a&&r.append("end_date",a);return(await C.get(`/accounting/accounts/${t}/ledger?${r.toString()}`)).data.data}catch(n){throw c.value=(null==(s=null==(r=n.response)?void 0:r.data)?void 0:s.message)||"Failed to fetch general ledger",n}finally{d.value=!1}},clearError:()=>{c.value=null}}}),X={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},tt={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800"},et={class:"flex items-center justify-between mb-4"},at={class:"text-lg font-medium text-gray-900 dark:text-white"},rt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},st=["placeholder"],nt={key:0,class:"mt-1 text-sm text-red-600"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},dt=["placeholder"],ct={key:0,class:"mt-1 text-sm text-red-600"},it={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ut=["placeholder"],gt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},xt={value:""},yt={value:"asset"},pt={value:"liability"},bt={value:"equity"},kt={value:"revenue"},vt={value:"expense"},ft={key:0,class:"mt-1 text-sm text-red-600"},ht={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},wt=["disabled"],_t={value:""},$t=["value"],Ct={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Dt={value:""},Ut=["value"],jt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},St={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Vt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Rt=["placeholder"],Lt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},At=["placeholder"],Tt={class:"flex items-center"},Ft={class:"ml-2 block text-sm text-gray-900 dark:text-white"},qt={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"},Et=["disabled"],It={key:0,class:"inline-flex items-center"},zt={key:1},Mt=r({__name:"AccountFormModal",props:{account:{}},emits:["close","saved"],setup(t,{emit:r}){const w=t,_=r,$=W(),C=e(!1),U=e({}),j=s({code:"",name:"",name_persian:"",type:"",subtype:"",parent_id:null,currency:"USD",opening_balance:0,description:"",is_active:!0}),S=e([]),V={asset:[{value:"current_asset",label:"accounting.current_asset"},{value:"fixed_asset",label:"accounting.fixed_asset"},{value:"intangible_asset",label:"accounting.intangible_asset"}],liability:[{value:"current_liability",label:"accounting.current_liability"},{value:"long_term_liability",label:"accounting.long_term_liability"}],equity:[{value:"owner_equity",label:"accounting.owner_equity"},{value:"retained_earnings",label:"accounting.retained_earnings"}],revenue:[{value:"operating_revenue",label:"accounting.operating_revenue"},{value:"other_revenue",label:"accounting.other_revenue"}],expense:[{value:"operating_expense",label:"accounting.operating_expense"},{value:"other_expense",label:"accounting.other_expense"}]},R=a(()=>$.accounts.filter(t=>(!w.account||t.id!==w.account.id)&&t.type===j.type)),L=()=>{S.value=V[j.type]||[],j.subtype=""},A=async()=>{var t,e;if(U.value={},j.code.trim()||(U.value.code="Account code is required"),j.name.trim()||(U.value.name="Account name is required"),j.type||(U.value.type="Account type is required"),0===Object.keys(U.value).length){C.value=!0;try{let t;const e={...j,type:j.type,parent_id:j.parent_id||void 0};t=w.account?await $.updateAccount(w.account.id,e):await $.createAccount(e),_("saved",t)}catch(a){(null==(e=null==(t=a.response)?void 0:t.data)?void 0:e.errors)&&(U.value=a.response.data.errors)}finally{C.value=!1}}};return n(()=>{w.account&&(Object.assign(j,{code:w.account.code,name:w.account.name,name_persian:w.account.name_persian||"",type:w.account.type,subtype:w.account.subtype||"",parent_id:w.account.parent_id,currency:w.account.currency||"USD",opening_balance:w.account.opening_balance||0,description:w.account.description||"",is_active:w.account.is_active}),L())}),o(()=>j.type,L),(t,e)=>(l(),d("div",X,[c("div",tt,[c("div",et,[c("h3",at,i(t.account?t.$t("accounting.edit_account"):t.$t("accounting.create_account")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),c("form",{onSubmit:m(A,["prevent"]),class:"space-y-6"},[c("div",null,[c("label",rt,i(t.$t("accounting.account_code"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>j.code=t),type:"text",required:"",placeholder:t.$t("accounting.account_code_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,st),[[y,j.code]]),U.value.code?(l(),d("p",nt,i(U.value.code),1)):p("",!0)]),c("div",ot,[c("div",null,[c("label",lt,i(t.$t("accounting.account_name_english"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>j.name=t),type:"text",required:"",placeholder:t.$t("accounting.account_name_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,dt),[[y,j.name]]),U.value.name?(l(),d("p",ct,i(U.value.name),1)):p("",!0)]),c("div",null,[c("label",it,i(t.$t("accounting.account_name_persian")),1),x(c("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>j.name_persian=t),type:"text",placeholder:t.$t("accounting.account_name_persian_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm",dir:"rtl"},null,8,ut),[[y,j.name_persian]])])]),c("div",gt,[c("div",null,[c("label",mt,i(t.$t("accounting.account_type"))+" * ",1),x(c("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>j.type=t),onChange:L,required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",xt,i(t.$t("common.select")),1),c("option",yt,i(t.$t("accounting.asset")),1),c("option",pt,i(t.$t("accounting.liability")),1),c("option",bt,i(t.$t("accounting.equity")),1),c("option",kt,i(t.$t("accounting.revenue")),1),c("option",vt,i(t.$t("accounting.expense")),1)],544),[[b,j.type]]),U.value.type?(l(),d("p",ft,i(U.value.type),1)):p("",!0)]),c("div",null,[c("label",ht,i(t.$t("accounting.account_subtype")),1),x(c("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>j.subtype=t),disabled:!j.type,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm disabled:opacity-50"},[c("option",_t,i(t.$t("common.select")),1),(l(!0),d(k,null,v(S.value,e=>(l(),d("option",{key:e.value,value:e.value},i(t.$t(e.label)),9,$t))),128))],8,wt),[[b,j.subtype]])])]),c("div",null,[c("label",Ct,i(t.$t("accounting.parent_account")),1),x(c("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>j.parent_id=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",Dt,i(t.$t("accounting.no_parent")),1),(l(!0),d(k,null,v(R.value,t=>{return l(),d("option",{key:t.id,value:t.id},i(t.code)+" - "+i((e=t,"fa"===(document.documentElement.lang||"en")&&e.name_persian?e.name_persian:e.name)),9,Ut);var e}),128))],512),[[b,j.parent_id]])]),c("div",jt,[c("div",null,[c("label",St,i(t.$t("accounting.currency")),1),x(c("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>j.currency=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},e[12]||(e[12]=[c("option",{value:"USD"},"USD - US Dollar",-1),c("option",{value:"EUR"},"EUR - Euro",-1),c("option",{value:"IRR"},"IRR - Iranian Rial",-1),c("option",{value:"AED"},"AED - UAE Dirham",-1)]),512),[[b,j.currency]])]),c("div",null,[c("label",Vt,i(t.$t("accounting.opening_balance")),1),x(c("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>j.opening_balance=t),type:"number",step:"0.01",placeholder:t.$t("accounting.opening_balance_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,Rt),[[y,j.opening_balance,void 0,{number:!0}]])])]),c("div",null,[c("label",Lt,i(t.$t("common.description")),1),x(c("textarea",{"onUpdate:modelValue":e[9]||(e[9]=t=>j.description=t),rows:"3",placeholder:t.$t("accounting.account_description_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,At),[[y,j.description]])]),c("div",Tt,[x(c("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>j.is_active=t),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,j.is_active]]),c("label",Ft,i(t.$t("accounting.account_is_active")),1)]),c("div",qt,[c("button",{type:"button",onClick:e[11]||(e[11]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.cancel")),1),c("button",{type:"submit",disabled:C.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[C.value?(l(),d("span",It,[e[13]||(e[13]=c("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),h(" "+i(t.$t("common.saving")),1)])):(l(),d("span",zt,i(t.account?t.$t("common.update"):t.$t("common.create")),1))],8,Et)])],32)])]))}}),Ot={class:"space-y-6"},Pt={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Bt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},Ht={class:"text-lg font-medium text-gray-900 dark:text-white"},Gt={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Jt={class:"flex space-x-3"},Yt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Zt={class:"lg:col-span-1"},Nt={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Kt={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Qt={class:"text-lg font-medium text-gray-900 dark:text-white"},Wt={class:"mt-4 space-y-3"},Xt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},te={value:""},ee={value:"asset"},ae={value:"liability"},re={value:"equity"},se={value:"revenue"},ne={value:"expense"},oe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},le=["placeholder"],de={class:"p-6 max-h-96 overflow-y-auto"},ce={class:"space-y-2"},ie=["onClick"],ue={class:"flex items-center justify-between"},ge={class:"text-sm font-medium text-gray-900 dark:text-white"},me={class:"text-xs text-gray-500 dark:text-gray-400 capitalize"},xe={class:"text-right"},ye={class:"text-sm font-medium text-gray-900 dark:text-white"},pe={class:"lg:col-span-2"},be={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},ke={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},ve={class:"flex items-center justify-between"},fe={class:"text-lg font-medium text-gray-900 dark:text-white"},he={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},we={key:0,class:"flex space-x-3"},_e={class:"flex space-x-2"},$e={key:0,class:"p-6"},Ce={key:0,class:"overflow-x-auto"},De={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ue={class:"bg-gray-50 dark:bg-gray-700"},je={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Se={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ve={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Re={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Le={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ae={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Te={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},qe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ee={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Ie={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},ze={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Me={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-gray-900 dark:text-white"},Oe={key:1,class:"text-center py-12"},Pe={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},Be={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},He={key:1,class:"p-12 text-center"},Ge={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},Je={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Ye=r({__name:"GeneralLedgerView",setup(t){const a=W(),{formatDate:r}=Q(),{formatCurrency:s}=U(),o=e(null),m=e([]),f=e(!1),$=e(null),C=e({start:new Date((new Date).getFullYear(),0,1).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),D=t=>"fa"===(document.documentElement.lang||"en")&&t.name_persian?t.name_persian:t.name,V=async()=>{if(o.value)try{m.value=await a.getGeneralLedger(o.value.id,C.value.start,C.value.end)}catch(t){}},R=()=>{f.value=!1,$.value=null},L=()=>{R(),a.fetchAccounts()};return n(()=>{a.fetchAccounts()}),(t,e)=>(l(),d("div",Ot,[c("div",Pt,[c("div",Bt,[c("div",null,[c("h3",Ht,i(t.$t("accounting.general_ledger")),1),c("p",Gt,i(t.$t("accounting.general_ledger_description")),1)]),c("div",Jt,[c("button",{onClick:e[0]||(e[0]=t=>f.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.create_account")),1)])])])]),c("div",Yt,[c("div",Zt,[c("div",Nt,[c("div",Kt,[c("h4",Qt,i(t.$t("accounting.chart_of_accounts")),1),c("div",Wt,[c("div",null,[c("label",Xt,i(t.$t("accounting.account_type")),1),x(c("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>g(a).accountFilter.type=t),onChange:e[2]||(e[2]=t=>g(a).fetchAccounts()),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",te,i(t.$t("common.all")),1),c("option",ee,i(t.$t("accounting.asset")),1),c("option",ae,i(t.$t("accounting.liability")),1),c("option",re,i(t.$t("accounting.equity")),1),c("option",se,i(t.$t("accounting.revenue")),1),c("option",ne,i(t.$t("accounting.expense")),1)],544),[[b,g(a).accountFilter.type]])]),c("div",null,[c("label",oe,i(t.$t("common.search")),1),x(c("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>g(a).accountFilter.search=t),onInput:e[4]||(e[4]=t=>g(a).fetchAccounts()),type:"text",placeholder:t.$t("accounting.search_accounts"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,40,le),[[y,g(a).accountFilter.search]])])])]),c("div",de,[c("div",ce,[(l(!0),d(k,null,v(g(a).filteredAccounts,e=>{var a;return l(),d("div",{key:e.id,onClick:t=>(async t=>{o.value=t,await V()})(e),class:w(["p-3 rounded-lg cursor-pointer transition-colors",(null==(a=o.value)?void 0:a.id)===e.id?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-700":"hover:bg-gray-50 dark:hover:bg-gray-700"])},[c("div",ue,[c("div",null,[c("p",ge,i(e.code)+" - "+i(D(e)),1),c("p",me,i(t.$t(`accounting.${e.type}`)),1)]),c("div",xe,[c("p",ye,i(g(s)(e.current_balance||0)),1)])])],10,ie)}),128))])])])]),c("div",pe,[c("div",be,[c("div",ke,[c("div",ve,[c("div",null,[c("h4",fe,i(o.value?`${o.value.code} - ${D(o.value)}`:t.$t("accounting.select_account")),1),o.value?(l(),d("p",he,i(t.$t("accounting.current_balance"))+": "+i(g(s)(o.value.current_balance||0)),1)):p("",!0)]),o.value?(l(),d("div",we,[c("div",_e,[x(c("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>C.value.start=t),onChange:V,type:"date",class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,544),[[y,C.value.start]]),x(c("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>C.value.end=t),onChange:V,type:"date",class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,544),[[y,C.value.end]])])])):p("",!0)])]),o.value?(l(),d("div",$e,[m.value.length>0?(l(),d("div",Ce,[c("table",De,[c("thead",Ue,[c("tr",null,[c("th",je,i(t.$t("common.date")),1),c("th",Se,i(t.$t("accounting.reference")),1),c("th",Ve,i(t.$t("common.description")),1),c("th",Re,i(t.$t("accounting.debit")),1),c("th",Le,i(t.$t("accounting.credit")),1),c("th",Ae,i(t.$t("accounting.balance")),1)])]),c("tbody",Te,[(l(!0),d(k,null,v(m.value,t=>(l(),d("tr",{key:`${t.date}-${t.reference}`},[c("td",Fe,i(g(r)(t.date)),1),c("td",qe,i(t.reference),1),c("td",Ee,i(t.description),1),c("td",Ie,i(t.debit>0?g(s)(t.debit):"-"),1),c("td",ze,i(t.credit>0?g(s)(t.credit):"-"),1),c("td",Me,i(g(s)(t.balance)),1)]))),128))])])])):(l(),d("div",Oe,[u(g(S),{class:"mx-auto h-12 w-12 text-gray-400"}),c("h3",Pe,i(t.$t("accounting.no_ledger_entries")),1),c("p",Be,i(t.$t("accounting.no_ledger_entries_description")),1)]))])):(l(),d("div",He,[u(g(S),{class:"mx-auto h-12 w-12 text-gray-400"}),c("h3",Ge,i(t.$t("accounting.select_account_to_view")),1),c("p",Je,i(t.$t("accounting.select_account_description")),1)]))])])]),f.value?(l(),_(Mt,{key:0,account:$.value,onClose:R,onSaved:L},null,8,["account"])):p("",!0)]))}}),Ze={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Ne={class:"relative top-10 mx-auto p-5 border w-11/12 md:w-5/6 lg:w-4/5 xl:w-3/4 shadow-lg rounded-md bg-white dark:bg-gray-800 max-h-screen overflow-y-auto"},Ke={class:"flex items-center justify-between mb-4"},Qe={class:"text-lg font-medium text-gray-900 dark:text-white"},We={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Xe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ta=["placeholder"],ea={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},aa={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ra={value:""},sa={value:"journal"},na={value:"invoice"},oa={value:"payment"},la={value:"adjustment"},da={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ca={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ia=["placeholder"],ua={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ga=["placeholder"],ma={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xa={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ya={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},pa={class:"space-y-4"},ba={class:"flex items-center justify-between"},ka={class:"text-lg font-medium text-gray-900 dark:text-white"},va={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},fa={key:0,class:"text-center py-8"},ha={class:"text-gray-500 dark:text-gray-400"},wa={key:1,class:"space-y-4"},_a={class:"flex items-center justify-between mb-4"},$a={class:"text-sm font-medium text-gray-900 dark:text-white"},Ca=["onClick"],Da={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ua={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ja=["onUpdate:modelValue"],Sa={value:""},Va=["label"],Ra=["value"],La={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Aa=["onUpdate:modelValue"],Ta={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Fa=["onUpdate:modelValue"],qa={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ea=["onUpdate:modelValue","placeholder"],Ia={key:2,class:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600"},za={class:"flex items-center justify-between text-sm"},Ma={class:"flex space-x-6"},Oa={class:"text-gray-600 dark:text-gray-400"},Pa={class:"text-gray-600 dark:text-gray-400"},Ba={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ha=["placeholder"],Ga={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"},Ja=["disabled"],Ya={key:0,class:"inline-flex items-center"},Za={key:1},Na=r({__name:"TransactionFormModal",props:{transaction:{}},emits:["close","saved"],setup(t,{emit:r}){const o=t,f=r,_=W(),{formatCurrency:$}=U(),C=e(!1),S=s({reference_number:"",description:"",description_persian:"",transaction_date:(new Date).toISOString().split("T")[0],type:"",total_amount:0,currency:"USD",exchange_rate:1,cost_center_id:void 0,tags:[],notes:"",entries:[]}),R=a(()=>S.entries.reduce((t,e)=>t+(e.debit_amount||0),0)),L=a(()=>S.entries.reduce((t,e)=>t+(e.credit_amount||0),0)),A=a(()=>Math.abs(R.value-L.value)<.01),T=()=>{S.entries.push({account_id:0,debit_amount:0,credit_amount:0,description:"",description_persian:""})},F=()=>{S.total_amount=Math.max(R.value,L.value)},q=async()=>{if(A.value&&0!==S.entries.length){C.value=!0;try{let t;t=o.transaction?await _.updateTransaction(o.transaction.id,S):await _.createTransaction(S),f("saved",t)}catch(t){}finally{C.value=!1}}};return n(()=>{o.transaction?Object.assign(S,{reference_number:o.transaction.reference_number,description:o.transaction.description,description_persian:o.transaction.description_persian||"",transaction_date:o.transaction.transaction_date,type:o.transaction.type,total_amount:o.transaction.total_amount,currency:o.transaction.currency||"USD",exchange_rate:o.transaction.exchange_rate||1,cost_center_id:o.transaction.cost_center_id,tags:o.transaction.tags||[],notes:o.transaction.notes||"",entries:[]}):(T(),T())}),(t,e)=>(l(),d("div",Ze,[c("div",Ne,[c("div",Ke,[c("h3",Qe,i(t.transaction?t.$t("accounting.edit_transaction"):t.$t("accounting.create_transaction")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),c("form",{onSubmit:m(q,["prevent"]),class:"space-y-6"},[c("div",We,[c("div",null,[c("label",Xe,i(t.$t("accounting.reference_number")),1),x(c("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>S.reference_number=t),type:"text",placeholder:t.$t("accounting.auto_generated"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,ta),[[y,S.reference_number]])]),c("div",null,[c("label",ea,i(t.$t("common.date"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>S.transaction_date=t),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,S.transaction_date]])]),c("div",null,[c("label",aa,i(t.$t("accounting.transaction_type"))+" * ",1),x(c("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>S.type=t),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",ra,i(t.$t("common.select")),1),c("option",sa,i(t.$t("accounting.journal_entry")),1),c("option",na,i(t.$t("accounting.invoice_entry")),1),c("option",oa,i(t.$t("accounting.payment_entry")),1),c("option",la,i(t.$t("accounting.adjustment_entry")),1)],512),[[b,S.type]])])]),c("div",da,[c("div",null,[c("label",ca,i(t.$t("accounting.description_english"))+" * ",1),x(c("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>S.description=t),rows:"3",required:"",placeholder:t.$t("accounting.transaction_description_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,ia),[[y,S.description]])]),c("div",null,[c("label",ua,i(t.$t("accounting.description_persian")),1),x(c("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>S.description_persian=t),rows:"3",placeholder:t.$t("accounting.transaction_description_persian_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm",dir:"rtl"},null,8,ga),[[y,S.description_persian]])])]),c("div",ma,[c("div",null,[c("label",xa,i(t.$t("accounting.currency")),1),x(c("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>S.currency=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},e[10]||(e[10]=[c("option",{value:"USD"},"USD - US Dollar",-1),c("option",{value:"EUR"},"EUR - Euro",-1),c("option",{value:"IRR"},"IRR - Iranian Rial",-1),c("option",{value:"AED"},"AED - UAE Dirham",-1)]),512),[[b,S.currency]])]),c("div",null,[c("label",ya,i(t.$t("accounting.exchange_rate")),1),x(c("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>S.exchange_rate=t),type:"number",step:"0.000001",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,S.exchange_rate,void 0,{number:!0}]])])]),c("div",pa,[c("div",ba,[c("h4",ka,i(t.$t("accounting.transaction_entries")),1),c("button",{type:"button",onClick:T,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-900 dark:text-blue-200"},[u(g(j),{class:"w-4 h-4 mr-1"}),h(" "+i(t.$t("accounting.add_entry")),1)])]),c("div",va,[0===S.entries.length?(l(),d("div",fa,[c("p",ha,i(t.$t("accounting.no_entries_added")),1),c("button",{type:"button",onClick:T,class:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-900 dark:text-blue-200"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.add_first_entry")),1)])])):(l(),d("div",wa,[(l(!0),d(k,null,v(S.entries,(e,a)=>(l(),d("div",{key:a,class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-600"},[c("div",_a,[c("h5",$a,i(t.$t("accounting.entry"))+" "+i(a+1),1),c("button",{type:"button",onClick:t=>(t=>{S.entries.splice(t,1),F()})(a),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"},[u(g(V),{class:"w-4 h-4"})],8,Ca)]),c("div",Da,[c("div",null,[c("label",Ua,i(t.$t("accounting.account"))+" * ",1),x(c("select",{"onUpdate:modelValue":t=>e.account_id=t,required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",Sa,i(t.$t("common.select")),1),(l(!0),d(k,null,v(g(_).accountsByType,(e,a)=>(l(),d("optgroup",{key:a,label:t.$t(`accounting.${a}`)},[(l(!0),d(k,null,v(e,t=>(l(),d("option",{key:t.id,value:t.id},i(t.code)+" - "+i((t=>"fa"===(document.documentElement.lang||"en")&&t.name_persian?t.name_persian:t.name)(t)),9,Ra))),128))],8,Va))),128))],8,ja),[[b,e.account_id]])]),c("div",null,[c("label",La,i(t.$t("accounting.debit_amount")),1),x(c("input",{"onUpdate:modelValue":t=>e.debit_amount=t,onInput:F,type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,40,Aa),[[y,e.debit_amount,void 0,{number:!0}]])]),c("div",null,[c("label",Ta,i(t.$t("accounting.credit_amount")),1),x(c("input",{"onUpdate:modelValue":t=>e.credit_amount=t,onInput:F,type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,40,Fa),[[y,e.credit_amount,void 0,{number:!0}]])]),c("div",null,[c("label",qa,i(t.$t("common.description")),1),x(c("input",{"onUpdate:modelValue":t=>e.description=t,type:"text",placeholder:t.$t("accounting.entry_description_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,Ea),[[y,e.description]])])])]))),128))])),S.entries.length>0?(l(),d("div",Ia,[c("div",za,[c("div",Ma,[c("span",Oa,i(t.$t("accounting.total_debits"))+": "+i(g($)(R.value)),1),c("span",Pa,i(t.$t("accounting.total_credits"))+": "+i(g($)(L.value)),1)]),c("span",{class:w(["font-medium",A.value?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},i(A.value?t.$t("accounting.balanced"):t.$t("accounting.unbalanced"))+" ("+i(t.$t("accounting.difference"))+": "+i(g($)(Math.abs(R.value-L.value)))+") ",3)])])):p("",!0)])]),c("div",null,[c("label",Ba,i(t.$t("common.notes")),1),x(c("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>S.notes=t),rows:"3",placeholder:t.$t("accounting.transaction_notes_placeholder"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,Ha),[[y,S.notes]])]),c("div",Ga,[c("button",{type:"button",onClick:e[9]||(e[9]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.cancel")),1),c("button",{type:"submit",disabled:C.value||!A.value||0===S.entries.length,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[C.value?(l(),d("span",Ya,[e[11]||(e[11]=c("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),h(" "+i(t.$t("common.saving")),1)])):(l(),d("span",Za,i(t.transaction?t.$t("common.update"):t.$t("common.create")),1))],8,Ja)])],32)])]))}}),Ka={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Qa={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800"},Wa={class:"flex items-center justify-between mb-6"},Xa={class:"text-lg font-medium text-gray-900 dark:text-white"},tr={key:0,class:"space-y-6"},er={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},ar={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},sr={class:"mt-1 text-sm text-gray-900 dark:text-white font-mono"},nr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},or={class:"mt-1 text-sm text-gray-900 dark:text-white"},lr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},dr={class:"mt-1 text-sm text-gray-900 dark:text-white capitalize"},cr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ir={class:"mt-1 text-sm text-gray-900 dark:text-white font-semibold"},ur={class:"text-xs text-gray-500 dark:text-gray-400 ml-1"},gr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},mr={key:0},xr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},yr={class:"mt-1 text-sm text-gray-900 dark:text-white"},pr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},br={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},kr={class:"text-sm text-gray-900 dark:text-white"},vr={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-2 italic",dir:"rtl"},fr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4"},hr={key:0,class:"overflow-x-auto"},wr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},_r={class:"bg-gray-50 dark:bg-gray-700"},$r={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Cr={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Dr={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ur={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},jr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Sr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Vr={class:"font-medium"},Rr={class:"text-gray-500 dark:text-gray-400"},Lr={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Ar={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Tr={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Fr={class:"bg-gray-50 dark:bg-gray-700"},qr={colspan:"2",class:"px-6 py-3 text-sm font-medium text-gray-900 dark:text-white"},Er={class:"px-6 py-3 text-sm font-medium text-right text-gray-900 dark:text-white"},Ir={class:"px-6 py-3 text-sm font-medium text-right text-gray-900 dark:text-white"},zr={key:1,class:"text-center py-8 bg-gray-50 dark:bg-gray-700 rounded-lg"},Mr={class:"text-gray-500 dark:text-gray-400"},Or={key:0},Pr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Br={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Hr={class:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap"},Gr={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Jr={class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},Yr={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Zr={class:"text-gray-500 dark:text-gray-400"},Nr={class:"ml-2 text-gray-900 dark:text-white"},Kr={class:"text-gray-500 dark:text-gray-400"},Qr={class:"ml-2 text-gray-900 dark:text-white"},Wr={key:0},Xr={class:"text-gray-500 dark:text-gray-400"},ts={class:"ml-2 text-gray-900 dark:text-white"},es={key:1},as={class:"text-gray-500 dark:text-gray-400"},rs={class:"ml-2 text-gray-900 dark:text-white"},ss={key:1},ns={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},os={class:"flex flex-wrap gap-2"},ls={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700 mt-6"},ds=r({__name:"TransactionDetailsModal",props:{transaction:{}},emits:["close"],setup(t){const r=t,{formatDate:s}=Q(),{formatCurrency:o}=U(),m=e([]),x=a(()=>m.value.reduce((t,e)=>t+(e.debit_amount||0),0)),y=a(()=>m.value.reduce((t,e)=>t+(e.credit_amount||0),0)),b=t=>{if(!t)return"";return"fa"===(document.documentElement.lang||"en")&&t.description_persian?t.description_persian:t.description},f=t=>{if(!t)return"";return"fa"===(document.documentElement.lang||"en")&&t.name_persian?t.name_persian:t.name};return n(()=>{r.transaction&&(m.value=[{id:1,account_id:1,debit_amount:(r.transaction.total_amount||0)/2,credit_amount:0,description:"Sample debit entry",account:{id:1,code:"1001",name:"Cash",name_persian:"نقد",type:"asset",balance:0,is_active:!0,created_at:"",updated_at:""}},{id:2,account_id:2,debit_amount:0,credit_amount:(r.transaction.total_amount||0)/2,description:"Sample credit entry",account:{id:2,code:"4001",name:"Sales Revenue",name_persian:"درآمد فروش",type:"revenue",balance:0,is_active:!0,created_at:"",updated_at:""}}])}),(t,e)=>{var a,r;return l(),d("div",Ka,[c("div",Qa,[c("div",Wa,[c("h3",Xa,i(t.$t("accounting.transaction_details")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),t.transaction?(l(),d("div",tr,[c("div",er,[c("div",ar,[c("div",null,[c("label",rr,i(t.$t("accounting.reference_number")),1),c("p",sr,i(t.transaction.reference_number),1)]),c("div",null,[c("label",nr,i(t.$t("common.date")),1),c("p",or,i(g(s)(t.transaction.transaction_date)),1)]),c("div",null,[c("label",lr,i(t.$t("common.type")),1),c("p",dr,i(t.$t(`accounting.${t.transaction.type}`)),1)]),c("div",null,[c("label",cr,i(t.$t("accounting.total_amount")),1),c("p",ir,[h(i(g(o)(t.transaction.total_amount||0))+" ",1),c("span",ur,i(t.transaction.currency||"USD"),1)])]),c("div",null,[c("label",gr,i(t.$t("common.status")),1),c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1",t.transaction.is_locked?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},i(t.transaction.is_locked?t.$t("accounting.locked"):t.$t("accounting.unlocked")),3)]),t.transaction.exchange_rate&&1!==t.transaction.exchange_rate?(l(),d("div",mr,[c("label",xr,i(t.$t("accounting.exchange_rate")),1),c("p",yr,i(t.transaction.exchange_rate),1)])):p("",!0)])]),c("div",null,[c("label",pr,i(t.$t("common.description")),1),c("div",br,[c("p",kr,i(b(t.transaction)),1),t.transaction.description_persian&&t.transaction.description_persian!==t.transaction.description?(l(),d("p",vr,i(t.transaction.description_persian),1)):p("",!0)])]),c("div",null,[c("label",fr,i(t.$t("accounting.transaction_entries")),1),m.value.length>0?(l(),d("div",hr,[c("table",wr,[c("thead",_r,[c("tr",null,[c("th",$r,i(t.$t("accounting.account")),1),c("th",Cr,i(t.$t("common.description")),1),c("th",Dr,i(t.$t("accounting.debit")),1),c("th",Ur,i(t.$t("accounting.credit")),1)])]),c("tbody",jr,[(l(!0),d(k,null,v(m.value,t=>{var e;return l(),d("tr",{key:t.id},[c("td",Sr,[c("div",null,[c("p",Vr,i(null==(e=t.account)?void 0:e.code),1),c("p",Rr,i(f(t.account)),1)])]),c("td",Lr,i(t.description||"-"),1),c("td",Ar,i(t.debit_amount>0?g(o)(t.debit_amount):"-"),1),c("td",Tr,i(t.credit_amount>0?g(o)(t.credit_amount):"-"),1)])}),128))]),c("tfoot",Fr,[c("tr",null,[c("td",qr,i(t.$t("common.total")),1),c("td",Er,i(g(o)(x.value)),1),c("td",Ir,i(g(o)(y.value)),1)])])])])):(l(),d("div",zr,[c("p",Mr,i(t.$t("accounting.no_entries_found")),1)]))]),t.transaction.notes?(l(),d("div",Or,[c("label",Pr,i(t.$t("common.notes")),1),c("div",Br,[c("p",Hr,i(t.transaction.notes),1)])])):p("",!0),c("div",Gr,[c("h4",Jr,i(t.$t("accounting.transaction_metadata")),1),c("div",Yr,[c("div",null,[c("span",Zr,i(t.$t("common.created_at"))+":",1),c("span",Nr,i(g(s)(t.transaction.created_at)),1)]),c("div",null,[c("span",Kr,i(t.$t("common.updated_at"))+":",1),c("span",Qr,i(g(s)(t.transaction.updated_at)),1)]),t.transaction.created_by?(l(),d("div",Wr,[c("span",Xr,i(t.$t("accounting.created_by"))+":",1),c("span",ts,i((null==(a=t.transaction.creator)?void 0:a.name)||"System"),1)])):p("",!0),t.transaction.approved_by?(l(),d("div",es,[c("span",as,i(t.$t("accounting.approved_by"))+":",1),c("span",rs,i(null==(r=t.transaction.approver)?void 0:r.name),1)])):p("",!0)])]),t.transaction.tags&&t.transaction.tags.length>0?(l(),d("div",ss,[c("label",ns,i(t.$t("common.tags")),1),c("div",os,[(l(!0),d(k,null,v(t.transaction.tags,t=>(l(),d("span",{key:t,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},i(t),1))),128))])])):p("",!0)])):p("",!0),c("div",ls,[c("button",{onClick:e[1]||(e[1]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.close")),1)])])])}}}),cs={class:"space-y-6"},is={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},us={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},gs={class:"text-lg font-medium text-gray-900 dark:text-white"},ms={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},xs={class:"flex space-x-3"},ys={class:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ps={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},bs={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ks={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},vs={value:""},fs={value:"journal"},hs={value:"invoice"},ws={value:"payment"},_s={value:"adjustment"},$s={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Cs=["placeholder"],Ds={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},Us={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},js={class:"flex items-center justify-between"},Ss={class:"text-lg font-medium text-gray-900 dark:text-white"},Vs={class:"flex items-center space-x-2"},Rs={class:"text-sm text-gray-500 dark:text-gray-400"},Ls={key:0,class:"p-6 text-center"},As={class:"inline-flex items-center"},Ts={key:1,class:"p-12 text-center"},Fs={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},qs={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Es={class:"mt-6"},Is={key:2,class:"overflow-x-auto"},zs={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ms={class:"bg-gray-50 dark:bg-gray-700"},Os={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ps={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Bs={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Hs={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Gs={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Js={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ys={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Zs={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ns={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ks={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Qs={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Ws={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize"},Xs={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},tn={class:"px-6 py-4 whitespace-nowrap text-center"},en={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},an={class:"flex items-center justify-end space-x-2"},rn=["onClick"],sn=["onClick"],nn=["onClick"],on=r({__name:"TransactionManagement",setup(t){const a=W(),{formatDate:r}=Q(),{formatCurrency:s}=U(),o=e(!1),m=e(!1),f=e(null),$=e(null),C=t=>"fa"===(document.documentElement.lang||"en")&&t.description_persian?t.description_persian:t.description,D=()=>{o.value=!1,f.value=null},S=()=>{D(),a.fetchTransactions()};return n(()=>{a.fetchAccounts(),a.fetchTransactions()}),(t,e)=>(l(),d("div",cs,[c("div",is,[c("div",us,[c("div",null,[c("h3",gs,i(t.$t("accounting.transactions")),1),c("p",ms,i(t.$t("accounting.transactions_description")),1)]),c("div",xs,[c("button",{onClick:e[0]||(e[0]=t=>o.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.create_transaction")),1)])])]),c("div",ys,[c("div",null,[c("label",ps,i(t.$t("common.date_from")),1),x(c("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>g(a).transactionFilter.date_from=t),onChange:e[2]||(e[2]=t=>g(a).fetchTransactions()),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,544),[[y,g(a).transactionFilter.date_from]])]),c("div",null,[c("label",bs,i(t.$t("common.date_to")),1),x(c("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>g(a).transactionFilter.date_to=t),onChange:e[4]||(e[4]=t=>g(a).fetchTransactions()),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,544),[[y,g(a).transactionFilter.date_to]])]),c("div",null,[c("label",ks,i(t.$t("accounting.transaction_type")),1),x(c("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>g(a).transactionFilter.type=t),onChange:e[6]||(e[6]=t=>g(a).fetchTransactions()),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",vs,i(t.$t("common.all")),1),c("option",fs,i(t.$t("accounting.journal_entry")),1),c("option",hs,i(t.$t("accounting.invoice_entry")),1),c("option",ws,i(t.$t("accounting.payment_entry")),1),c("option",_s,i(t.$t("accounting.adjustment_entry")),1)],544),[[b,g(a).transactionFilter.type]])]),c("div",null,[c("label",$s,i(t.$t("common.search")),1),x(c("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>g(a).transactionFilter.search=t),onInput:e[8]||(e[8]=t=>g(a).fetchTransactions()),type:"text",placeholder:t.$t("accounting.search_transactions"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,40,Cs),[[y,g(a).transactionFilter.search]])])])]),c("div",Ds,[c("div",Us,[c("div",js,[c("h4",Ss,i(t.$t("accounting.transaction_list")),1),c("div",Vs,[c("span",Rs,i(t.$t("common.total"))+": "+i(g(a).filteredTransactions.length),1)])])]),g(a).loading?(l(),d("div",Ls,[c("div",As,[e[11]||(e[11]=c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),h(" "+i(t.$t("common.loading")),1)])])):0===g(a).filteredTransactions.length?(l(),d("div",Ts,[u(g(R),{class:"mx-auto h-12 w-12 text-gray-400"}),c("h3",Fs,i(t.$t("accounting.no_transactions")),1),c("p",qs,i(t.$t("accounting.no_transactions_description")),1),c("div",Es,[c("button",{onClick:e[9]||(e[9]=t=>o.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.create_first_transaction")),1)])])])):(l(),d("div",Is,[c("table",zs,[c("thead",Ms,[c("tr",null,[c("th",Os,i(t.$t("common.date")),1),c("th",Ps,i(t.$t("accounting.reference")),1),c("th",Bs,i(t.$t("common.description")),1),c("th",Hs,i(t.$t("common.type")),1),c("th",Gs,i(t.$t("accounting.amount")),1),c("th",Js,i(t.$t("common.status")),1),c("th",Ys,i(t.$t("common.actions")),1)])]),c("tbody",Zs,[(l(!0),d(k,null,v(g(a).filteredTransactions,e=>(l(),d("tr",{key:e.id},[c("td",Ns,i(g(r)(e.transaction_date)),1),c("td",Ks,i(e.reference_number),1),c("td",Qs,i(C(e)),1),c("td",Ws,i(t.$t(`accounting.${e.type}`)),1),c("td",Xs,i(g(s)(e.total_amount||0)),1),c("td",tn,[c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",e.is_locked?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},i(e.is_locked?t.$t("accounting.locked"):t.$t("accounting.unlocked")),3)]),c("td",en,[c("div",an,[c("button",{onClick:t=>(t=>{$.value=t,m.value=!0})(e),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"},i(t.$t("common.view")),9,rn),e.is_locked?p("",!0):(l(),d("button",{key:0,onClick:t=>(t=>{f.value=t,o.value=!0})(e),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},i(t.$t("common.edit")),9,sn)),c("button",{onClick:t=>(async t=>{try{t.is_locked?await a.unlockTransaction(t.id):await a.lockTransaction(t.id)}catch(e){}})(e),class:w([e.is_locked?"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300":"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"])},i(e.is_locked?t.$t("accounting.unlock"):t.$t("accounting.lock")),11,nn)])])]))),128))])])]))]),o.value?(l(),_(Na,{key:0,transaction:f.value,onClose:D,onSaved:S},null,8,["transaction"])):p("",!0),m.value?(l(),_(ds,{key:1,transaction:$.value,onClose:e[10]||(e[10]=t=>m.value=!1)},null,8,["transaction"])):p("",!0)]))}}),ln={class:"p-6"},dn={class:"overflow-x-auto"},cn={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},un={class:"bg-gray-50 dark:bg-gray-700"},gn={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},mn={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},xn={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},yn={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},pn={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},bn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},kn={class:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-white"},vn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},fn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize"},hn={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},wn={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},_n={class:"bg-gray-50 dark:bg-gray-700"},$n={colspan:"3",class:"px-6 py-3 text-sm font-medium text-gray-900 dark:text-white"},Cn={class:"px-6 py-3 text-sm font-bold text-right text-gray-900 dark:text-white"},Dn={class:"px-6 py-3 text-sm font-bold text-right text-gray-900 dark:text-white"},Un={key:0},jn={colspan:"3",class:"px-6 py-3 text-sm font-medium text-red-600 dark:text-red-400"},Sn={colspan:"2",class:"px-6 py-3 text-sm font-bold text-right text-red-600 dark:text-red-400"},Vn={class:"flex items-center"},Rn=r({__name:"TrialBalanceReport",props:{reportData:{}},setup(t){const{formatCurrency:e}=U();return(t,a)=>(l(),d("div",ln,[c("div",dn,[c("table",cn,[c("thead",un,[c("tr",null,[c("th",gn,i(t.$t("accounting.account_code")),1),c("th",mn,i(t.$t("accounting.account_name")),1),c("th",xn,i(t.$t("accounting.account_type")),1),c("th",yn,i(t.$t("accounting.debit_balance")),1),c("th",pn,i(t.$t("accounting.credit_balance")),1)])]),c("tbody",bn,[(l(!0),d(k,null,v(t.reportData.accounts,a=>(l(),d("tr",{key:a.account_code},[c("td",kn,i(a.account_code),1),c("td",vn,i(a.account_name),1),c("td",fn,i(t.$t(`accounting.${a.account_type}`)),1),c("td",hn,i(a.debit_balance>0?g(e)(a.debit_balance):"-"),1),c("td",wn,i(a.credit_balance>0?g(e)(a.credit_balance):"-"),1)]))),128))]),c("tfoot",_n,[c("tr",null,[c("td",$n,i(t.$t("common.total")),1),c("td",Cn,i(g(e)(t.reportData.totals.total_debits)),1),c("td",Dn,i(g(e)(t.reportData.totals.total_credits)),1)]),t.reportData.totals.is_balanced?p("",!0):(l(),d("tr",Un,[c("td",jn,i(t.$t("accounting.difference")),1),c("td",Sn,i(g(e)(t.reportData.totals.difference)),1)]))])])]),c("div",{class:w(["mt-4 p-4 rounded-lg",t.reportData.totals.is_balanced?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"])},[c("div",Vn,[t.reportData.totals.is_balanced?(l(),_(g(L),{key:0,class:"h-5 w-5 text-green-400"})):(l(),_(g(A),{key:1,class:"h-5 w-5 text-red-400"})),c("p",{class:w(["ml-2 text-sm",t.reportData.totals.is_balanced?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"])},i(t.reportData.totals.is_balanced?t.$t("accounting.trial_balance_balanced"):t.$t("accounting.trial_balance_unbalanced")),3)])],2)]))}}),Ln={class:"p-6"},An={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Tn={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"},Fn={class:"mb-6"},qn={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},En={class:"space-y-2"},In={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},zn={class:"text-sm text-gray-900 dark:text-white font-mono"},Mn={class:"flex justify-between items-center py-1 border-t border-gray-200 dark:border-gray-700 font-medium"},On={class:"text-sm text-gray-800 dark:text-gray-200 pl-2"},Pn={class:"text-sm text-gray-900 dark:text-white font-mono"},Bn={class:"mb-6"},Hn={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},Gn={class:"space-y-2"},Jn={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Yn={class:"text-sm text-gray-900 dark:text-white font-mono"},Zn={class:"flex justify-between items-center py-1 border-t border-gray-200 dark:border-gray-700 font-medium"},Nn={class:"text-sm text-gray-800 dark:text-gray-200 pl-2"},Kn={class:"text-sm text-gray-900 dark:text-white font-mono"},Qn={class:"border-t-2 border-gray-300 dark:border-gray-600 pt-3"},Wn={class:"flex justify-between items-center font-bold text-lg"},Xn={class:"text-gray-900 dark:text-white"},to={class:"text-gray-900 dark:text-white font-mono"},eo={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"},ao={class:"mb-6"},ro={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},so={class:"space-y-2"},no={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},oo={class:"text-sm text-gray-900 dark:text-white font-mono"},lo={class:"flex justify-between items-center py-1 border-t border-gray-200 dark:border-gray-700 font-medium"},co={class:"text-sm text-gray-800 dark:text-gray-200 pl-2"},io={class:"text-sm text-gray-900 dark:text-white font-mono"},uo={class:"mb-6"},go={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},mo={class:"space-y-2"},xo={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},yo={class:"text-sm text-gray-900 dark:text-white font-mono"},po={class:"flex justify-between items-center py-1 border-t border-gray-200 dark:border-gray-700 font-medium"},bo={class:"text-sm text-gray-800 dark:text-gray-200 pl-2"},ko={class:"text-sm text-gray-900 dark:text-white font-mono"},vo={class:"mb-6 border-t border-gray-200 dark:border-gray-700 pt-3"},fo={class:"flex justify-between items-center font-medium"},ho={class:"text-gray-800 dark:text-gray-200"},wo={class:"text-gray-900 dark:text-white font-mono"},_o={class:"mb-6"},$o={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},Co={class:"space-y-2"},Do={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Uo={class:"text-sm text-gray-900 dark:text-white font-mono"},jo={class:"flex justify-between items-center py-1 border-t border-gray-200 dark:border-gray-700 font-medium"},So={class:"text-sm text-gray-800 dark:text-gray-200 pl-2"},Vo={class:"text-sm text-gray-900 dark:text-white font-mono"},Ro={class:"border-t-2 border-gray-300 dark:border-gray-600 pt-3"},Lo={class:"flex justify-between items-center font-bold text-lg"},Ao={class:"text-gray-900 dark:text-white"},To={class:"text-gray-900 dark:text-white font-mono"},Fo={class:"flex items-center justify-between"},qo={class:"flex items-center"},Eo=r({__name:"BalanceSheetReport",props:{reportData:{}},setup(t){const{formatCurrency:e}=U();return(t,a)=>(l(),d("div",Ln,[c("div",An,[c("div",null,[c("h3",Tn,i(t.$t("accounting.assets")),1),c("div",Fn,[c("h4",qn,i(t.$t("accounting.current_assets")),1),c("div",En,[(l(!0),d(k,null,v(t.reportData.assets.current_assets,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",In,i(t.name),1),c("span",zn,i(g(e)(t.balance)),1)]))),128)),c("div",Mn,[c("span",On,i(t.$t("accounting.total_current_assets")),1),c("span",Pn,i(g(e)(t.reportData.assets.current_assets.reduce((t,e)=>t+e.balance,0))),1)])])]),c("div",Bn,[c("h4",Hn,i(t.$t("accounting.fixed_assets")),1),c("div",Gn,[(l(!0),d(k,null,v(t.reportData.assets.fixed_assets,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",Jn,i(t.name),1),c("span",Yn,i(g(e)(t.balance)),1)]))),128)),c("div",Zn,[c("span",Nn,i(t.$t("accounting.total_fixed_assets")),1),c("span",Kn,i(g(e)(t.reportData.assets.fixed_assets.reduce((t,e)=>t+e.balance,0))),1)])])]),c("div",Qn,[c("div",Wn,[c("span",Xn,i(t.$t("accounting.total_assets")),1),c("span",to,i(g(e)(t.reportData.assets.total)),1)])])]),c("div",null,[c("h3",eo,i(t.$t("accounting.liabilities_and_equity")),1),c("div",ao,[c("h4",ro,i(t.$t("accounting.current_liabilities")),1),c("div",so,[(l(!0),d(k,null,v(t.reportData.liabilities.current_liabilities,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",no,i(t.name),1),c("span",oo,i(g(e)(t.balance)),1)]))),128)),c("div",lo,[c("span",co,i(t.$t("accounting.total_current_liabilities")),1),c("span",io,i(g(e)(t.reportData.liabilities.current_liabilities.reduce((t,e)=>t+e.balance,0))),1)])])]),c("div",uo,[c("h4",go,i(t.$t("accounting.long_term_liabilities")),1),c("div",mo,[(l(!0),d(k,null,v(t.reportData.liabilities.long_term_liabilities,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",xo,i(t.name),1),c("span",yo,i(g(e)(t.balance)),1)]))),128)),c("div",po,[c("span",bo,i(t.$t("accounting.total_long_term_liabilities")),1),c("span",ko,i(g(e)(t.reportData.liabilities.long_term_liabilities.reduce((t,e)=>t+e.balance,0))),1)])])]),c("div",vo,[c("div",fo,[c("span",ho,i(t.$t("accounting.total_liabilities")),1),c("span",wo,i(g(e)(t.reportData.liabilities.total)),1)])]),c("div",_o,[c("h4",$o,i(t.$t("accounting.equity")),1),c("div",Co,[(l(!0),d(k,null,v(t.reportData.equity.accounts,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",Do,i(t.name),1),c("span",Uo,i(g(e)(t.balance)),1)]))),128)),c("div",jo,[c("span",So,i(t.$t("accounting.total_equity")),1),c("span",Vo,i(g(e)(t.reportData.equity.total)),1)])])]),c("div",Ro,[c("div",Lo,[c("span",Ao,i(t.$t("accounting.total_liabilities_equity")),1),c("span",To,i(g(e)(t.reportData.totals.total_liabilities_equity)),1)])])])]),c("div",{class:w(["mt-8 p-4 rounded-lg",t.reportData.totals.is_balanced?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"])},[c("div",Fo,[c("div",qo,[t.reportData.totals.is_balanced?(l(),_(g(L),{key:0,class:"h-5 w-5 text-green-400"})):(l(),_(g(A),{key:1,class:"h-5 w-5 text-red-400"})),c("p",{class:w(["ml-2 text-sm",t.reportData.totals.is_balanced?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"])},i(t.reportData.totals.is_balanced?t.$t("accounting.balance_sheet_balanced"):t.$t("accounting.balance_sheet_unbalanced")),3)]),t.reportData.totals.is_balanced?p("",!0):(l(),d("div",{key:0,class:w(["text-sm font-medium","text-red-800 dark:text-red-200"])},i(t.$t("accounting.difference"))+": "+i(g(e)(Math.abs(t.reportData.totals.difference))),1))])],2)]))}}),Io={class:"p-6"},zo={class:"max-w-4xl mx-auto"},Mo={class:"mb-8"},Oo={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"},Po={class:"mb-4"},Bo={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},Ho={class:"space-y-2"},Go={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Jo={class:"text-sm text-gray-900 dark:text-white font-mono"},Yo={key:0,class:"mb-4"},Zo={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},No={class:"space-y-2"},Ko={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Qo={class:"text-sm text-gray-900 dark:text-white font-mono"},Wo={class:"border-t border-gray-200 dark:border-gray-700 pt-3"},Xo={class:"flex justify-between items-center font-bold"},tl={class:"text-gray-900 dark:text-white"},el={class:"text-gray-900 dark:text-white font-mono"},al={class:"mb-8"},rl={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"},sl={class:"mb-4"},nl={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},ol={class:"space-y-2"},ll={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},dl={class:"text-sm text-gray-900 dark:text-white font-mono"},cl={key:0,class:"mb-4"},il={class:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3"},ul={class:"space-y-2"},gl={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},ml={class:"text-sm text-gray-900 dark:text-white font-mono"},xl={class:"border-t border-gray-200 dark:border-gray-700 pt-3"},yl={class:"flex justify-between items-center font-bold"},pl={class:"text-gray-900 dark:text-white"},bl={class:"text-gray-900 dark:text-white font-mono"},kl={class:"border-t-2 border-gray-300 dark:border-gray-600 pt-6"},vl={class:"flex justify-between items-center text-xl font-bold mb-4"},fl={class:"text-gray-900 dark:text-white"},hl={class:"flex justify-between items-center text-sm text-gray-600 dark:text-gray-400"},wl={class:"font-mono"},_l={class:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6"},$l={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4"},Cl={class:"text-sm font-medium text-blue-800 dark:text-blue-200"},Dl={class:"text-2xl font-bold text-blue-900 dark:text-blue-100 font-mono"},Ul={class:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4"},jl={class:"text-sm font-medium text-red-800 dark:text-red-200"},Sl={class:"text-2xl font-bold text-red-900 dark:text-red-100 font-mono"},Vl=r({__name:"IncomeStatementReport",props:{reportData:{}},setup(t){const{formatCurrency:e}=U();return(t,a)=>{return l(),d("div",Io,[c("div",zo,[c("div",Mo,[c("h3",Oo,i(t.$t("accounting.revenue")),1),c("div",Po,[c("h4",Bo,i(t.$t("accounting.operating_revenue")),1),c("div",Ho,[(l(!0),d(k,null,v(t.reportData.revenue.operating_revenue,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",Go,i(t.name),1),c("span",Jo,i(g(e)(t.balance)),1)]))),128))])]),t.reportData.revenue.other_revenue.length>0?(l(),d("div",Yo,[c("h4",Zo,i(t.$t("accounting.other_revenue")),1),c("div",No,[(l(!0),d(k,null,v(t.reportData.revenue.other_revenue,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",Ko,i(t.name),1),c("span",Qo,i(g(e)(t.balance)),1)]))),128))])])):p("",!0),c("div",Wo,[c("div",Xo,[c("span",tl,i(t.$t("accounting.total_revenue")),1),c("span",el,i(g(e)(t.reportData.revenue.total)),1)])])]),c("div",al,[c("h3",rl,i(t.$t("accounting.expenses")),1),c("div",sl,[c("h4",nl,i(t.$t("accounting.operating_expenses")),1),c("div",ol,[(l(!0),d(k,null,v(t.reportData.expenses.operating_expenses,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",ll,i(t.name),1),c("span",dl,i(g(e)(t.balance)),1)]))),128))])]),t.reportData.expenses.other_expenses.length>0?(l(),d("div",cl,[c("h4",il,i(t.$t("accounting.other_expenses")),1),c("div",ul,[(l(!0),d(k,null,v(t.reportData.expenses.other_expenses,t=>(l(),d("div",{key:t.code,class:"flex justify-between items-center py-1"},[c("span",gl,i(t.name),1),c("span",ml,i(g(e)(t.balance)),1)]))),128))])])):p("",!0),c("div",xl,[c("div",yl,[c("span",pl,i(t.$t("accounting.total_expenses")),1),c("span",bl,i(g(e)(t.reportData.expenses.total)),1)])])]),c("div",kl,[c("div",vl,[c("span",fl,i(t.$t("accounting.net_income")),1),c("span",{class:w(["font-mono",t.reportData.net_income>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},i(g(e)(t.reportData.net_income)),3)]),c("div",hl,[c("span",null,i(t.$t("accounting.gross_margin")),1),c("span",wl,i((r=t.reportData.gross_margin,`${r.toFixed(2)}%`)),1)])]),c("div",_l,[c("div",$l,[c("div",Cl,i(t.$t("accounting.total_revenue")),1),c("div",Dl,i(g(e)(t.reportData.revenue.total)),1)]),c("div",Ul,[c("div",jl,i(t.$t("accounting.total_expenses")),1),c("div",Sl,i(g(e)(t.reportData.expenses.total)),1)]),c("div",{class:w(["rounded-lg p-4",t.reportData.net_income>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"])},[c("div",{class:w(["text-sm font-medium",t.reportData.net_income>=0?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"])},i(t.$t("accounting.net_income")),3),c("div",{class:w(["text-2xl font-bold font-mono",t.reportData.net_income>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"])},i(g(e)(t.reportData.net_income)),3)],2)])])]);var r}}}),Rl={class:"p-6"},Ll={class:"max-w-4xl mx-auto space-y-8"},Al={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"},Tl={class:"space-y-2"},Fl={class:"flex justify-between items-center py-1"},ql={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},El={class:"text-sm text-gray-900 dark:text-white font-mono"},Il={class:"flex justify-between items-center py-1"},zl={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Ml={class:"text-sm text-gray-900 dark:text-white font-mono"},Ol={class:"flex justify-between items-center py-1"},Pl={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Bl={class:"text-sm text-gray-900 dark:text-white font-mono"},Hl={class:"flex justify-between items-center py-2 border-t border-gray-200 dark:border-gray-700 font-medium"},Gl={class:"text-sm text-gray-800 dark:text-gray-200"},Jl={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"},Yl={class:"space-y-2"},Zl={class:"flex justify-between items-center py-1"},Nl={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Kl={class:"text-sm text-gray-900 dark:text-white font-mono"},Ql={class:"flex justify-between items-center py-1"},Wl={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},Xl={class:"text-sm text-gray-900 dark:text-white font-mono"},td={class:"flex justify-between items-center py-2 border-t border-gray-200 dark:border-gray-700 font-medium"},ed={class:"text-sm text-gray-800 dark:text-gray-200"},ad={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"},rd={class:"space-y-2"},sd={class:"flex justify-between items-center py-1"},nd={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},od={class:"text-sm text-gray-900 dark:text-white font-mono"},ld={class:"flex justify-between items-center py-1"},dd={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},cd={class:"text-sm text-gray-900 dark:text-white font-mono"},id={class:"flex justify-between items-center py-1"},ud={class:"text-sm text-gray-700 dark:text-gray-300 pl-4"},gd={class:"text-sm text-gray-900 dark:text-white font-mono"},md={class:"flex justify-between items-center py-2 border-t border-gray-200 dark:border-gray-700 font-medium"},xd={class:"text-sm text-gray-800 dark:text-gray-200"},yd={class:"border-t-2 border-gray-300 dark:border-gray-600 pt-6"},pd={class:"space-y-3"},bd={class:"flex justify-between items-center"},kd={class:"text-lg font-medium text-gray-900 dark:text-white"},vd={class:"flex justify-between items-center"},fd={class:"text-sm text-gray-700 dark:text-gray-300"},hd={class:"text-sm text-gray-900 dark:text-white font-mono"},wd={class:"flex justify-between items-center border-t border-gray-200 dark:border-gray-700 pt-2"},_d={class:"text-lg font-bold text-gray-900 dark:text-white"},$d={class:"text-lg font-bold text-gray-900 dark:text-white font-mono"},Cd={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8"},Dd=r({__name:"CashFlowReport",props:{reportData:{}},setup(t){const{formatCurrency:e}=U();return(t,a)=>(l(),d("div",Rl,[c("div",Ll,[c("div",null,[c("h3",Al,i(t.$t("accounting.operating_activities")),1),c("div",Tl,[c("div",Fl,[c("span",ql,i(t.$t("accounting.net_income")),1),c("span",El,i(g(e)(t.reportData.operating_activities.net_income)),1)]),c("div",Il,[c("span",zl,i(t.$t("accounting.depreciation")),1),c("span",Ml,i(g(e)(t.reportData.operating_activities.depreciation)),1)]),c("div",Ol,[c("span",Pl,i(t.$t("accounting.working_capital_changes")),1),c("span",Bl,i(g(e)(t.reportData.operating_activities.working_capital_changes)),1)]),c("div",Hl,[c("span",Gl,i(t.$t("accounting.net_cash_from_operating")),1),c("span",{class:w(["text-sm font-mono font-bold",t.reportData.operating_activities.total>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},i(g(e)(t.reportData.operating_activities.total)),3)])])]),c("div",null,[c("h3",Jl,i(t.$t("accounting.investing_activities")),1),c("div",Yl,[c("div",Zl,[c("span",Nl,i(t.$t("accounting.asset_purchases")),1),c("span",Kl,i(g(e)(t.reportData.investing_activities.asset_purchases)),1)]),c("div",Ql,[c("span",Wl,i(t.$t("accounting.asset_sales")),1),c("span",Xl,i(g(e)(t.reportData.investing_activities.asset_sales)),1)]),c("div",td,[c("span",ed,i(t.$t("accounting.net_cash_from_investing")),1),c("span",{class:w(["text-sm font-mono font-bold",t.reportData.investing_activities.total>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},i(g(e)(t.reportData.investing_activities.total)),3)])])]),c("div",null,[c("h3",ad,i(t.$t("accounting.financing_activities")),1),c("div",rd,[c("div",sd,[c("span",nd,i(t.$t("accounting.loan_proceeds")),1),c("span",od,i(g(e)(t.reportData.financing_activities.loan_proceeds)),1)]),c("div",ld,[c("span",dd,i(t.$t("accounting.loan_payments")),1),c("span",cd,i(g(e)(t.reportData.financing_activities.loan_payments)),1)]),c("div",id,[c("span",ud,i(t.$t("accounting.equity_transactions")),1),c("span",gd,i(g(e)(t.reportData.financing_activities.equity_transactions)),1)]),c("div",md,[c("span",xd,i(t.$t("accounting.net_cash_from_financing")),1),c("span",{class:w(["text-sm font-mono font-bold",t.reportData.financing_activities.total>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},i(g(e)(t.reportData.financing_activities.total)),3)])])]),c("div",yd,[c("div",pd,[c("div",bd,[c("span",kd,i(t.$t("accounting.net_cash_flow")),1),c("span",{class:w(["text-lg font-bold font-mono",t.reportData.net_cash_flow>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},i(g(e)(t.reportData.net_cash_flow)),3)]),c("div",vd,[c("span",fd,i(t.$t("accounting.beginning_cash")),1),c("span",hd,i(g(e)(t.reportData.beginning_cash)),1)]),c("div",wd,[c("span",_d,i(t.$t("accounting.ending_cash")),1),c("span",$d,i(g(e)(t.reportData.ending_cash)),1)])])]),c("div",Cd,[c("div",{class:w(["rounded-lg p-4",t.reportData.operating_activities.total>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"])},[c("div",{class:w(["text-sm font-medium",t.reportData.operating_activities.total>=0?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"])},i(t.$t("accounting.operating")),3),c("div",{class:w(["text-xl font-bold font-mono",t.reportData.operating_activities.total>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"])},i(g(e)(t.reportData.operating_activities.total)),3)],2),c("div",{class:w(["rounded-lg p-4",t.reportData.investing_activities.total>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"])},[c("div",{class:w(["text-sm font-medium",t.reportData.investing_activities.total>=0?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"])},i(t.$t("accounting.investing")),3),c("div",{class:w(["text-xl font-bold font-mono",t.reportData.investing_activities.total>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"])},i(g(e)(t.reportData.investing_activities.total)),3)],2),c("div",{class:w(["rounded-lg p-4",t.reportData.financing_activities.total>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"])},[c("div",{class:w(["text-sm font-medium",t.reportData.financing_activities.total>=0?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"])},i(t.$t("accounting.financing")),3),c("div",{class:w(["text-xl font-bold font-mono",t.reportData.financing_activities.total>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"])},i(g(e)(t.reportData.financing_activities.total)),3)],2),c("div",{class:w(["rounded-lg p-4",t.reportData.net_cash_flow>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"])},[c("div",{class:w(["text-sm font-medium",t.reportData.net_cash_flow>=0?"text-blue-800 dark:text-blue-200":"text-red-800 dark:text-red-200"])},i(t.$t("accounting.net_change")),3),c("div",{class:w(["text-xl font-bold font-mono",t.reportData.net_cash_flow>=0?"text-blue-900 dark:text-blue-100":"text-red-900 dark:text-red-100"])},i(g(e)(t.reportData.net_cash_flow)),3)],2)])])]))}}),Ud={class:"space-y-6"},jd={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Sd={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},Vd={class:"text-lg font-medium text-gray-900 dark:text-white"},Rd={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Ld={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ad=["onClick"],Td={class:"flex items-center"},Fd={class:"ml-4"},qd={class:"text-lg font-medium text-gray-900 dark:text-white"},Ed={class:"text-sm text-gray-500 dark:text-gray-400"},Id={key:0,class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},zd={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},Md={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Od={key:0},Pd={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Bd={key:1},Hd={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Gd={key:2},Jd={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Yd={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Zd={class:"flex justify-end space-x-3"},Nd=["disabled"],Kd={key:0},Qd={key:1},Wd={key:1,class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},Xd={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},tc={class:"flex items-center justify-between"},ec={class:"text-lg font-medium text-gray-900 dark:text-white"},ac={class:"flex space-x-2"},rc={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},sc=r({__name:"FinancialReports",setup(t){const r=W(),{formatDate:s}=Q(),o=e(""),m=e({start_date:new Date((new Date).getFullYear(),0,1).toISOString().split("T")[0],end_date:(new Date).toISOString().split("T")[0],as_of_date:(new Date).toISOString().split("T")[0],currency:"USD"}),f=[{type:"trial_balance",title:"accounting.trial_balance",description:"accounting.trial_balance_description",icon:F,isPeriod:!1},{type:"balance_sheet",title:"accounting.balance_sheet",description:"accounting.balance_sheet_description",icon:q,isPeriod:!1},{type:"income_statement",title:"accounting.income_statement",description:"accounting.income_statement_description",icon:R,isPeriod:!0},{type:"cash_flow",title:"accounting.cash_flow_statement",description:"accounting.cash_flow_description",icon:E,isPeriod:!0}],h=a(()=>{const t=f.find(t=>t.type===o.value);return(null==t?void 0:t.isPeriod)||!1}),C=async()=>{if(!o.value)return;const t=h.value?{start_date:m.value.start_date,end_date:m.value.end_date,currency:m.value.currency}:{as_of_date:m.value.as_of_date,currency:m.value.currency};try{await r.generateReport(o.value,t)}catch(e){}},D=async t=>{r.currentReport};return n(()=>{o.value="trial_balance"}),(t,e)=>(l(),d("div",Ud,[c("div",jd,[c("div",Sd,[c("div",null,[c("h3",Vd,i(t.$t("accounting.financial_reports")),1),c("p",Rd,i(t.$t("accounting.financial_reports_description")),1)])])]),c("div",Ld,[(l(),d(k,null,v(f,e=>c("div",{key:e.type,onClick:t=>{return a=e.type,void(o.value=a);var a},class:w(["cursor-pointer rounded-lg border-2 p-6 transition-colors",o.value===e.type?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"])},[c("div",Td,[(l(),_($(e.icon),{class:"h-8 w-8 text-blue-600 dark:text-blue-400"})),c("div",Fd,[c("h4",qd,i(t.$t(e.title)),1),c("p",Ed,i(t.$t(e.description)),1)])])],10,Ad)),64))]),o.value?(l(),d("div",Id,[c("h4",zd,i(t.$t("accounting.report_parameters")),1),c("div",Md,[h.value?(l(),d("div",Od,[c("label",Pd,i(t.$t("common.date_from")),1),x(c("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>m.value.start_date=t),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,m.value.start_date]])])):p("",!0),h.value?(l(),d("div",Bd,[c("label",Hd,i(t.$t("common.date_to")),1),x(c("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>m.value.end_date=t),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,m.value.end_date]])])):p("",!0),h.value?p("",!0):(l(),d("div",Gd,[c("label",Jd,i(t.$t("accounting.as_of_date")),1),x(c("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>m.value.as_of_date=t),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,m.value.as_of_date]])])),c("div",null,[c("label",Yd,i(t.$t("accounting.currency")),1),x(c("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>m.value.currency=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},e[6]||(e[6]=[c("option",{value:"USD"},"USD - US Dollar",-1),c("option",{value:"EUR"},"EUR - Euro",-1),c("option",{value:"IRR"},"IRR - Iranian Rial",-1),c("option",{value:"AED"},"AED - UAE Dirham",-1)]),512),[[b,m.value.currency]])])]),c("div",Zd,[c("button",{onClick:C,disabled:g(r).loading,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[u(g(T),{class:"w-4 h-4 mr-2"}),g(r).loading?(l(),d("span",Kd,i(t.$t("common.generating"))+"...",1)):(l(),d("span",Qd,i(t.$t("accounting.generate_report")),1))],8,Nd)])])):p("",!0),g(r).currentReport?(l(),d("div",Wd,[c("div",Xd,[c("div",tc,[c("h4",ec,i(t.$t(`accounting.${g(r).currentReport.type}`)),1),c("div",ac,[c("button",{onClick:e[4]||(e[4]=t=>D()),class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.export_pdf")),1),c("button",{onClick:e[5]||(e[5]=t=>D()),class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.export_excel")),1)])]),c("p",rc,i(r.currentReport?r.currentReport.period?`${s(r.currentReport.period.start_date)} - ${s(r.currentReport.period.end_date)}`:r.currentReport.as_of_date?`As of ${s(r.currentReport.as_of_date)}`:"":""),1)]),"trial_balance"===g(r).currentReport.type?(l(),_(Rn,{key:0,"report-data":g(r).currentReport.data},null,8,["report-data"])):"balance_sheet"===g(r).currentReport.type?(l(),_(Eo,{key:1,"report-data":g(r).currentReport.data},null,8,["report-data"])):"income_statement"===g(r).currentReport.type?(l(),_(Vl,{key:2,"report-data":g(r).currentReport.data},null,8,["report-data"])):"cash_flow"===g(r).currentReport.type?(l(),_(Dd,{key:3,"report-data":g(r).currentReport.data},null,8,["report-data"])):p("",!0)])):p("",!0)]))}}),nc={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},oc={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white dark:bg-gray-800"},lc={class:"flex items-center justify-between mb-4"},dc={class:"text-lg font-medium text-gray-900 dark:text-white"},cc={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ic=["value"],uc={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},gc={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},mc={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},xc={class:"flex items-center"},yc={class:"ml-2 block text-sm text-gray-900 dark:text-white"},pc={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"},bc=["disabled"],kc={key:0,class:"inline-flex items-center"},vc={key:1},fc=r({__name:"CurrencyEditModal",props:{currency:{}},emits:["close","saved"],setup(t,{emit:a}){const r=t,o=a,p=e(!1),b=s({name:"",rate:0,is_active:!0}),k=async()=>{p.value=!0;try{await new Promise(t=>setTimeout(t,500));const t={...r.currency||{code:"",name:"",rate:1,change:0,is_active:!0},name:b.name,rate:b.rate,is_active:b.is_active};o("saved",t)}catch(t){}finally{p.value=!1}};return n(()=>{r.currency&&(b.name=r.currency.name,b.rate=r.currency.rate,b.is_active=r.currency.is_active)}),(t,e)=>{var a;return l(),d("div",nc,[c("div",oc,[c("div",lc,[c("h3",dc,i(t.$t("accounting.edit_currency")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),c("form",{onSubmit:m(k,["prevent"]),class:"space-y-4"},[c("div",null,[c("label",cc,i(t.$t("accounting.currency_code")),1),c("input",{value:(null==(a=t.currency)?void 0:a.code)||"",type:"text",disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-50 text-gray-500 dark:bg-gray-600 dark:border-gray-500 dark:text-gray-400 sm:text-sm"},null,8,ic)]),c("div",null,[c("label",uc,i(t.$t("accounting.currency_name")),1),x(c("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>b.name=t),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,b.name]])]),c("div",null,[c("label",gc,i(t.$t("accounting.exchange_rate")),1),x(c("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>b.rate=t),type:"number",step:"0.000001",min:"0",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,b.rate,void 0,{number:!0}]]),c("p",mc,i(t.$t("accounting.exchange_rate_help")),1)]),c("div",xc,[x(c("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>b.is_active=t),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,b.is_active]]),c("label",yc,i(t.$t("accounting.currency_is_active")),1)]),c("div",pc,[c("button",{type:"button",onClick:e[4]||(e[4]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.cancel")),1),c("button",{type:"submit",disabled:p.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[p.value?(l(),d("span",kc,[e[5]||(e[5]=c("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),h(" "+i(t.$t("common.saving")),1)])):(l(),d("span",vc,i(t.$t("common.save")),1))],8,bc)])],32)])])}}}),hc={class:"space-y-6"},wc={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},_c={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},$c={class:"text-lg font-medium text-gray-900 dark:text-white"},Cc={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Dc={class:"flex space-x-3"},Uc=["disabled"],jc={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},Sc={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Vc={class:"text-lg font-medium text-gray-900 dark:text-white"},Rc={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Lc={class:"overflow-x-auto"},Ac={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Tc={class:"bg-gray-50 dark:bg-gray-700"},Fc={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},qc={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ec={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ic={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},zc={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Mc={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Oc={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Pc={class:"flex items-center"},Bc={class:"font-mono"},Hc={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Gc={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Jc={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white font-mono"},Yc={class:"px-6 py-4 whitespace-nowrap text-sm text-right"},Zc={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},Nc=["onClick"],Kc={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Qc={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},Wc={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end"},Xc={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ti={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ei=["value"],ai={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ri=["value"],si={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ni={class:"mt-1 block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-sm text-gray-900 dark:bg-gray-600 dark:border-gray-500 dark:text-white font-mono"},oi={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},li={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},di={class:"text-lg font-medium text-gray-900 dark:text-white"},ci={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},ii={class:"overflow-x-auto"},ui={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},gi={class:"bg-gray-50 dark:bg-gray-700"},mi={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},xi={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},yi={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},pi={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},bi={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ki={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},vi={class:"font-medium"},fi={class:"text-gray-500 dark:text-gray-400"},hi={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white font-mono"},wi={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white font-mono"},_i={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white font-mono"},$i={class:"bg-gray-50 dark:bg-gray-700"},Ci={colspan:"3",class:"px-6 py-3 text-sm font-medium text-gray-900 dark:text-white"},Di={class:"px-6 py-3 text-sm font-bold text-right text-gray-900 dark:text-white font-mono"},Ui=r({__name:"CurrencyManagement",setup(t){const{formatDate:r}=Q(),{formatCurrency:s}=U(),o=e(!1),m=e(!1),f=e(null),$=e((new Date).toISOString()),C=e("USD"),D=e([{code:"USD",name:"US Dollar",rate:1,change:0,is_active:!0},{code:"EUR",name:"Euro",rate:.85,change:-.0125,is_active:!0},{code:"IRR",name:"Iranian Rial",rate:42e3,change:.005,is_active:!0},{code:"AED",name:"UAE Dirham",rate:3.673,change:0,is_active:!0}]),j=e([{account_code:"1001",account_name:"Cash - USD",currency:"USD",balance:1e4,base_equivalent:1e4},{account_code:"1002",account_name:"Cash - EUR",currency:"EUR",balance:5e3,base_equivalent:5882.35},{account_code:"1003",account_name:"Cash - IRR",currency:"IRR",balance:5e7,base_equivalent:1190.48},{account_code:"1004",account_name:"Cash - AED",currency:"AED",balance:15e3,base_equivalent:4084.97}]),S=e({amount:1e3,fromCurrency:"USD",toCurrency:"EUR",result:0}),V=a(()=>j.value.reduce((t,e)=>t+e.base_equivalent,0)),R=async()=>{o.value=!0;try{await new Promise(t=>setTimeout(t,1e3)),$.value=(new Date).toISOString(),D.value.forEach(t=>{if(t.code!==C.value){const e=.02*(Math.random()-.5);t.rate*=1+e,t.change=100*e}}),A()}catch(t){}finally{o.value=!1}},L=()=>{var t,e;const a=(null==(t=D.value.find(t=>t.code===S.value.fromCurrency))?void 0:t.rate)||1,r=(null==(e=D.value.find(t=>t.code===S.value.toCurrency))?void 0:e.rate)||1,s=S.value.amount/a;S.value.result=s*r},A=()=>{j.value.forEach(t=>{var e;const a=(null==(e=D.value.find(e=>e.code===t.currency))?void 0:e.rate)||1;t.base_equivalent=t.balance/a})},T=()=>{m.value=!1,f.value=null},F=()=>{T(),A()};return n(()=>{L()}),(t,e)=>(l(),d("div",hc,[c("div",wc,[c("div",_c,[c("div",null,[c("h3",$c,i(t.$t("accounting.multi_currency")),1),c("p",Cc,i(t.$t("accounting.multi_currency_description")),1)]),c("div",Dc,[c("button",{onClick:R,disabled:o.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600 disabled:opacity-50"},[u(g(I),{class:w(["w-4 h-4 mr-2",{"animate-spin":o.value}])},null,8,["class"]),h(" "+i(t.$t("accounting.refresh_rates")),1)],8,Uc)])])]),c("div",jc,[c("div",Sc,[c("h4",Vc,i(t.$t("accounting.exchange_rates")),1),c("p",Rc,i(t.$t("accounting.last_updated"))+": "+i(g(r)($.value)),1)]),c("div",Lc,[c("table",Ac,[c("thead",Tc,[c("tr",null,[c("th",Fc,i(t.$t("accounting.currency")),1),c("th",qc,i(t.$t("accounting.currency_name")),1),c("th",Ec,i(t.$t("accounting.exchange_rate")),1),c("th",Ic,i(t.$t("accounting.change_24h")),1),c("th",zc,i(t.$t("common.actions")),1)])]),c("tbody",Mc,[(l(!0),d(k,null,v(D.value,e=>(l(),d("tr",{key:e.code},[c("td",Oc,[c("div",Pc,[c("span",Bc,i(e.code),1),e.code===C.value?(l(),d("span",Hc,i(t.$t("accounting.base")),1)):p("",!0)])]),c("td",Gc,i(e.name),1),c("td",Jc,i(e.code===C.value?"1.000000":e.rate.toFixed(6)),1),c("td",Yc,[c("span",{class:w(["font-mono",e.change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},i(e.change>=0?"+":"")+i(e.change.toFixed(4))+"% ",3)]),c("td",Zc,[c("button",{onClick:t=>(t=>{f.value=t,m.value=!0})(e),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},i(t.$t("common.edit")),9,Nc)])]))),128))])])])]),c("div",Kc,[c("h4",Qc,i(t.$t("accounting.currency_converter")),1),c("div",Wc,[c("div",null,[c("label",Xc,i(t.$t("accounting.amount")),1),x(c("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>S.value.amount=t),onInput:L,type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,544),[[y,S.value.amount,void 0,{number:!0}]])]),c("div",null,[c("label",ti,i(t.$t("accounting.from_currency")),1),x(c("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>S.value.fromCurrency=t),onChange:L,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[(l(!0),d(k,null,v(D.value,t=>(l(),d("option",{key:t.code,value:t.code},i(t.code)+" - "+i(t.name),9,ei))),128))],544),[[b,S.value.fromCurrency]])]),c("div",null,[c("label",ai,i(t.$t("accounting.to_currency")),1),x(c("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>S.value.toCurrency=t),onChange:L,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[(l(!0),d(k,null,v(D.value,t=>(l(),d("option",{key:t.code,value:t.code},i(t.code)+" - "+i(t.name),9,ri))),128))],544),[[b,S.value.toCurrency]])]),c("div",null,[c("label",si,i(t.$t("accounting.converted_amount")),1),c("div",ni,i(g(s)(S.value.result,S.value.toCurrency)),1)])])]),c("div",oi,[c("div",li,[c("h4",di,i(t.$t("accounting.multi_currency_balances")),1),c("p",ci,i(t.$t("accounting.account_balances_by_currency")),1)]),c("div",ii,[c("table",ui,[c("thead",gi,[c("tr",null,[c("th",mi,i(t.$t("accounting.account")),1),c("th",xi,i(t.$t("accounting.currency")),1),c("th",yi,i(t.$t("accounting.balance")),1),c("th",pi,i(t.$t("accounting.base_currency_equivalent")),1)])]),c("tbody",bi,[(l(!0),d(k,null,v(j.value,t=>(l(),d("tr",{key:`${t.account_code}-${t.currency}`},[c("td",ki,[c("div",null,[c("p",vi,i(t.account_code),1),c("p",fi,i(t.account_name),1)])]),c("td",hi,i(t.currency),1),c("td",wi,i(g(s)(t.balance,t.currency)),1),c("td",_i,i(g(s)(t.base_equivalent,C.value)),1)]))),128))]),c("tfoot",$i,[c("tr",null,[c("td",Ci,i(t.$t("accounting.total_in_base_currency")),1),c("td",Di,i(g(s)(V.value,C.value)),1)])])])])]),m.value?(l(),_(fc,{key:0,currency:f.value,onClose:T,onSaved:F},null,8,["currency"])):p("",!0)]))}}),ji={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Si={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white dark:bg-gray-800"},Vi={class:"flex items-center justify-between mb-4"},Ri={class:"text-lg font-medium text-gray-900 dark:text-white"},Li={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ai={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ti={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Fi={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},qi={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ei={class:"flex items-center"},Ii={class:"ml-2 block text-sm text-gray-900 dark:text-white"},zi={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"},Mi=["disabled"],Oi=r({__name:"CostCenterFormModal",props:{costCenter:{}},emits:["close","saved"],setup(t,{emit:a}){const r=t,o=a,p=e(!1),b=s({code:"",name:"",name_persian:"",description:"",is_active:!0}),k=async()=>{var t,e;p.value=!0;try{await new Promise(t=>setTimeout(t,500));const a={id:(null==(t=r.costCenter)?void 0:t.id)||Date.now(),code:b.code,name:b.name,name_persian:b.name_persian,description:b.description,is_active:b.is_active,created_at:(null==(e=r.costCenter)?void 0:e.created_at)||(new Date).toISOString(),updated_at:(new Date).toISOString()};o("saved",a)}catch(a){}finally{p.value=!1}};return n(()=>{r.costCenter&&(b.code=r.costCenter.code,b.name=r.costCenter.name,b.name_persian=r.costCenter.name_persian||"",b.description=r.costCenter.description||"",b.is_active=r.costCenter.is_active)}),(t,e)=>(l(),d("div",ji,[c("div",Si,[c("div",Vi,[c("h3",Ri,i(t.costCenter?t.$t("accounting.edit_cost_center"):t.$t("accounting.create_cost_center")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),c("form",{onSubmit:m(k,["prevent"]),class:"space-y-4"},[c("div",null,[c("label",Li,i(t.$t("accounting.code"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>b.code=t),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,b.code]])]),c("div",Ai,[c("div",null,[c("label",Ti,i(t.$t("common.name"))+" (English) * ",1),x(c("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>b.name=t),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,b.name]])]),c("div",null,[c("label",Fi,i(t.$t("common.name"))+" (Persian) ",1),x(c("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>b.name_persian=t),type:"text",dir:"rtl",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,b.name_persian]])])]),c("div",null,[c("label",qi,i(t.$t("common.description")),1),x(c("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>b.description=t),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,b.description]])]),c("div",Ei,[x(c("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>b.is_active=t),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,b.is_active]]),c("label",Ii,i(t.$t("common.active")),1)]),c("div",zi,[c("button",{type:"button",onClick:e[6]||(e[6]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.cancel")),1),c("button",{type:"submit",disabled:p.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},i(p.value?t.$t("common.saving"):t.costCenter?t.$t("common.update"):t.$t("common.create")),9,Mi)])],32)])]))}}),Pi={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Bi={class:"relative top-10 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800 max-h-screen overflow-y-auto"},Hi={class:"flex items-center justify-between mb-4"},Gi={class:"text-lg font-medium text-gray-900 dark:text-white"},Ji={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Yi={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Zi=["placeholder"],Ni={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ki={value:""},Qi={value:"equipment"},Wi={value:"furniture"},Xi={value:"vehicle"},tu={value:"building"},eu={value:"software"},au={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ru={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},su={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},nu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ou={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},lu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},du={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},cu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},iu={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},uu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},gu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},mu={value:"straight_line"},xu={value:"declining_balance"},yu={value:"units_of_production"},pu={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"},bu=["disabled"],ku=r({__name:"AssetFormModal",props:{asset:{}},emits:["close","saved"],setup(t,{emit:a}){const r=t,o=a,p=e(!1),k=s({asset_number:"",name:"",name_persian:"",description:"",category:"",purchase_cost:0,purchase_date:(new Date).toISOString().split("T")[0],salvage_value:0,useful_life_years:5,depreciation_method:"straight_line"}),v=async()=>{var t,e;p.value=!0;try{await new Promise(t=>setTimeout(t,500));const a={id:(null==(t=r.asset)?void 0:t.id)||Date.now(),asset_number:k.asset_number||`AST-${Date.now()}`,name:k.name,name_persian:k.name_persian,description:k.description,category:k.category,purchase_cost:k.purchase_cost,purchase_date:k.purchase_date,salvage_value:k.salvage_value,useful_life_years:k.useful_life_years,depreciation_method:k.depreciation_method,accumulated_depreciation:0,current_value:k.purchase_cost,status:"active",disposal_date:void 0,disposal_value:void 0,cost_center_id:void 0,metadata:void 0,created_at:(null==(e=r.asset)?void 0:e.created_at)||(new Date).toISOString(),updated_at:(new Date).toISOString()};o("saved",a)}catch(a){}finally{p.value=!1}};return n(()=>{r.asset&&(k.asset_number=r.asset.asset_number,k.name=r.asset.name,k.name_persian=r.asset.name_persian||"",k.description=r.asset.description||"",k.category=r.asset.category,k.purchase_cost=r.asset.purchase_cost,k.purchase_date=r.asset.purchase_date,k.salvage_value=r.asset.salvage_value,k.useful_life_years=r.asset.useful_life_years,k.depreciation_method=r.asset.depreciation_method)}),(t,e)=>(l(),d("div",Pi,[c("div",Bi,[c("div",Hi,[c("h3",Gi,i(t.asset?t.$t("accounting.edit_asset"):t.$t("accounting.create_asset")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),c("form",{onSubmit:m(v,["prevent"]),class:"space-y-6"},[c("div",Ji,[c("div",null,[c("label",Yi,i(t.$t("accounting.asset_number")),1),x(c("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>k.asset_number=t),type:"text",placeholder:t.$t("accounting.auto_generated"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,Zi),[[y,k.asset_number]])]),c("div",null,[c("label",Ni,i(t.$t("accounting.category"))+" * ",1),x(c("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>k.category=t),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",Ki,i(t.$t("common.select")),1),c("option",Qi,i(t.$t("accounting.equipment")),1),c("option",Wi,i(t.$t("accounting.furniture")),1),c("option",Xi,i(t.$t("accounting.vehicle")),1),c("option",tu,i(t.$t("accounting.building")),1),c("option",eu,i(t.$t("accounting.software")),1)],512),[[b,k.category]])])]),c("div",au,[c("div",null,[c("label",ru,i(t.$t("common.name"))+" (English) * ",1),x(c("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>k.name=t),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,k.name]])]),c("div",null,[c("label",su,i(t.$t("common.name"))+" (Persian) ",1),x(c("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>k.name_persian=t),type:"text",dir:"rtl",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,k.name_persian]])])]),c("div",null,[c("label",nu,i(t.$t("common.description")),1),x(c("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>k.description=t),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,k.description]])]),c("div",ou,[c("div",null,[c("label",lu,i(t.$t("accounting.purchase_cost"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>k.purchase_cost=t),type:"number",step:"0.01",min:"0",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,k.purchase_cost,void 0,{number:!0}]])]),c("div",null,[c("label",du,i(t.$t("accounting.purchase_date"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>k.purchase_date=t),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,k.purchase_date]])]),c("div",null,[c("label",cu,i(t.$t("accounting.salvage_value")),1),x(c("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>k.salvage_value=t),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,k.salvage_value,void 0,{number:!0}]])])]),c("div",iu,[c("div",null,[c("label",uu,i(t.$t("accounting.useful_life_years"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>k.useful_life_years=t),type:"number",min:"1",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,k.useful_life_years,void 0,{number:!0}]])]),c("div",null,[c("label",gu,i(t.$t("accounting.depreciation_method")),1),x(c("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>k.depreciation_method=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",mu,i(t.$t("accounting.straight_line")),1),c("option",xu,i(t.$t("accounting.declining_balance")),1),c("option",yu,i(t.$t("accounting.units_of_production")),1)],512),[[b,k.depreciation_method]])])]),c("div",pu,[c("button",{type:"button",onClick:e[11]||(e[11]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.cancel")),1),c("button",{type:"submit",disabled:p.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},i(p.value?t.$t("common.saving"):t.asset?t.$t("common.update"):t.$t("common.create")),9,bu)])],32)])]))}}),vu={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},fu={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800"},hu={class:"flex items-center justify-between mb-6"},wu={class:"text-lg font-medium text-gray-900 dark:text-white"},_u={key:0,class:"space-y-6"},$u={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Cu={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Du={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Uu={class:"mt-1 text-sm text-gray-900 dark:text-white font-mono"},ju={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Su={class:"mt-1 text-sm text-gray-900 dark:text-white"},Vu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ru={class:"mt-1 text-sm text-gray-900 dark:text-white capitalize"},Lu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Au={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},Tu={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Fu={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Eu={class:"mt-1 text-sm text-gray-900 dark:text-white font-semibold"},Iu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},zu={class:"mt-1 text-sm text-gray-900 dark:text-white font-semibold"},Mu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ou={class:"mt-1 text-sm text-gray-900 dark:text-white"},Pu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Bu={class:"mt-1 text-sm text-gray-900 dark:text-white"},Hu={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},Gu={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Ju={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Yu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Zu={class:"mt-1 text-sm text-gray-900 dark:text-white"},Nu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ku={class:"mt-1 text-sm text-gray-900 dark:text-white"},Qu={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Wu={class:"mt-1 text-sm text-gray-900 dark:text-white"},Xu={key:0},tg={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},eg={class:"mt-1 text-sm text-gray-900 dark:text-white"},ag={key:0},rg={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},sg={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},ng={class:"text-sm text-gray-900 dark:text-white"},og={class:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6"},lg=r({__name:"AssetDetailsModal",props:{asset:{}},emits:["close"],setup(t){const{formatDate:e}=Q(),{formatCurrency:a}=U();return(t,r)=>{return l(),d("div",vu,[c("div",fu,[c("div",hu,[c("h3",wu,i(t.$t("accounting.asset_details")),1),c("button",{onClick:r[0]||(r[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),t.asset?(l(),d("div",_u,[c("div",$u,[c("div",Cu,[c("div",null,[c("label",Du,i(t.$t("accounting.asset_number")),1),c("p",Uu,i(t.asset.asset_number),1)]),c("div",null,[c("label",ju,i(t.$t("common.name")),1),c("p",Su,i((s=t.asset,"fa"===(document.documentElement.lang||"en")&&s.name_persian?s.name_persian:s.name)),1)]),c("div",null,[c("label",Vu,i(t.$t("accounting.category")),1),c("p",Ru,i(t.$t(`accounting.${t.asset.category}`)),1)]),c("div",null,[c("label",Lu,i(t.$t("common.status")),1),c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1","active"===t.asset.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"disposed"===t.asset.status?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"])},i(t.$t(`accounting.${t.asset.status}`)),3)])])]),c("div",null,[c("h4",Au,i(t.$t("accounting.financial_information")),1),c("div",Tu,[c("div",Fu,[c("div",null,[c("label",qu,i(t.$t("accounting.purchase_cost")),1),c("p",Eu,i(g(a)(t.asset.purchase_cost)),1)]),c("div",null,[c("label",Iu,i(t.$t("accounting.current_value")),1),c("p",zu,i(g(a)(t.asset.current_value)),1)]),c("div",null,[c("label",Mu,i(t.$t("accounting.accumulated_depreciation")),1),c("p",Ou,i(g(a)(t.asset.accumulated_depreciation)),1)]),c("div",null,[c("label",Pu,i(t.$t("accounting.salvage_value")),1),c("p",Bu,i(g(a)(t.asset.salvage_value)),1)])])])]),c("div",null,[c("h4",Hu,i(t.$t("accounting.depreciation_information")),1),c("div",Gu,[c("div",Ju,[c("div",null,[c("label",Yu,i(t.$t("accounting.depreciation_method")),1),c("p",Zu,i(t.$t(`accounting.${t.asset.depreciation_method}`)),1)]),c("div",null,[c("label",Nu,i(t.$t("accounting.useful_life_years")),1),c("p",Ku,i(t.asset.useful_life_years)+" "+i(t.$t("common.years")),1)]),c("div",null,[c("label",Qu,i(t.$t("accounting.purchase_date")),1),c("p",Wu,i(g(e)(t.asset.purchase_date)),1)]),t.asset.disposal_date?(l(),d("div",Xu,[c("label",tg,i(t.$t("accounting.disposal_date")),1),c("p",eg,i(g(e)(t.asset.disposal_date)),1)])):p("",!0)])])]),t.asset.description?(l(),d("div",ag,[c("h4",rg,i(t.$t("common.description")),1),c("div",sg,[c("p",ng,i(t.asset.description),1)])])):p("",!0)])):p("",!0),c("div",og,[c("button",{onClick:r[1]||(r[1]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.close")),1)])])]);var s}}}),dg={class:"space-y-6"},cg={class:"border-b border-gray-200 dark:border-gray-700"},ig={class:"-mb-px flex space-x-8","aria-label":"Tabs"},ug={key:0},gg={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},mg={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},xg={class:"text-lg font-medium text-gray-900 dark:text-white"},yg={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},pg={class:"flex space-x-3"},bg={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},kg={class:"overflow-x-auto"},vg={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},fg={class:"bg-gray-50 dark:bg-gray-700"},hg={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},wg={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},_g={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},$g={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Cg={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Dg={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ug={class:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-white"},jg={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Sg={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Vg={class:"px-6 py-4 whitespace-nowrap text-center"},Rg={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Lg={class:"flex items-center justify-end space-x-2"},Ag=["onClick"],Tg={key:1},Fg={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},qg={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},Eg={class:"text-lg font-medium text-gray-900 dark:text-white"},Ig={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},zg={class:"flex space-x-3"},Mg={class:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},Og={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Pg={value:""},Bg={value:"equipment"},Hg={value:"furniture"},Gg={value:"vehicle"},Jg={value:"building"},Yg={value:"software"},Zg={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ng={value:""},Kg={value:"active"},Qg={value:"disposed"},Wg={value:"under_maintenance"},Xg={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},tm=["placeholder"],em={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},am={class:"overflow-x-auto"},rm={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},sm={class:"bg-gray-50 dark:bg-gray-700"},nm={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},om={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},lm={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},dm={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},cm={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},im={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},um={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},gm={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},mm={class:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-white"},xm={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},ym={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize"},pm={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},bm={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},km={class:"px-6 py-4 whitespace-nowrap text-center"},vm={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},fm={class:"flex items-center justify-end space-x-2"},hm=["onClick"],wm=["onClick"],_m=r({__name:"CostCenterAssetManagement",setup(t){const r=W(),{formatCurrency:s}=U(),o=e("cost-centers"),m=e(!1),f=e(!1),$=e(!1),C=e(null),D=e(null),S=e(null),V=e({category:"",status:"",search:""}),R=a(()=>r.assets.filter(t=>{const e=!V.value.category||t.category===V.value.category,a=!V.value.status||t.status===V.value.status,r=!V.value.search||t.name.toLowerCase().includes(V.value.search.toLowerCase())||t.asset_number.toLowerCase().includes(V.value.search.toLowerCase());return e&&a&&r})),L=t=>"fa"===(document.documentElement.lang||"en")&&t.name_persian?t.name_persian:t.name,A=t=>"fa"===(document.documentElement.lang||"en")&&t.name_persian?t.name_persian:t.name,T=()=>{m.value=!1,C.value=null},F=()=>{T(),r.fetchCostCenters()},q=()=>{f.value=!1,D.value=null},E=()=>{q(),r.fetchAssets()};return n(()=>{r.fetchCostCenters(),r.fetchAssets()}),(t,e)=>(l(),d("div",dg,[c("div",cg,[c("nav",ig,[c("button",{onClick:e[0]||(e[0]=t=>o.value="cost-centers"),class:w(["cost-centers"===o.value?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])},[u(g(z),{class:"w-5 h-5 inline-block mr-2"}),h(" "+i(t.$t("accounting.cost_centers")),1)],2),c("button",{onClick:e[1]||(e[1]=t=>o.value="assets"),class:w(["assets"===o.value?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])},[u(g(M),{class:"w-5 h-5 inline-block mr-2"}),h(" "+i(t.$t("accounting.assets")),1)],2)])]),"cost-centers"===o.value?(l(),d("div",ug,[c("div",gg,[c("div",mg,[c("div",null,[c("h3",xg,i(t.$t("accounting.cost_centers")),1),c("p",yg,i(t.$t("accounting.cost_centers_description")),1)]),c("div",pg,[c("button",{onClick:e[2]||(e[2]=t=>m.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.create_cost_center")),1)])])])]),c("div",bg,[c("div",kg,[c("table",vg,[c("thead",fg,[c("tr",null,[c("th",hg,i(t.$t("accounting.code")),1),c("th",wg,i(t.$t("common.name")),1),c("th",_g,i(t.$t("common.description")),1),c("th",$g,i(t.$t("common.status")),1),c("th",Cg,i(t.$t("common.actions")),1)])]),c("tbody",Dg,[(l(!0),d(k,null,v(g(r).costCenters,e=>(l(),d("tr",{key:e.id},[c("td",Ug,i(e.code),1),c("td",jg,i(L(e)),1),c("td",Sg,i(e.description||"-"),1),c("td",Vg,[c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",e.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},i(e.is_active?t.$t("common.active"):t.$t("common.inactive")),3)]),c("td",Rg,[c("div",Lg,[c("button",{onClick:t=>(t=>{C.value=t,m.value=!0})(e),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},i(t.$t("common.edit")),9,Ag)])])]))),128))])])])])])):p("",!0),"assets"===o.value?(l(),d("div",Tg,[c("div",Fg,[c("div",qg,[c("div",null,[c("h3",Eg,i(t.$t("accounting.assets")),1),c("p",Ig,i(t.$t("accounting.assets_description")),1)]),c("div",zg,[c("button",{onClick:e[3]||(e[3]=t=>f.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.create_asset")),1)])])]),c("div",Mg,[c("div",null,[c("label",Og,i(t.$t("accounting.asset_category")),1),x(c("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>V.value.category=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",Pg,i(t.$t("common.all")),1),c("option",Bg,i(t.$t("accounting.equipment")),1),c("option",Hg,i(t.$t("accounting.furniture")),1),c("option",Gg,i(t.$t("accounting.vehicle")),1),c("option",Jg,i(t.$t("accounting.building")),1),c("option",Yg,i(t.$t("accounting.software")),1)],512),[[b,V.value.category]])]),c("div",null,[c("label",Zg,i(t.$t("common.status")),1),x(c("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>V.value.status=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",Ng,i(t.$t("common.all")),1),c("option",Kg,i(t.$t("common.active")),1),c("option",Qg,i(t.$t("accounting.disposed")),1),c("option",Wg,i(t.$t("accounting.under_maintenance")),1)],512),[[b,V.value.status]])]),c("div",null,[c("label",Xg,i(t.$t("common.search")),1),x(c("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>V.value.search=t),type:"text",placeholder:t.$t("accounting.search_assets"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,8,tm),[[y,V.value.search]])])])]),c("div",em,[c("div",am,[c("table",rm,[c("thead",sm,[c("tr",null,[c("th",nm,i(t.$t("accounting.asset_number")),1),c("th",om,i(t.$t("common.name")),1),c("th",lm,i(t.$t("accounting.category")),1),c("th",dm,i(t.$t("accounting.purchase_cost")),1),c("th",cm,i(t.$t("accounting.current_value")),1),c("th",im,i(t.$t("common.status")),1),c("th",um,i(t.$t("common.actions")),1)])]),c("tbody",gm,[(l(!0),d(k,null,v(R.value,e=>(l(),d("tr",{key:e.id},[c("td",mm,i(e.asset_number),1),c("td",xm,i(A(e)),1),c("td",ym,i(t.$t(`accounting.${e.category}`)),1),c("td",pm,i(g(s)(e.purchase_cost)),1),c("td",bm,i(g(s)(e.current_value)),1),c("td",km,[c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full","active"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"disposed"===e.status?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"])},i(t.$t(`accounting.${e.status}`)),3)]),c("td",vm,[c("div",fm,[c("button",{onClick:t=>(t=>{S.value=t,$.value=!0})(e),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"},i(t.$t("common.view")),9,hm),c("button",{onClick:t=>(t=>{D.value=t,f.value=!0})(e),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},i(t.$t("common.edit")),9,wm)])])]))),128))])])])])])):p("",!0),m.value?(l(),_(Oi,{key:2,"cost-center":C.value,onClose:T,onSaved:F},null,8,["cost-center"])):p("",!0),f.value?(l(),_(ku,{key:3,asset:D.value,onClose:q,onSaved:E},null,8,["asset"])):p("",!0),$.value?(l(),_(lg,{key:4,asset:S.value,onClose:e[7]||(e[7]=t=>$.value=!1)},null,8,["asset"])):p("",!0)]))}}),$m={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Cm={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white dark:bg-gray-800"},Dm={class:"flex items-center justify-between mb-4"},Um={class:"text-lg font-medium text-gray-900 dark:text-white"},jm={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Sm={value:""},Vm={value:"vat_return"},Rm={value:"sales_tax"},Lm={value:"income_tax"},Am={class:"grid grid-cols-2 gap-4"},Tm={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Fm={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},qm={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"},Em=["disabled"],Im=r({__name:"TaxReportModal",emits:["close","generated"],setup(t,{emit:a}){const r=a,n=e(!1),o=s({report_type:"",period_start:new Date((new Date).getFullYear(),0,1).toISOString().split("T")[0],period_end:(new Date).toISOString().split("T")[0]}),p=async()=>{n.value=!0;try{await new Promise(t=>setTimeout(t,1e3));const t={id:Date.now(),report_type:o.report_type,period_start:o.period_start,period_end:o.period_end,total_sales:1e5*Math.random(),total_tax:1e4*Math.random(),status:"draft",generated_at:(new Date).toISOString(),data:{}};r("generated",t)}catch(t){}finally{n.value=!1}};return(t,e)=>(l(),d("div",$m,[c("div",Cm,[c("div",Dm,[c("h3",Um,i(t.$t("accounting.generate_tax_report")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),c("form",{onSubmit:m(p,["prevent"]),class:"space-y-4"},[c("div",null,[c("label",jm,i(t.$t("accounting.report_type"))+" * ",1),x(c("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.report_type=t),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",Sm,i(t.$t("common.select")),1),c("option",Vm,i(t.$t("accounting.vat_return")),1),c("option",Rm,i(t.$t("accounting.sales_tax_report")),1),c("option",Lm,i(t.$t("accounting.income_tax_report")),1)],512),[[b,o.report_type]])]),c("div",Am,[c("div",null,[c("label",Tm,i(t.$t("common.date_from"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.period_start=t),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,o.period_start]])]),c("div",null,[c("label",Fm,i(t.$t("common.date_to"))+" * ",1),x(c("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.period_end=t),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,512),[[y,o.period_end]])])]),c("div",qm,[c("button",{type:"button",onClick:e[4]||(e[4]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.cancel")),1),c("button",{type:"submit",disabled:n.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},i(n.value?t.$t("common.generating"):t.$t("accounting.generate_report")),9,Em)])],32)])]))}}),zm={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Mm={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800"},Om={class:"flex items-center justify-between mb-6"},Pm={class:"text-lg font-medium text-gray-900 dark:text-white"},Bm={key:0,class:"space-y-6"},Hm={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Gm={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Jm={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ym={class:"mt-1 text-sm text-gray-900 dark:text-white"},Zm={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Nm={class:"mt-1 text-sm text-gray-900 dark:text-white"},Km={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Qm={class:"mt-1 text-sm text-gray-900 dark:text-white font-semibold"},Wm={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Xm={class:"mt-1 text-sm text-gray-900 dark:text-white font-semibold"},tx={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ex={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ax={class:"mt-1 text-sm text-gray-900 dark:text-white"},rx={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},sx={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},nx={class:"text-xs overflow-x-auto"},ox={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700 mt-6"},lx=r({__name:"TaxReportDetailsModal",props:{report:{}},emits:["close"],setup(t){const{formatDate:e}=Q(),{formatCurrency:a}=U(),r=t=>{const a=new Date(t);return`${e(t)} ${a.toLocaleTimeString()}`};return(t,s)=>(l(),d("div",zm,[c("div",Mm,[c("div",Om,[c("h3",Pm,i(t.$t("accounting.tax_report_details")),1),c("button",{onClick:s[0]||(s[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),t.report?(l(),d("div",Bm,[c("div",Hm,[c("div",Gm,[c("div",null,[c("label",Jm,i(t.$t("accounting.report_type")),1),c("p",Ym,i(t.$t(`accounting.${t.report.report_type}`)),1)]),c("div",null,[c("label",Zm,i(t.$t("accounting.period")),1),c("p",Nm,i(g(e)(t.report.period_start))+" - "+i(g(e)(t.report.period_end)),1)]),c("div",null,[c("label",Km,i(t.$t("accounting.total_sales")),1),c("p",Qm,i(g(a)(t.report.total_sales)),1)]),c("div",null,[c("label",Wm,i(t.$t("accounting.total_tax")),1),c("p",Xm,i(g(a)(t.report.total_tax)),1)]),c("div",null,[c("label",tx,i(t.$t("common.status")),1),c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1","approved"===t.report.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"submitted"===t.report.status?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"])},i(t.$t(`accounting.${t.report.status}`)),3)]),c("div",null,[c("label",ex,i(t.$t("accounting.generated_at")),1),c("p",ax,i(r(t.report.generated_at)),1)])])]),c("div",null,[c("label",rx,i(t.$t("accounting.report_data")),1),c("div",sx,[c("pre",nx,i(JSON.stringify(t.report.data,null,2)),1)])])])):p("",!0),c("div",ox,[c("button",{onClick:s[1]||(s[1]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.close")),1)])])]))}}),dx={class:"space-y-6"},cx={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},ix={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},ux={class:"text-lg font-medium text-gray-900 dark:text-white"},gx={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},mx={class:"flex space-x-3"},xx={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},yx=["onClick"],px={class:"flex items-center"},bx={class:"ml-4"},kx={class:"text-lg font-medium text-gray-900 dark:text-white"},vx={class:"text-sm text-gray-500 dark:text-gray-400"},fx={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},hx={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},wx={class:"flex items-center justify-between"},_x={class:"text-lg font-medium text-gray-900 dark:text-white"},$x={class:"flex items-center space-x-2"},Cx={class:"text-sm text-gray-500 dark:text-gray-400"},Dx={key:0,class:"p-6 text-center"},Ux={class:"inline-flex items-center"},jx={key:1,class:"p-12 text-center"},Sx={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},Vx={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Rx={class:"mt-6"},Lx={key:2,class:"overflow-x-auto"},Ax={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Tx={class:"bg-gray-50 dark:bg-gray-700"},Fx={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},qx={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ex={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ix={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},zx={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Mx={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ox={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Px={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize"},Bx={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Hx={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Gx={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Jx={class:"px-6 py-4 whitespace-nowrap text-center"},Yx={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Zx={class:"flex items-center justify-end space-x-2"},Nx=["onClick"],Kx=["onClick"],Qx=["onClick"],Wx={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Xx={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},ty={class:"flex items-center"},ey={class:"flex-shrink-0"},ay={class:"ml-4"},ry={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},sy={class:"text-2xl font-bold text-gray-900 dark:text-white"},ny={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},oy={class:"flex items-center"},ly={class:"flex-shrink-0"},dy={class:"ml-4"},cy={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},iy={class:"text-2xl font-bold text-gray-900 dark:text-white"},uy={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},gy={class:"flex items-center"},my={class:"flex-shrink-0"},xy={class:"ml-4"},yy={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},py={class:"text-2xl font-bold text-gray-900 dark:text-white"},by={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},ky={class:"flex items-center"},vy={class:"flex-shrink-0"},fy={class:"ml-4"},hy={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},wy={class:"text-2xl font-bold text-gray-900 dark:text-white"},_y=r({__name:"TaxReports",setup(t){const{formatDate:r}=Q(),{formatCurrency:s}=U(),o=e(!1),m=e(!1),x=e(!1),y=e(null),b=e([{id:1,report_type:"vat_return",period_start:"2024-01-01",period_end:"2024-03-31",total_sales:15e4,total_tax:15e3,status:"approved",generated_at:"2024-04-01T10:00:00Z",data:{}},{id:2,report_type:"sales_tax",period_start:"2024-04-01",period_end:"2024-06-30",total_sales:18e4,total_tax:18e3,status:"submitted",generated_at:"2024-07-01T10:00:00Z",data:{}},{id:3,report_type:"income_tax",period_start:"2024-01-01",period_end:"2024-12-31",total_sales:5e5,total_tax:75e3,status:"draft",generated_at:"2024-12-31T10:00:00Z",data:{}}]),f=[{type:"vat_return",title:"accounting.vat_return",description:"accounting.vat_return_description",icon:B},{type:"sales_tax",title:"accounting.sales_tax_report",description:"accounting.sales_tax_description",icon:T},{type:"income_tax",title:"accounting.income_tax_report",description:"accounting.income_tax_description",icon:q}],C=a(()=>({totalCollected:b.value.reduce((t,e)=>t+e.total_tax,0),reportsSubmitted:b.value.filter(t=>"submitted"===t.status||"approved"===t.status).length,pendingReports:b.value.filter(t=>"draft"===t.status).length,approvedReports:b.value.filter(t=>"approved"===t.status).length})),D=t=>{b.value.unshift(t),m.value=!1};return n(()=>{}),(t,e)=>(l(),d("div",dx,[c("div",cx,[c("div",ix,[c("div",null,[c("h3",ux,i(t.$t("accounting.tax_reports")),1),c("p",gx,i(t.$t("accounting.tax_reports_description")),1)]),c("div",mx,[c("button",{onClick:e[0]||(e[0]=t=>m.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.generate_tax_report")),1)])])])]),c("div",xx,[(l(),d(k,null,v(f,e=>c("div",{key:e.type,onClick:t=>(async()=>{o.value=!0;try{await new Promise(t=>setTimeout(t,1e3))}catch(t){}finally{o.value=!1}})(e.type),class:"cursor-pointer bg-white dark:bg-gray-800 shadow rounded-lg p-6 hover:shadow-md transition-shadow border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"},[c("div",px,[(l(),_($(e.icon),{class:"h-8 w-8 text-blue-600 dark:text-blue-400"})),c("div",bx,[c("h4",kx,i(t.$t(e.title)),1),c("p",vx,i(t.$t(e.description)),1)])])],8,yx)),64))]),c("div",fx,[c("div",hx,[c("div",wx,[c("h4",_x,i(t.$t("accounting.generated_tax_reports")),1),c("div",$x,[c("span",Cx,i(t.$t("common.total"))+": "+i(b.value.length),1)])])]),o.value?(l(),d("div",Dx,[c("div",Ux,[e[4]||(e[4]=c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),h(" "+i(t.$t("common.loading")),1)])])):0===b.value.length?(l(),d("div",jx,[u(g(O),{class:"mx-auto h-12 w-12 text-gray-400"}),c("h3",Sx,i(t.$t("accounting.no_tax_reports")),1),c("p",Vx,i(t.$t("accounting.no_tax_reports_description")),1),c("div",Rx,[c("button",{onClick:e[1]||(e[1]=t=>m.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(g(j),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("accounting.generate_first_tax_report")),1)])])])):(l(),d("div",Lx,[c("table",Ax,[c("thead",Tx,[c("tr",null,[c("th",Fx,i(t.$t("accounting.report_type")),1),c("th",qx,i(t.$t("accounting.period")),1),c("th",Ex,i(t.$t("accounting.total_sales")),1),c("th",Ix,i(t.$t("accounting.total_tax")),1),c("th",zx,i(t.$t("common.status")),1),c("th",Mx,i(t.$t("common.actions")),1)])]),c("tbody",Ox,[(l(!0),d(k,null,v(b.value,e=>(l(),d("tr",{key:e.id},[c("td",Px,i(t.$t(`accounting.${e.report_type}`)),1),c("td",Bx,i(g(r)(e.period_start))+" - "+i(g(r)(e.period_end)),1),c("td",Hx,i(g(s)(e.total_sales)),1),c("td",Gx,i(g(s)(e.total_tax)),1),c("td",Jx,[c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full","approved"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"submitted"===e.status?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"])},i(t.$t(`accounting.${e.status}`)),3)]),c("td",Yx,[c("div",Zx,[c("button",{onClick:t=>(t=>{y.value=t,x.value=!0})(e),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"},i(t.$t("common.view")),9,Nx),c("button",{onClick:t=>(async()=>{})(),class:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"},i(t.$t("common.download")),9,Kx),"draft"===e.status?(l(),d("button",{key:0,onClick:t=>(async t=>{try{t.status="submitted"}catch(e){}})(e),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},i(t.$t("accounting.submit")),9,Qx)):p("",!0)])])]))),128))])])]))]),c("div",Wx,[c("div",Xx,[c("div",ty,[c("div",ey,[u(g(R),{class:"h-8 w-8 text-green-600"})]),c("div",ay,[c("p",ry,i(t.$t("accounting.total_tax_collected")),1),c("p",sy,i(g(s)(C.value.totalCollected)),1)])])]),c("div",ny,[c("div",oy,[c("div",ly,[u(g(O),{class:"h-8 w-8 text-blue-600"})]),c("div",dy,[c("p",cy,i(t.$t("accounting.reports_submitted")),1),c("p",iy,i(C.value.reportsSubmitted),1)])])]),c("div",uy,[c("div",gy,[c("div",my,[u(g(P),{class:"h-8 w-8 text-yellow-600"})]),c("div",xy,[c("p",yy,i(t.$t("accounting.pending_reports")),1),c("p",py,i(C.value.pendingReports),1)])])]),c("div",by,[c("div",ky,[c("div",vy,[u(g(L),{class:"h-8 w-8 text-green-600"})]),c("div",fy,[c("p",hy,i(t.$t("accounting.approved_reports")),1),c("p",wy,i(C.value.approvedReports),1)])])])]),m.value?(l(),_(Im,{key:0,onClose:e[2]||(e[2]=t=>m.value=!1),onGenerated:D})):p("",!0),x.value?(l(),_(lx,{key:1,report:y.value,onClose:e[3]||(e[3]=t=>x.value=!1)},null,8,["report"])):p("",!0)]))}}),$y={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Cy={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800"},Dy={class:"flex items-center justify-between mb-6"},Uy={class:"text-lg font-medium text-gray-900 dark:text-white"},jy={key:0,class:"space-y-4"},Sy={class:"grid grid-cols-2 gap-4"},Vy={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ry={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ly={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ay={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ty={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Fy={class:"mt-1 text-sm text-gray-900 dark:text-white"},qy={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ey={class:"mt-1 text-sm text-gray-900 dark:text-white"},Iy={key:0},zy={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},My={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded text-xs overflow-x-auto"},Oy={key:1},Py={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},By={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded text-xs overflow-x-auto"},Hy={class:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6"},Gy=r({__name:"AuditLogDetailsModal",props:{auditLog:{}},emits:["close"],setup(t){const{formatDate:e}=Q(),a=t=>{const a=new Date(t);return`${e(t)} ${a.toLocaleTimeString()}`};return(t,e)=>{var r;return l(),d("div",$y,[c("div",Cy,[c("div",Dy,[c("h3",Uy,i(t.$t("accounting.audit_log_details")),1),c("button",{onClick:e[0]||(e[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(g(D),{class:"w-6 h-6"})])]),t.auditLog?(l(),d("div",jy,[c("div",Sy,[c("div",null,[c("label",Vy,i(t.$t("common.date_time")),1),c("p",Ry,i(a(t.auditLog.created_at)),1)]),c("div",null,[c("label",Ly,i(t.$t("common.user")),1),c("p",Ay,i((null==(r=t.auditLog.user)?void 0:r.name)||"System"),1)]),c("div",null,[c("label",Ty,i(t.$t("accounting.action")),1),c("p",Fy,i(t.$t(`accounting.${t.auditLog.action}`)),1)]),c("div",null,[c("label",qy,i(t.$t("accounting.entity")),1),c("p",Ey,i(t.auditLog.auditable_type)+" (ID: "+i(t.auditLog.auditable_id)+") ",1)])]),t.auditLog.old_values?(l(),d("div",Iy,[c("label",zy,i(t.$t("accounting.old_values")),1),c("pre",My,i(JSON.stringify(t.auditLog.old_values,null,2)),1)])):p("",!0),t.auditLog.new_values?(l(),d("div",Oy,[c("label",Py,i(t.$t("accounting.new_values")),1),c("pre",By,i(JSON.stringify(t.auditLog.new_values,null,2)),1)])):p("",!0)])):p("",!0),c("div",Hy,[c("button",{onClick:e[1]||(e[1]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},i(t.$t("common.close")),1)])])])}}}),Jy={class:"space-y-6"},Yy={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Zy={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"},Ny={class:"text-lg font-medium text-gray-900 dark:text-white"},Ky={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Qy={class:"flex space-x-3"},Wy={class:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},Xy={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},tp={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ep={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ap={value:""},rp={value:"created"},sp={value:"updated"},np={value:"deleted"},op={value:"locked"},lp={value:"unlocked"},dp={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},cp={value:""},ip={value:"Transaction"},up={value:"Account"},gp={value:"Asset"},mp={value:"CostCenter"},xp={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},yp=["placeholder"],pp={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},bp={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},kp={class:"flex items-center justify-between"},vp={class:"text-lg font-medium text-gray-900 dark:text-white"},fp={class:"flex items-center space-x-2"},hp={class:"text-sm text-gray-500 dark:text-gray-400"},wp={key:0,class:"p-6 text-center"},_p={class:"inline-flex items-center"},$p={key:1,class:"p-12 text-center"},Cp={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},Dp={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Up={key:2,class:"overflow-x-auto"},jp={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Sp={class:"bg-gray-50 dark:bg-gray-700"},Vp={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Rp={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Lp={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Ap={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Tp={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Fp={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},qp={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ep={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ip={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},zp={class:"flex items-center"},Mp={class:"flex-shrink-0 h-8 w-8"},Op={class:"h-8 w-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},Pp={class:"ml-3"},Bp={class:"text-sm font-medium text-gray-900 dark:text-white"},Hp={class:"px-6 py-4 whitespace-nowrap"},Gp={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Jp={class:"font-medium"},Yp={class:"text-gray-500 dark:text-gray-400"},Zp={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white font-mono"},Np={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Kp=["onClick"],Qp={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Wp={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Xp={class:"flex items-center"},tb={class:"flex-shrink-0"},eb={class:"ml-4"},ab={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},rb={class:"text-2xl font-bold text-gray-900 dark:text-white"},sb={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},nb={class:"flex items-center"},ob={class:"flex-shrink-0"},lb={class:"ml-4"},db={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},cb={class:"text-2xl font-bold text-gray-900 dark:text-white"},ib={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},ub={class:"flex items-center"},gb={class:"flex-shrink-0"},mb={class:"ml-4"},xb={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},yb={class:"text-2xl font-bold text-gray-900 dark:text-white"},pb={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},bb={class:"flex items-center"},kb={class:"flex-shrink-0"},vb={class:"ml-4"},fb={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},hb={class:"text-2xl font-bold text-gray-900 dark:text-white"},wb=r({__name:"AuditLogViewer",setup(t){const r=W(),{formatDate:s}=Q(),o=e(!1),m=e(null),f=t=>{const e=new Date(t);return`${s(t)} ${e.toLocaleTimeString()}`},$=t=>{switch(t){case"created":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"updated":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"deleted":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"locked":case"unlocked":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},C=a(()=>{const t=r.auditLogs;return{created:t.filter(t=>"created"===t.action).length,updated:t.filter(t=>"updated"===t.action).length,deleted:t.filter(t=>"deleted"===t.action).length,locked:t.filter(t=>"locked"===t.action||"unlocked"===t.action).length}}),D=async()=>{};return n(()=>{r.fetchAuditLogs()}),(t,e)=>(l(),d("div",Jy,[c("div",Yy,[c("div",Zy,[c("div",null,[c("h3",Ny,i(t.$t("accounting.audit_logs")),1),c("p",Ky,i(t.$t("accounting.audit_logs_description")),1)]),c("div",Qy,[c("button",{onClick:D,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},[u(g(H),{class:"w-4 h-4 mr-2"}),h(" "+i(t.$t("common.export")),1)])])]),c("div",Wy,[c("div",null,[c("label",Xy,i(t.$t("common.date_from")),1),x(c("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>g(r).auditLogFilter.date_from=t),onChange:e[1]||(e[1]=t=>g(r).fetchAuditLogs()),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,544),[[y,g(r).auditLogFilter.date_from]])]),c("div",null,[c("label",tp,i(t.$t("common.date_to")),1),x(c("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>g(r).auditLogFilter.date_to=t),onChange:e[3]||(e[3]=t=>g(r).fetchAuditLogs()),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,544),[[y,g(r).auditLogFilter.date_to]])]),c("div",null,[c("label",ep,i(t.$t("accounting.action")),1),x(c("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>g(r).auditLogFilter.action=t),onChange:e[5]||(e[5]=t=>g(r).fetchAuditLogs()),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",ap,i(t.$t("common.all")),1),c("option",rp,i(t.$t("accounting.created")),1),c("option",sp,i(t.$t("accounting.updated")),1),c("option",np,i(t.$t("accounting.deleted")),1),c("option",op,i(t.$t("accounting.locked")),1),c("option",lp,i(t.$t("accounting.unlocked")),1)],544),[[b,g(r).auditLogFilter.action]])]),c("div",null,[c("label",dp,i(t.$t("accounting.entity_type")),1),x(c("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>g(r).auditLogFilter.auditable_type=t),onChange:e[7]||(e[7]=t=>g(r).fetchAuditLogs()),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},[c("option",cp,i(t.$t("common.all")),1),c("option",ip,i(t.$t("accounting.transaction")),1),c("option",up,i(t.$t("accounting.account")),1),c("option",gp,i(t.$t("accounting.asset")),1),c("option",mp,i(t.$t("accounting.cost_center")),1)],544),[[b,g(r).auditLogFilter.auditable_type]])]),c("div",null,[c("label",xp,i(t.$t("common.search")),1),x(c("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>g(r).auditLogFilter.search=t),onInput:e[9]||(e[9]=t=>g(r).fetchAuditLogs()),type:"text",placeholder:t.$t("accounting.search_audit_logs"),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"},null,40,yp),[[y,g(r).auditLogFilter.search]])])])]),c("div",pp,[c("div",bp,[c("div",kp,[c("h4",vp,i(t.$t("accounting.audit_log_entries")),1),c("div",fp,[c("span",hp,i(t.$t("common.total"))+": "+i(g(r).auditLogs.length),1)])])]),g(r).loading?(l(),d("div",wp,[c("div",_p,[e[11]||(e[11]=c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),h(" "+i(t.$t("common.loading")),1)])])):0===g(r).auditLogs.length?(l(),d("div",$p,[u(g(G),{class:"mx-auto h-12 w-12 text-gray-400"}),c("h3",Cp,i(t.$t("accounting.no_audit_logs")),1),c("p",Dp,i(t.$t("accounting.no_audit_logs_description")),1)])):(l(),d("div",Up,[c("table",jp,[c("thead",Sp,[c("tr",null,[c("th",Vp,i(t.$t("common.date_time")),1),c("th",Rp,i(t.$t("common.user")),1),c("th",Lp,i(t.$t("accounting.action")),1),c("th",Ap,i(t.$t("accounting.entity")),1),c("th",Tp,i(t.$t("accounting.ip_address")),1),c("th",Fp,i(t.$t("common.actions")),1)])]),c("tbody",qp,[(l(!0),d(k,null,v(g(r).auditLogs,e=>{var a;return l(),d("tr",{key:e.id},[c("td",Ep,i(f(e.created_at)),1),c("td",Ip,[c("div",zp,[c("div",Mp,[c("div",Op,[u(g(J),{class:"h-4 w-4 text-gray-600 dark:text-gray-300"})])]),c("div",Pp,[c("p",Bp,i((null==(a=e.user)?void 0:a.name)||"System"),1)])])]),c("td",Hp,[c("span",{class:w(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",$(e.action)])},i(t.$t(`accounting.${e.action}`)),3)]),c("td",Gp,[c("div",null,[c("p",Jp,i(e.auditable_type),1),c("p",Yp," ID: "+i(e.auditable_id),1)])]),c("td",Zp,i(e.ip_address||"-"),1),c("td",Np,[c("button",{onClick:t=>(t=>{m.value=t,o.value=!0})(e),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"},i(t.$t("common.view_details")),9,Kp)])])}),128))])])]))]),c("div",Qp,[c("div",Wp,[c("div",Xp,[c("div",tb,[u(g(Y),{class:"h-8 w-8 text-green-600"})]),c("div",eb,[c("p",ab,i(t.$t("accounting.created_entries")),1),c("p",rb,i(C.value.created),1)])])]),c("div",sb,[c("div",nb,[c("div",ob,[u(g(Z),{class:"h-8 w-8 text-blue-600"})]),c("div",lb,[c("p",db,i(t.$t("accounting.updated_entries")),1),c("p",cb,i(C.value.updated),1)])])]),c("div",ib,[c("div",ub,[c("div",gb,[u(g(V),{class:"h-8 w-8 text-red-600"})]),c("div",mb,[c("p",xb,i(t.$t("accounting.deleted_entries")),1),c("p",yb,i(C.value.deleted),1)])])]),c("div",pb,[c("div",bb,[c("div",kb,[u(g(N),{class:"h-8 w-8 text-yellow-600"})]),c("div",vb,[c("p",fb,i(t.$t("accounting.locked_entries")),1),c("p",hb,i(C.value.locked),1)])])])]),o.value?(l(),_(Gy,{key:0,"audit-log":m.value,onClose:e[10]||(e[10]=t=>o.value=!1)},null,8,["audit-log"])):p("",!0)]))}}),_b={class:"space-y-6"},$b={class:"sm:flex sm:items-center"},Cb={class:"sm:flex-auto"},Db={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Ub={class:"mt-2 text-sm text-gray-700 dark:text-gray-300"},jb={class:"border-b border-gray-200 dark:border-gray-700"},Sb={class:"-mb-px flex space-x-8","aria-label":"Tabs"},Vb=["onClick"],Rb={class:"mt-6"},Lb=r({__name:"AccountingView",setup(t){const a=e("ledger"),r=[{id:"ledger",label:"accounting.general_ledger",icon:S},{id:"transactions",label:"accounting.transactions",icon:R},{id:"reports",label:"accounting.financial_reports",icon:T},{id:"currency",label:"accounting.multi_currency",icon:K},{id:"assets",label:"accounting.cost_centers_assets",icon:z},{id:"tax",label:"accounting.tax_reports",icon:O},{id:"audit",label:"accounting.audit_logs",icon:G}];return(t,e)=>(l(),d("div",_b,[c("div",$b,[c("div",Cb,[c("h1",Db,i(t.$t("pages.accounting")),1),c("p",Ub,i(t.$t("accounting.description")),1)])]),c("div",jb,[c("nav",Sb,[(l(),d(k,null,v(r,e=>c("button",{key:e.id,onClick:t=>a.value=e.id,class:w([a.value===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])},[(l(),_($(e.icon),{class:"w-5 h-5 inline-block mr-2"})),h(" "+i(t.$t(e.label)),1)],10,Vb)),64))])]),c("div",Rb,["ledger"===a.value?(l(),_(Ye,{key:0})):"transactions"===a.value?(l(),_(on,{key:1})):"reports"===a.value?(l(),_(sc,{key:2})):"currency"===a.value?(l(),_(Ui,{key:3})):"assets"===a.value?(l(),_(_m,{key:4})):"tax"===a.value?(l(),_(_y,{key:5})):"audit"===a.value?(l(),_(wb,{key:6})):p("",!0)])]))}});export{Lb as default};
